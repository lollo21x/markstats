(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function aT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Bd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function xA(){if(uv)return Il;uv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var cv;function DA(){return cv||(cv=1,Bd.exports=xA()),Bd.exports}var E=DA(),qd={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function OA(){if(hv)return Ae;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function P(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Q={};function te(M,X,re){this.props=M,this.context=X,this.refs=Q,this.updater=re||B}te.prototype.isReactComponent={},te.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ee(M,X,re){this.props=M,this.context=X,this.refs=Q,this.updater=re||B}var ue=ee.prototype=new ne;ue.constructor=ee,K(ue,te.prototype),ue.isPureReactComponent=!0;var ce=Array.isArray;function Ee(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(M,X,re){var le=re.ref;return{$$typeof:s,type:M,key:X,ref:le!==void 0?le:null,props:re}}function V(M,X){return I(M.type,X,M.props)}function O(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function U(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return X[re]})}var C=/\/+/g;function et(M,X){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):X.toString(36)}function ut(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Ee,Ee):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,X,re,le,Te){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Le=!1;if(M===null)Le=!0;else switch(Ie){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(M.$$typeof){case s:case e:Le=!0;break;case b:return Le=M._init,H(Le(M._payload),X,re,le,Te)}}if(Le)return Te=Te(M),Le=le===""?"."+et(M,0):le,ce(Te)?(re="",Le!=null&&(re=Le.replace(C,"$&/")+"/"),H(Te,X,re,"",function(cr){return cr})):Te!=null&&(O(Te)&&(Te=V(Te,re+(Te.key==null||M&&M.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+Le)),X.push(Te)),1;Le=0;var Mt=le===""?".":le+":";if(ce(M))for(var rt=0;rt<M.length;rt++)le=M[rt],Ie=Mt+et(le,rt),Le+=H(le,X,re,Ie,Te);else if(rt=P(M),typeof rt=="function")for(M=rt.call(M),rt=0;!(le=M.next()).done;)le=le.value,Ie=Mt+et(le,rt++),Le+=H(le,X,re,Ie,Te);else if(Ie==="object"){if(typeof M.then=="function")return H(ut(M),X,re,le,Te);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ie(M,X,re){if(M==null)return M;var le=[],Te=0;return H(M,le,"","",function(Ie){return X.call(re,Ie,Te++)}),le}function de(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},qe={map:ie,forEach:function(M,X,re){ie(M,function(){X.apply(this,arguments)},re)},count:function(M){var X=0;return ie(M,function(){X++}),X},toArray:function(M){return ie(M,function(X){return X})||[]},only:function(M){if(!O(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ae.Activity=A,Ae.Children=qe,Ae.Component=te,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ee,Ae.StrictMode=r,Ae.Suspense=g,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(M){return x.H.useMemoCache(M)}},Ae.cache=function(M){return function(){return M.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(M,X,re){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var le=K({},M.props),Te=M.key;if(X!=null)for(Ie in X.key!==void 0&&(Te=""+X.key),X)!R.call(X,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&X.ref===void 0||(le[Ie]=X[Ie]);var Ie=arguments.length-2;if(Ie===1)le.children=re;else if(1<Ie){for(var Le=Array(Ie),Mt=0;Mt<Ie;Mt++)Le[Mt]=arguments[Mt+2];le.children=Le}return I(M.type,Te,le)},Ae.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ae.createElement=function(M,X,re){var le,Te={},Ie=null;if(X!=null)for(le in X.key!==void 0&&(Ie=""+X.key),X)R.call(X,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=X[le]);var Le=arguments.length-2;if(Le===1)Te.children=re;else if(1<Le){for(var Mt=Array(Le),rt=0;rt<Le;rt++)Mt[rt]=arguments[rt+2];Te.children=Mt}if(M&&M.defaultProps)for(le in Le=M.defaultProps,Le)Te[le]===void 0&&(Te[le]=Le[le]);return I(M,Ie,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:m,render:M}},Ae.isValidElement=O,Ae.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:de}},Ae.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},Ae.startTransition=function(M){var X=x.T,re={};x.T=re;try{var le=M(),Te=x.S;Te!==null&&Te(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Ee,Ue)}catch(Ie){Ue(Ie)}finally{X!==null&&re.types!==null&&(X.types=re.types),x.T=X}},Ae.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ae.use=function(M){return x.H.use(M)},Ae.useActionState=function(M,X,re){return x.H.useActionState(M,X,re)},Ae.useCallback=function(M,X){return x.H.useCallback(M,X)},Ae.useContext=function(M){return x.H.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M,X){return x.H.useDeferredValue(M,X)},Ae.useEffect=function(M,X){return x.H.useEffect(M,X)},Ae.useEffectEvent=function(M){return x.H.useEffectEvent(M)},Ae.useId=function(){return x.H.useId()},Ae.useImperativeHandle=function(M,X,re){return x.H.useImperativeHandle(M,X,re)},Ae.useInsertionEffect=function(M,X){return x.H.useInsertionEffect(M,X)},Ae.useLayoutEffect=function(M,X){return x.H.useLayoutEffect(M,X)},Ae.useMemo=function(M,X){return x.H.useMemo(M,X)},Ae.useOptimistic=function(M,X){return x.H.useOptimistic(M,X)},Ae.useReducer=function(M,X,re){return x.H.useReducer(M,X,re)},Ae.useRef=function(M){return x.H.useRef(M)},Ae.useState=function(M){return x.H.useState(M)},Ae.useSyncExternalStore=function(M,X,re){return x.H.useSyncExternalStore(M,X,re)},Ae.useTransition=function(){return x.H.useTransition()},Ae.version="19.2.0",Ae}var fv;function jm(){return fv||(fv=1,qd.exports=OA()),qd.exports}var ge=jm();const MA=aT(ge);var Hd={exports:{}},Cl={},Fd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function VA(){return dv||(dv=1,(function(s){function e(H,ie){var de=H.length;H.push(ie);e:for(;0<de;){var Ue=de-1>>>1,qe=H[Ue];if(0<o(qe,ie))H[Ue]=ie,H[de]=qe,de=Ue;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ie=H[0],de=H.pop();if(de!==ie){H[0]=de;e:for(var Ue=0,qe=H.length,M=qe>>>1;Ue<M;){var X=2*(Ue+1)-1,re=H[X],le=X+1,Te=H[le];if(0>o(re,de))le<qe&&0>o(Te,re)?(H[Ue]=Te,H[le]=de,Ue=le):(H[Ue]=re,H[X]=de,Ue=X);else if(le<qe&&0>o(Te,de))H[Ue]=Te,H[le]=de,Ue=le;else break e}}return ie}function o(H,ie){var de=H.sortIndex-ie.sortIndex;return de!==0?de:H.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,A=null,w=3,P=!1,B=!1,K=!1,Q=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ue(H){for(var ie=n(y);ie!==null;){if(ie.callback===null)r(y);else if(ie.startTime<=H)r(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(y)}}function ce(H){if(K=!1,ue(H),!B)if(n(g)!==null)B=!0,Ee||(Ee=!0,U());else{var ie=n(y);ie!==null&&ut(ce,ie.startTime-H)}}var Ee=!1,x=-1,R=5,I=-1;function V(){return Q?!0:!(s.unstable_now()-I<R)}function O(){if(Q=!1,Ee){var H=s.unstable_now();I=H;var ie=!0;try{e:{B=!1,K&&(K=!1,ne(x),x=-1),P=!0;var de=w;try{t:{for(ue(H),A=n(g);A!==null&&!(A.expirationTime>H&&V());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,w=A.priorityLevel;var qe=Ue(A.expirationTime<=H);if(H=s.unstable_now(),typeof qe=="function"){A.callback=qe,ue(H),ie=!0;break t}A===n(g)&&r(g),ue(H)}else r(g);A=n(g)}if(A!==null)ie=!0;else{var M=n(y);M!==null&&ut(ce,M.startTime-H),ie=!1}}break e}finally{A=null,w=de,P=!1}ie=void 0}}finally{ie?U():Ee=!1}}}var U;if(typeof ee=="function")U=function(){ee(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,et=C.port2;C.port1.onmessage=O,U=function(){et.postMessage(null)}}else U=function(){te(O,0)};function ut(H,ie){x=te(function(){H(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var de=w;w=ie;try{return H()}finally{w=de}},s.unstable_requestPaint=function(){Q=!0},s.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var de=w;w=H;try{return ie()}finally{w=de}},s.unstable_scheduleCallback=function(H,ie,de){var Ue=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Ue+de:Ue):de=Ue,H){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=de+qe,H={id:b++,callback:ie,priorityLevel:H,startTime:de,expirationTime:qe,sortIndex:-1},de>Ue?(H.sortIndex=de,e(y,H),n(g)===null&&H===n(y)&&(K?(ne(x),x=-1):K=!0,ut(ce,de-Ue))):(H.sortIndex=qe,e(g,H),B||P||(B=!0,Ee||(Ee=!0,U()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ie=w;return function(){var de=w;w=ie;try{return H.apply(this,arguments)}finally{w=de}}}})(Gd)),Gd}var mv;function kA(){return mv||(mv=1,Fd.exports=VA()),Fd.exports}var Kd={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function UA(){if(pv)return Wt;pv=1;var s=jm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Wt.flushSync=function(g){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=b,r.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:P}):b==="script"&&r.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);r.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Wt.requestFormReset=function(g){r.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var gv;function PA(){if(gv)return Kd.exports;gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Kd.exports=UA(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function LA(){if(yv)return Cl;yv=1;var s=kA(),e=jm(),n=PA();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case te:return"Profiler";case Q:return"StrictMode";case ce:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case ee:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var ut=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Ue=[],qe=-1;function M(t){return{current:t}}function X(t){0>qe||(t.current=Ue[qe],Ue[qe]=null,qe--)}function re(t,i){qe++,Ue[qe]=t.current,t.current=i}var le=M(null),Te=M(null),Ie=M(null),Le=M(null);function Mt(t,i){switch(re(Ie,i),re(Te,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=O_(i),t=M_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(le),re(le,t)}function rt(){X(le),X(Te),X(Ie)}function cr(t){t.memoizedState!==null&&re(Le,t);var i=le.current,a=M_(i,t.type);i!==a&&(re(Te,t),re(le,a))}function oa(t){Te.current===t&&(X(le),X(Te)),Le.current===t&&(X(Le),Al._currentValue=de)}var la,ua;function si(t){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var Ao=!1;function hr(t,i){if(!t||Ao)return"";Ao=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(G){var q=G}Reflect.construct(t,[],W)}else{try{W.call()}catch(G){q=G}t.call(W.prototype)}}else{try{throw Error()}catch(G){q=G}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),z=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===z.length)for(l=N.length-1,h=z.length-1;1<=l&&0<=h&&N[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==z[h]){var Y=`
`+N[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{Ao=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function So(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return hr(t.type,!1);case 11:return hr(t.type.render,!1);case 1:return hr(t.type,!0);case 31:return si("Activity");default:return""}}function wo(t){try{var i="",a=null;do i+=So(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,qh=s.unstable_shouldYield,fu=s.unstable_requestPaint,nn=s.unstable_now,fr=s.unstable_getCurrentPriorityLevel,Ro=s.unstable_ImmediatePriority,Io=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Hh=s.unstable_LowPriority,du=s.unstable_IdlePriority,mu=s.log,pu=s.unstable_setDisableYieldValue,qn=null,qt=null;function Rn(t){if(typeof mu=="function"&&pu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var mt=Math.clz32?Math.clz32:yu,gu=Math.log,ca=Math.LN2;function yu(t){return t>>>=0,t===0?32:31-(gu(t)/ca|0)|0}var ri=256,dr=262144,Tt=4194304;function ai(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ai(l):(_&=T,_!==0?h=ai(_):a||(a=T&~t,a!==0&&(h=ai(a))))):(T=l&~d,T!==0?h=ai(T):_!==0?h=ai(_):a||(a=l&~t,a!==0&&(h=ai(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Fh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _u(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function li(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function mr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gh(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-mt(a),W=1<<Y;T[Y]=0,N[Y]=-1;var q=z[Y];if(q!==null)for(z[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}a&=~W}l!==0&&pr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function pr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Co(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function No(t,i){var a=i&-i;return a=(a&42)!==0?1:gr(a),(a&(t.suspendedLanes|i))!==0?0:a}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function Fn(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var Gn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,ui="__reactContainer$"+Gn,ha="__reactEvents$"+Gn,Kh="__reactListeners$"+Gn,Eu="__reactHandles$"+Gn,Tu="__reactResources$"+Gn,ci="__reactMarker$"+Gn;function fa(t){delete t[bt],delete t[Lt],delete t[ha],delete t[Kh],delete t[Eu]}function hi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ui]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=z_(t);t!==null;){if(a=t[bt])return a;t=z_(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[bt]||t[ui]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function fi(t){var i=t[Tu];return i||(i=t[Tu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[ci]=!0}var xo=new Set,Do={};function di(t,i){mi(t,i),mi(t+"Capture",i)}function mi(t,i){for(Do[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Oo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function bu(t){return Et.call(Vo,t)?!0:Et.call(Mo,t)?!1:Oo.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function da(t,i,a){if(bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ds(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=ds(t)?"checked":"value";t._valueTracker=ko(t,i,""+t[i])}}function yr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ds(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _r=/[\n"\\]/g;function on(t){return t.replace(_r,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Uo(t,_,jt(i)):a!=null?Uo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Au(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Uo(t,i,a){i==="number"&&pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ms(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Su(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(ut(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function ln(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Lo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Po(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return gs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var jo=null;function Cn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ys=null,gi=null;function vr(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(r(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&yr(l)}break e;case"textarea":Su(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ms(t,!!a.multiple,i,!1)}}}var ya=!1;function _s(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(ys!==null||gi!==null)&&(vc(),ys&&(i=ys,t=gi,gi=ys=null,vr(i),t)))for(i=0;i<t.length;i++)vr(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Er=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Er=!1}var yi=null,zo=null,Tr=null;function Bo(){if(Tr)return Tr;var t,i=zo,a=i.length,l,h="value"in yi?yi.value:yi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Tr=h.slice(t,1<l?1-l:void 0)}function br(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Li(){return!0}function Yn(){return!1}function Ht(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Li:Yn,this.isPropagationStopped=Yn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),i}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ht(ji),vs=A({},ji,{view:0,detail:0}),qo=Ht(vs),Es,_a,vi,va=A({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vi&&(vi&&t.type==="mousemove"?(Es=t.screenX-vi.screenX,_a=t.screenY-vi.screenY):_a=Es=0,vi=t),Es)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Ho=Ht(va),Ar=A({},va,{dataTransfer:0}),Iu=Ht(Ar),Cu=A({},vs,{relatedTarget:0}),Sr=Ht(Cu),Fo=A({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Nu=Ht(Fo),Ea=A({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xu=Ht(Ea),Du=A({},ji,{data:0}),Ei=Ht(Du),Ou={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function Ts(){return ku}var sn=A({},vs,{key:function(t){if(t.key){var i=Ou[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=br(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(t){return t.type==="keypress"?br(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?br(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uu=Ht(sn),Pu=A({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=Ht(Pu),c=A({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),p=Ht(c),v=A({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ht(v),L=A({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(L),se=A({},ji,{newState:0,oldState:0}),we=Ht(se),pt=[9,13,27,32],He=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var xn=Nn&&"TextEvent"in window&&!at,Ti=Nn&&(!He||at&&8<at&&11>=at),$n=" ",Xn=!1;function wr(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ta(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function eb(t,i){switch(t){case"compositionend":return Ta(i);case"keypress":return i.which!==32?null:(Xn=!0,$n);case"textInput":return t=i.data,t===$n&&Xn?null:t;default:return null}}function tb(t,i){if(ba)return t==="compositionend"||!He&&wr(t,i)?(t=Bo(),Tr=zo=yi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ti&&i.locale!=="ko"?null:i.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!nb[t.type]:i==="textarea"}function Fp(t,i,a,l){ys?gi?gi.push(l):gi=[l]:ys=l,i=Rc(i,"onChange"),0<i.length&&(a=new _i("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Go=null,Ko=null;function ib(t){R_(t,0)}function Lu(t){var i=gn(t);if(yr(i))return t}function Gp(t,i){if(t==="change")return i}var Kp=!1;if(Nn){var Qh;if(Nn){var Yh="oninput"in document;if(!Yh){var Qp=document.createElement("div");Qp.setAttribute("oninput","return;"),Yh=typeof Qp.oninput=="function"}Qh=Yh}else Qh=!1;Kp=Qh&&(!document.documentMode||9<document.documentMode)}function Yp(){Go&&(Go.detachEvent("onpropertychange",$p),Ko=Go=null)}function $p(t){if(t.propertyName==="value"&&Lu(Ko)){var i=[];Fp(i,Ko,t,Cn(t)),_s(ib,i)}}function sb(t,i,a){t==="focusin"?(Yp(),Go=i,Ko=a,Go.attachEvent("onpropertychange",$p)):t==="focusout"&&Yp()}function rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(Ko)}function ab(t,i){if(t==="click")return Lu(i)}function ob(t,i){if(t==="input"||t==="change")return Lu(i)}function lb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:lb;function Qo(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Zp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Zp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pi(t.document)}return i}function $h(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ub=Nn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Xh=null,Yo=null,Wh=!1;function eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Wh||Aa==null||Aa!==pi(l)||(l=Aa,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Qo(Yo,l)||(Yo=l,l=Rc(Xh,"onSelect"),0<l.length&&(i=new _i("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Aa)))}function Rr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Zh={},tg={};Nn&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ir(t){if(Zh[t])return Zh[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return Zh[t]=i[a];return t}var ng=Ir("animationend"),ig=Ir("animationiteration"),sg=Ir("animationstart"),cb=Ir("transitionrun"),hb=Ir("transitionstart"),fb=Ir("transitioncancel"),rg=Ir("transitionend"),ag=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function Wn(t,i){ag.set(t,i),di(i,[t])}var ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],wa=0,ef=0;function zu(){for(var t=wa,i=ef=wa=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Bu(t,i,a,l){Dn[wa++]=t,Dn[wa++]=i,Dn[wa++]=a,Dn[wa++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function tf(t,i,a,l){return Bu(t,i,a,l),qu(t)}function Cr(t,i){return Bu(t,null,null,i),qu(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function qu(t){if(50<gl)throw gl=0,hd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={};function db(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new db(t,i,a,l)}function nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Hu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")nf(t)&&(_=1);else if(typeof t=="string")_=_A(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,i,h),t.elementType=I,t.lanes=d,t;case K:return Nr(a.children,h,d,i);case Q:_=8,h|=24;break;case te:return t=vn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case ce:return t=vn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case Ee:return t=vn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ee:_=10;break e;case ne:_=9;break e;case ue:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Nr(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function sf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function ug(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function rf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var cg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=cg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wo(i)},cg.set(t,i),i)}return{value:t,source:i,stack:wo(i)}}var Ia=[],Ca=0,Fu=null,$o=0,Mn=[],Vn=0,bs=null,bi=1,Ai="";function qi(t,i){Ia[Ca++]=$o,Ia[Ca++]=Fu,Fu=t,$o=i}function hg(t,i,a){Mn[Vn++]=bi,Mn[Vn++]=Ai,Mn[Vn++]=bs,bs=t;var l=bi;t=Ai;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,bi=1<<32-mt(i)+h|a<<h|l,Ai=d+t}else bi=1<<d|a<<h|l,Ai=t}function af(t){t.return!==null&&(qi(t,1),hg(t,1,0))}function of(t){for(;t===Fu;)Fu=Ia[--Ca],Ia[Ca]=null,$o=Ia[--Ca],Ia[Ca]=null;for(;t===bs;)bs=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,bi=Mn[--Vn],Mn[Vn]=null}function fg(t,i){Mn[Vn++]=bi,Mn[Vn++]=Ai,Mn[Vn++]=bs,bi=i.id,Ai=i.overflow,bs=t}var Ft=null,nt=null,Pe=!1,As=null,kn=!1,lf=Error(r(519));function Ss(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(On(i,t)),lf}function dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)xe(_l[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Au(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),ps(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ss(t,!0)}function mg(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ft=Ft.return}}function Na(t){if(t!==Ft)return!1;if(!Pe)return mg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rd(t.type,t.memoizedProps)),a=!a),a&&nt&&Ss(t),mg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=j_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=j_(t)}else i===27?(i=nt,Ls(t.type)?(t=Dd,Dd=null,nt=t):nt=i):nt=Ft?Pn(t.stateNode.nextSibling):null;return!0}function xr(){nt=Ft=null,Pe=!1}function uf(){var t=As;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),As=null),t}function Xo(t){As===null?As=[t]:As.push(t)}var cf=M(null),Dr=null,Hi=null;function ws(t,i,a){re(cf,i._currentValue),i._currentValue=a}function Fi(t){t._currentValue=cf.current,X(cf)}function hf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),hf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),hf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&ff(i,t,a,l),i.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Or(t){Dr=t,Hi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return pg(Dr,t)}function Ku(t,i){return Dr===null&&Or(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(t===null)throw Error(r(308));Hi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Hi=Hi.next=i;return a}var mb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pb=s.unstable_scheduleCallback,gb=s.unstable_NormalPriority,wt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new mb,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&pb(gb,function(){t.controller.abort()})}var Zo=null,mf=0,Da=0,Oa=null;function yb(t,i){if(Zo===null){var a=Zo=[];mf=0,Da=yd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,i.then(gg,gg),i}function gg(){if(--mf===0&&Zo!==null){Oa!==null&&(Oa.status="fulfilled");var t=Zo;Zo=null,Da=0,Oa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _b(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=H.S;H.S=function(t,i){e_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&yb(t,i),yg!==null&&yg(t,i)};var Mr=M(null);function pf(){var t=Mr.current;return t!==null?t:Je.pooledCache}function Qu(t,i){i===null?re(Mr,Mr.current):re(Mr,i.pool)}function _g(){var t=pf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ma=Error(r(460)),gf=Error(r(474)),Yu=Error(r(542)),$u={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw kr=i,Ma}}function Vr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Ma):a}}var kr=null;function Tg(){if(kr===null)throw Error(r(459));var t=kr;return kr=null,t}function bg(t){if(t===Ma||t===Yu)throw Error(r(483))}var Va=null,Jo=0;function Xu(t){var i=Jo;return Jo+=1,Va===null&&(Va=[]),Eg(Va,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===w?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ag(t){function i(k,D){if(t){var j=k.deletions;j===null?(k.deletions=[D],k.flags|=16):j.push(D)}}function a(k,D){if(!t)return null;for(;D!==null;)i(k,D),D=D.sibling;return null}function l(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=Bi(k,D),k.index=0,k.sibling=null,k}function d(k,D,j){return k.index=j,t?(j=k.alternate,j!==null?(j=j.index,j<D?(k.flags|=67108866,D):j):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function _(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,j,$){return D===null||D.tag!==6?(D=sf(j,k.mode,$),D.return=k,D):(D=h(D,j),D.return=k,D)}function N(k,D,j,$){var me=j.type;return me===K?Y(k,D,j.props.children,$,j.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Vr(me)===D.type)?(D=h(D,j.props),el(D,j),D.return=k,D):(D=Hu(j.type,j.key,j.props,null,k.mode,$),el(D,j),D.return=k,D)}function z(k,D,j,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=rf(j,k.mode,$),D.return=k,D):(D=h(D,j.children||[]),D.return=k,D)}function Y(k,D,j,$,me){return D===null||D.tag!==7?(D=Nr(j,k.mode,$,me),D.return=k,D):(D=h(D,j),D.return=k,D)}function W(k,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=sf(""+D,k.mode,j),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case P:return j=Hu(D.type,D.key,D.props,null,k.mode,j),el(j,D),j.return=k,j;case B:return D=rf(D,k.mode,j),D.return=k,D;case R:return D=Vr(D),W(k,D,j)}if(ut(D)||U(D))return D=Nr(D,k.mode,j,null),D.return=k,D;if(typeof D.then=="function")return W(k,Xu(D),j);if(D.$$typeof===ee)return W(k,Ku(k,D),j);Wu(k,D)}return null}function q(k,D,j,$){var me=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return me!==null?null:T(k,D,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return j.key===me?N(k,D,j,$):null;case B:return j.key===me?z(k,D,j,$):null;case R:return j=Vr(j),q(k,D,j,$)}if(ut(j)||U(j))return me!==null?null:Y(k,D,j,$,null);if(typeof j.then=="function")return q(k,D,Xu(j),$);if(j.$$typeof===ee)return q(k,D,Ku(k,j),$);Wu(k,j)}return null}function G(k,D,j,$,me){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(j)||null,T(D,k,""+$,me);if(typeof $=="object"&&$!==null){switch($.$$typeof){case P:return k=k.get($.key===null?j:$.key)||null,N(D,k,$,me);case B:return k=k.get($.key===null?j:$.key)||null,z(D,k,$,me);case R:return $=Vr($),G(k,D,j,$,me)}if(ut($)||U($))return k=k.get(j)||null,Y(D,k,$,me,null);if(typeof $.then=="function")return G(k,D,j,Xu($),me);if($.$$typeof===ee)return G(k,D,j,Ku(D,$),me);Wu(D,$)}return null}function he(k,D,j,$){for(var me=null,ze=null,fe=D,Ce=D=0,Oe=null;fe!==null&&Ce<j.length;Ce++){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Be=q(k,fe,j[Ce],$);if(Be===null){fe===null&&(fe=Oe);break}t&&fe&&Be.alternate===null&&i(k,fe),D=d(Be,D,Ce),ze===null?me=Be:ze.sibling=Be,ze=Be,fe=Oe}if(Ce===j.length)return a(k,fe),Pe&&qi(k,Ce),me;if(fe===null){for(;Ce<j.length;Ce++)fe=W(k,j[Ce],$),fe!==null&&(D=d(fe,D,Ce),ze===null?me=fe:ze.sibling=fe,ze=fe);return Pe&&qi(k,Ce),me}for(fe=l(fe);Ce<j.length;Ce++)Oe=G(fe,k,Ce,j[Ce],$),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ce:Oe.key),D=d(Oe,D,Ce),ze===null?me=Oe:ze.sibling=Oe,ze=Oe);return t&&fe.forEach(function(Hs){return i(k,Hs)}),Pe&&qi(k,Ce),me}function ye(k,D,j,$){if(j==null)throw Error(r(151));for(var me=null,ze=null,fe=D,Ce=D=0,Oe=null,Be=j.next();fe!==null&&!Be.done;Ce++,Be=j.next()){fe.index>Ce?(Oe=fe,fe=null):Oe=fe.sibling;var Hs=q(k,fe,Be.value,$);if(Hs===null){fe===null&&(fe=Oe);break}t&&fe&&Hs.alternate===null&&i(k,fe),D=d(Hs,D,Ce),ze===null?me=Hs:ze.sibling=Hs,ze=Hs,fe=Oe}if(Be.done)return a(k,fe),Pe&&qi(k,Ce),me;if(fe===null){for(;!Be.done;Ce++,Be=j.next())Be=W(k,Be.value,$),Be!==null&&(D=d(Be,D,Ce),ze===null?me=Be:ze.sibling=Be,ze=Be);return Pe&&qi(k,Ce),me}for(fe=l(fe);!Be.done;Ce++,Be=j.next())Be=G(fe,k,Ce,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&fe.delete(Be.key===null?Ce:Be.key),D=d(Be,D,Ce),ze===null?me=Be:ze.sibling=Be,ze=Be);return t&&fe.forEach(function(NA){return i(k,NA)}),Pe&&qi(k,Ce),me}function Ze(k,D,j,$){if(typeof j=="object"&&j!==null&&j.type===K&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case P:e:{for(var me=j.key;D!==null;){if(D.key===me){if(me=j.type,me===K){if(D.tag===7){a(k,D.sibling),$=h(D,j.props.children),$.return=k,k=$;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Vr(me)===D.type){a(k,D.sibling),$=h(D,j.props),el($,j),$.return=k,k=$;break e}a(k,D);break}else i(k,D);D=D.sibling}j.type===K?($=Nr(j.props.children,k.mode,$,j.key),$.return=k,k=$):($=Hu(j.type,j.key,j.props,null,k.mode,$),el($,j),$.return=k,k=$)}return _(k);case B:e:{for(me=j.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(k,D.sibling),$=h(D,j.children||[]),$.return=k,k=$;break e}else{a(k,D);break}else i(k,D);D=D.sibling}$=rf(j,k.mode,$),$.return=k,k=$}return _(k);case R:return j=Vr(j),Ze(k,D,j,$)}if(ut(j))return he(k,D,j,$);if(U(j)){if(me=U(j),typeof me!="function")throw Error(r(150));return j=me.call(j),ye(k,D,j,$)}if(typeof j.then=="function")return Ze(k,D,Xu(j),$);if(j.$$typeof===ee)return Ze(k,D,Ku(k,j),$);Wu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(a(k,D.sibling),$=h(D,j),$.return=k,k=$):(a(k,D),$=sf(j,k.mode,$),$.return=k,k=$),_(k)):a(k,D)}return function(k,D,j,$){try{Jo=0;var me=Ze(k,D,j,$);return Va=null,me}catch(fe){if(fe===Ma||fe===Yu)throw fe;var ze=vn(29,fe,null,k.mode);return ze.lanes=$,ze.return=k,ze}finally{}}}var Ur=Ag(!0),Sg=Ag(!1),Rs=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Is(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cs(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(t),og(t,null,a),i}return Bu(t,l,i,a),qu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}function vf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ef=!1;function nl(){if(Ef){var t=Oa;if(t!==null)throw t}}function il(t,i,a,l){Ef=!1;var h=t.updateQueue;Rs=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,_===null?d=z:_.next=z,_=N;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=z:T.next=z,Y.lastBaseUpdate=N))}if(d!==null){var W=h.baseState;_=0,Y=z=N=null,T=d;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(De&q)===q:(l&q)===q){q!==0&&q===Da&&(Ef=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,ye=T;q=i;var Ze=a;switch(ye.tag){case 1:if(he=ye.payload,typeof he=="function"){W=he.call(Ze,W,q);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=ye.payload,q=typeof he=="function"?he.call(Ze,W,q):he,q==null)break e;W=A({},W,q);break e;case 2:Rs=!0}}q=T.callback,q!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(z=Y=G,N=W):Y=Y.next=G,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(N=W),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Ms|=_,t.lanes=_,t.memoizedState=W}}function wg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Rg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],i)}var ka=M(null),Zu=M(0);function Ig(t,i){t=Ji,re(Zu,t),re(ka,i),Ji=t|i.baseLanes}function Tf(){re(Zu,Ji),re(ka,ka.current)}function bf(){Ji=Zu.current,X(ka),X(Zu)}var En=M(null),Un=null;function Ns(t){var i=t.alternate;re(gt,gt.current&1),re(En,t),Un===null&&(i===null||ka.current!==null||i.memoizedState!==null)&&(Un=t)}function Af(t){re(gt,gt.current),re(En,t),Un===null&&(Un=t)}function Cg(t){t.tag===22?(re(gt,gt.current),re(En,t),Un===null&&(Un=t)):xs()}function xs(){re(gt,gt.current),re(En,En.current)}function Tn(t){X(En),Un===t&&(Un=null),X(gt)}var gt=M(0);function Ju(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Nd(a)||xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Gi=0,Re=null,Xe=null,Rt=null,ec=!1,Ua=!1,Pr=!1,tc=0,sl=0,Pa=null,vb=0;function ct(){throw Error(r(321))}function Sf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function wf(t,i,a,l,h,d){return Gi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=t===null||t.memoizedState===null?hy:zf,Pr=!1,d=a(l,h),Pr=!1,Ua&&(d=xg(i,a,l,h)),Ng(t),d}function Ng(t){H.H=ol;var i=Xe!==null&&Xe.next!==null;if(Gi=0,Rt=Xe=Re=null,ec=!1,sl=0,Pa=null,i)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&Gu(t)&&(It=!0))}function xg(t,i,a,l){Re=t;var h=0;do{if(Ua&&(Pa=null),sl=0,Ua=!1,25<=h)throw Error(r(301));if(h+=1,Rt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=fy,d=i(a,l)}while(Ua);return d}function Eb(){var t=H.H,i=t.useState()[0];return i=typeof i.then=="function"?rl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Re.flags|=1024),i}function Rf(){var t=tc!==0;return tc=0,t}function If(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Cf(t){if(ec){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ec=!1}Gi=0,Rt=Xe=Re=null,Ua=!1,sl=tc=0,Pa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Xe===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,Xe=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var i=sl;return sl+=1,Pa===null&&(Pa=[]),t=Eg(Pa,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?hy:zf),t}function ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ee)return Gt(t)}throw Error(r(438,String(t)))}function Nf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=nc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Ki(t,i){return typeof i=="function"?i(t):i}function sc(t){var i=yt();return xf(i,Xe,t)}function xf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,N=null,z=i,Y=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(De&W)===W:(Gi&W)===W){var q=z.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Da&&(Y=!0);else if((Gi&q)===q){z=z.next,q===Da&&(Y=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=W,_=d):N=N.next=W,Re.lanes|=q,Ms|=q;W=z.action,Pr&&a(d,W),d=z.hasEagerState?z.eagerState:a(d,W)}else q={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=q,_=d):N=N.next=q,Re.lanes|=W,Ms|=W;z=z.next}while(z!==null&&z!==i);if(N===null?_=d:N.next=T,!_n(d,t.memoizedState)&&(It=!0,Y&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Df(t){var i=yt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(t,i,a){var l=Re,h=yt(),d=Pe;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!_n((Xe||h).memoizedState,a);if(_&&(h.memoizedState=a,It=!0),h=h.queue,Vf(Vg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,La(9,{destroy:void 0},Mg.bind(null,l,h,a,i),null),Je===null)throw Error(r(349));d||(Gi&127)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=nc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mg(t,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Ug(t)}function Vg(t,i,a){return a(function(){kg(i)&&Ug(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Ug(t){var i=Cr(t,2);i!==null&&dn(i,t,2)}function Of(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Pr){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},i}function Pg(t,i,a,l){return t.baseState=a,xf(t,Xe,typeof l=="function"?l:Ki)}function Tb(t,i,a,l,h){if(oc(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};H.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=H.T,_={};H.T=_;try{var T=a(h,l),N=H.S;N!==null&&N(_,T),jg(t,i,T)}catch(z){Mf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),H.T=d}}else try{d=a(h,l),jg(t,i,d)}catch(z){Mf(t,i,z)}}function jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return Mf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Lg(t,a)))}function Mf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function qg(t,i){return i}function Hg(t,i){if(Pe){var a=Je.formState;if(a!==null){e:{var l=Re;if(Pe){if(nt){t:{for(var h=nt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Pn(h.nextSibling),l=h.data==="F!";break e}}Ss(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qg,lastRenderedState:i},a.queue=l,a=ly.bind(null,Re,l),l.dispatch=a,l=Of(!1),d=jf.bind(null,Re,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Tb.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=yt();return Gg(i,Xe,t)}function Gg(t,i,a){if(i=xf(t,i,qg)[0],t=sc(Ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(_){throw _===Ma?Yu:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,La(9,{destroy:void 0},bb.bind(null,h,a),null)),[l,d,t]}function bb(t,i){t.action=i}function Kg(t){var i=yt(),a=Xe;if(a!==null)return Gg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function La(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=nc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Qg(){return yt().memoizedState}function rc(t,i,a,l){var h=rn();Re.flags|=t,h.memoizedState=La(1|i,{destroy:void 0},a,l===void 0?null:l)}function ac(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Sf(l,Xe.memoizedState.deps)?h.memoizedState=La(i,d,a,l):(Re.flags|=t,h.memoizedState=La(1|i,d,a,l))}function Yg(t,i){rc(8390656,8,t,i)}function Vf(t,i){ac(2048,8,t,i)}function Ab(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=nc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function $g(t){var i=yt().memoizedState;return Ab({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Xg(t,i){return ac(4,2,t,i)}function Wg(t,i){return ac(4,4,t,i)}function Zg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Jg(t,i,a){a=a!=null?a.concat([t]):null,ac(4,4,Zg.bind(null,i,t),a)}function kf(){}function ey(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Sf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function ty(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Sf(i,l[1]))return l[0];if(l=t(),Pr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function Uf(t,i,a){return a===void 0||(Gi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Re.lanes|=t,Ms|=t,a)}function ny(t,i,a,l){return _n(a,i)?a:ka.current!==null?(t=Uf(t,a,l),_n(t,i)||(It=!0),t):(Gi&42)===0||(Gi&1073741824)!==0&&(De&261930)===0?(It=!0,t.memoizedState=a):(t=n_(),Re.lanes|=t,Ms|=t,i)}function iy(t,i,a,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var _=H.T,T={};H.T=T,jf(t,!1,i,a);try{var N=h(),z=H.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=_b(N,l);al(t,i,Y,Sn(t))}else al(t,i,l,Sn(t))}catch(W){al(t,i,{then:function(){},status:"rejected",reason:W},Sn())}finally{ie.p=d,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function Sb(){}function Pf(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=sy(t).queue;iy(t,h,i,de,a===null?Sb:function(){return ry(t),a(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ry(t){var i=sy(t);i.next===null&&(i=t.alternate.memoizedState),al(t,i.next.queue,{},Sn())}function Lf(){return Gt(Al)}function ay(){return yt().memoizedState}function oy(){return yt().memoizedState}function wb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Sn();t=Is(a);var l=Cs(i,t,a);l!==null&&(dn(l,i,a),tl(l,i,a)),i={cache:df()},t.payload=i;return}i=i.return}}function Rb(t,i,a){var l=Sn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oc(t)?uy(i,a):(a=tf(t,i,a,l),a!==null&&(dn(a,t,l),cy(a,i,l)))}function ly(t,i,a){var l=Sn();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oc(t))uy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,_n(T,_))return Bu(t,i,h,0),Je===null&&zu(),!1}catch{}finally{}if(a=tf(t,i,h,l),a!==null)return dn(a,t,l),cy(a,i,l),!0}return!1}function jf(t,i,a,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oc(t)){if(i)throw Error(r(479))}else i=tf(t,a,l,2),i!==null&&dn(i,t,2)}function oc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function uy(t,i){Ua=ec=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function cy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Co(t,a)}}var ol={readContext:Gt,use:ic,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};ol.useEffectEvent=ct;var hy={readContext:Gt,use:ic,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:Yg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,rc(4194308,4,Zg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return rc(4194308,4,t,i)},useInsertionEffect:function(t,i){rc(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Pr){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Pr){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Rb.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,a=ly.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,i){var a=rn();return Uf(a,t,i)},useTransition:function(){var t=Of(!1);return t=iy.bind(null,Re,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=rn();if(Pe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),Je===null)throw Error(r(349));(De&127)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Yg(Vg.bind(null,l,d,t),[t]),l.flags|=2048,La(9,{destroy:void 0},Mg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Je.identifierPrefix;if(Pe){var a=Ai,l=bi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=tc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=vb++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Lf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Nf,useCacheRefresh:function(){return rn().memoizedState=wb.bind(null,Re)},useEffectEvent:function(t){var i=rn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},zf={readContext:Gt,use:ic,useCallback:ey,useContext:Gt,useEffect:Vf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ty,useReducer:sc,useRef:Qg,useState:function(){return sc(Ki)},useDebugValue:kf,useDeferredValue:function(t,i){var a=yt();return ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=sc(Ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Lf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=yt();return Pg(a,Xe,t,i)},useMemoCache:Nf,useCacheRefresh:oy};zf.useEffectEvent=$g;var fy={readContext:Gt,use:ic,useCallback:ey,useContext:Gt,useEffect:Vf,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:Wg,useMemo:ty,useReducer:Df,useRef:Qg,useState:function(){return Df(Ki)},useDebugValue:kf,useDeferredValue:function(t,i){var a=yt();return Xe===null?Uf(a,t,i):ny(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Df(Ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:Dg,useId:ay,useHostTransitionStatus:Lf,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,i){var a=yt();return Xe!==null?Pg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:oy};fy.useEffectEvent=$g;function Bf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Is(l);h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,l),i!==null&&(dn(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Sn(),h=Is(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Cs(t,h,l),i!==null&&(dn(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Sn(),l=Is(a);l.tag=2,i!=null&&(l.callback=i),i=Cs(t,l,a),i!==null&&(dn(i,t,a),tl(i,t,a))}};function dy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Qo(a,l)||!Qo(h,d):!0}function my(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&qf.enqueueReplaceState(i,i.state,null)}function Lr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function py(t){ju(t)}function gy(t){console.error(t)}function yy(t){ju(t)}function lc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,i,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,i)},a}function vy(t){return t=Is(t),t.tag=3,t}function Ey(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){_y(i,a,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Ib(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&xa(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Ec():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),md(t,l,h)),!1;case 22:return a.flags|=65536,l===$u?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),md(t,l,h)),!1}throw Error(r(435,a.tag))}return md(t,l,h),Ec(),!1}if(Pe)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==lf&&(t=Error(r(422),{cause:l}),Xo(On(t,a)))):(l!==lf&&(i=Error(r(423),{cause:l}),Xo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Hf(t.stateNode,l,h),vf(t,h),ht!==4&&(ht=2)),!1;var d=Error(r(520),{cause:l});if(d=On(d,a),pl===null?pl=[d]:pl.push(d),ht!==4&&(ht=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,l,t),vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Vs===null||!Vs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=vy(h),Ey(h,t,a,l),vf(a,h),!1}a=a.return}while(a!==null);return!1}var Ff=Error(r(461)),It=!1;function Kt(t,i,a,l){i.child=t===null?Sg(i,null,a,l):Ur(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Or(i),l=wf(t,i,a,_,d,h),T=Rf(),t!==null&&!It?(If(t,i,h),Qi(t,i,h)):(Pe&&T&&af(i),i.flags|=1,Kt(t,i,l,h),i.child)}function by(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ay(t,i,d,l,h)):(t=Hu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Qo,a(_,l)&&t.ref===i.ref)return Qi(t,i,h)}return i.flags|=1,t=Bi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ay(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Qo(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,Zf(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Qi(t,i,h)}return Gf(t,i,a,l,h)}function Sy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return wy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,d!==null?d.cachePool:null),d!==null?Ig(i,d):Tf(),Cg(i);else return l=i.lanes=536870912,wy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Qu(i,d.cachePool),Ig(i,d),xs(),i.memoizedState=null):(t!==null&&Qu(i,null),Tf(),xs());return Kt(t,i,h,a),i.child}function ll(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wy(t,i,a,l,h){var d=pf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Qu(i,null),Tf(),Cg(i),t!==null&&xa(t,i,l,!0),i.childLanes=h,null}function uc(t,i){return i=hc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ry(t,i,a){return Ur(i,t.child,null,a),t=uc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function Cb(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(l.mode==="hidden")return t=uc(i,l),i.lanes=536870912,ll(null,t);if(Af(i),(t=nt)?(t=L_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Ss(i);return i.lanes=536870912,null}return uc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Af(i),h)if(i.flags&256)i.flags&=-257,i=Ry(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(It||xa(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=Je,l!==null&&(_=No(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Cr(t,_),dn(l,t,_),Ff;Ec(),i=Ry(t,i,a)}else t=d.treeContext,nt=Pn(_.nextSibling),Ft=i,Pe=!0,As=null,kn=!1,t!==null&&fg(i,t),i=uc(i,l),i.flags|=4096;return i}return t=Bi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Gf(t,i,a,l,h){return Or(i),a=wf(t,i,a,l,void 0,h),l=Rf(),t!==null&&!It?(If(t,i,h),Qi(t,i,h)):(Pe&&l&&af(i),i.flags|=1,Kt(t,i,a,h),i.child)}function Iy(t,i,a,l,h,d){return Or(i),i.updateQueue=null,a=xg(i,l,a,h),Ng(t),l=Rf(),t!==null&&!It?(If(t,i,d),Qi(t,i,d)):(Pe&&l&&af(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Cy(t,i,a,l,h){if(Or(i),i.stateNode===null){var d=Ra,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},yf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):Ra,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Bf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&qf.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Lr(a,T);d.props=N;var z=d.context,Y=a.contextType;_=Ra,typeof Y=="object"&&Y!==null&&(_=Gt(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==_)&&my(i,d,l,_),Rs=!1;var q=i.memoizedState;d.state=q,il(i,l,d,h),nl(),z=i.memoizedState,T||q!==z||Rs?(typeof W=="function"&&(Bf(i,a,W,l),z=i.memoizedState),(N=Rs||dy(i,a,N,l,q,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,_f(t,i),_=i.memoizedProps,Y=Lr(a,_),d.props=Y,W=i.pendingProps,q=d.context,z=a.contextType,N=Ra,typeof z=="object"&&z!==null&&(N=Gt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==N)&&my(i,d,l,N),Rs=!1,q=i.memoizedState,d.state=q,il(i,l,d,h),nl();var G=i.memoizedState;_!==W||q!==G||Rs||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof T=="function"&&(Bf(i,a,T,l),G=i.memoizedState),(Y=Rs||dy(i,a,Y,l,q,G,N)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=N,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ur(i,t.child,null,h),i.child=Ur(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Qi(t,i,h),t}function Ny(t,i,a,l){return xr(),i.flags|=256,Kt(t,i,a,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:_g()}}function Yf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Ns(i):xs(),(t=nt)?(t=L_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:bs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=ug(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Ss(i);return xd(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(xs(),h=i.mode,T=hc({mode:"hidden",children:T},h),l=Nr(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,_,a),i.memoizedState=Kf,ll(null,l)):(Ns(i),$f(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Ns(i),i.flags&=-257,i=Xf(t,i,a)):i.memoizedState!==null?(xs(),i.child=t.child,i.flags|=128,i=null):(xs(),T=l.fallback,h=i.mode,l=hc({mode:"visible",children:l.children},h),T=Nr(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Ur(i,t.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Yf(t,_,a),i.memoizedState=Kf,i=ll(null,l));else if(Ns(i),xd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(r(419)),l.stack="",l.digest=_,Xo({value:l,source:null,stack:null}),i=Xf(t,i,a)}else if(It||xa(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=Je,_!==null&&(l=No(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Cr(t,l),dn(_,t,l),Ff;Nd(T)||Ec(),i=Xf(t,i,a)}else Nd(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=Pn(T.nextSibling),Ft=i,Pe=!0,As=null,kn=!1,t!==null&&fg(i,t),i=$f(i,l.children),i.flags|=4096);return i}return h?(xs(),T=l.fallback,h=i.mode,N=t.child,z=N.sibling,l=Bi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=Bi(z,T):(T=Nr(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,ll(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Qf(a):(h=T.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=_g(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Yf(t,_,a),i.memoizedState=Kf,ll(t.child,l)):(Ns(i),a=t.child,t=a.sibling,a=Bi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function $f(t,i){return i=hc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Xf(t,i,a){return Ur(i,t.child,null,a),t=$f(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),hf(t.return,i,a)}function Wf(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,re(gt,_),Kt(t,i,l,a),l=Pe?$o:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dy(t,a,i);else if(t.tag===19)Dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Ju(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Ju(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d,l);break;case"together":Wf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ms|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(xa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Bi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Bi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Nb(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),ws(i,wt,t.memoizedState.cache),xr();break;case 27:case 5:cr(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:ws(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Af(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(Ns(i),t=Qi(t,i,a),t!==null?t.sibling:null);Ns(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(xa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Sy(t,i,a,i.pendingProps);case 24:ws(i,wt,t.memoizedState.cache)}return Qi(t,i,a)}function My(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return It=!1,Nb(t,i,a);It=(t.flags&131072)!==0}else It=!1,Pe&&(i.flags&1048576)!==0&&hg(i,$o,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Vr(i.elementType),i.type=t,typeof t=="function")nf(t)?(l=Lr(t,l),i.tag=1,i=Cy(null,i,t,l,a)):(i.tag=0,i=Gf(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){i.tag=11,i=Ty(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=by(null,i,t,l,a);break e}}throw i=et(t)||t,Error(r(306,i,""))}}return i;case 0:return Gf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Lr(l,i.pendingProps),Cy(t,i,l,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,_f(t,i),il(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ws(i,wt,l),l!==d.cache&&ff(i,[wt],a,!0),nl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ny(t,i,l,a);break e}else if(l!==h){h=On(Error(r(424)),i),Xo(h),i=Ny(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Pn(t.firstChild),Ft=i,Pe=!0,As=null,kn=!0,a=Sg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(xr(),l===h){i=Qi(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return cc(t,i),t===null?(a=F_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,l=Ic(Ie.current).createElement(a),l[bt]=i,l[Lt]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=F_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return cr(i),t===null&&Pe&&(l=i.stateNode=B_(i.type,i.pendingProps,Ie.current),Ft=i,kn=!0,h=nt,Ls(i.type)?(Dd=h,nt=Pn(l.firstChild)):nt=h),Kt(t,i,i.pendingProps.children,a),cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=l=nt)&&(l=rA(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,Ft=i,nt=Pn(l.firstChild),kn=!1,h=!0):h=!1),h||Ss(i)),cr(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Rd(h,d)?l=null:_!==null&&Rd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=wf(t,i,Eb,null,null,a),Al._currentValue=h),cc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Pe&&((t=a=nt)&&(a=aA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||Ss(i)),null;case 13:return xy(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ur(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ws(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Or(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return by(t,i,i.type,i.pendingProps,a);case 15:return Ay(t,i,i.type,i.pendingProps,a);case 19:return Oy(t,i,a);case 31:return Cb(t,i,a);case 22:return Sy(t,i,a,i.pendingProps);case 24:return Or(i),l=Gt(wt),t===null?(h=pf(),h===null&&(h=Je,d=df(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},yf(i),ws(i,wt,h)):((t.lanes&a)!==0&&(_f(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ws(i,wt,l)):(l=d.cache,ws(i,wt,l),l!==h.cache&&ff(i,[wt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Yi(t){t.flags|=4}function Jf(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw kr=$u,gf}else t.flags&=-16777217}function Vy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$_(i))if(a_())t.flags|=8192;else throw kr=$u,gf}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_u():536870912,t.lanes|=i,qa|=i)}function ul(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function xb(t,i,a){var l=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Fi(wt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Yi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,uf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Yi(i),d!==null?(it(i),Vy(i,d)):(it(i),Jf(i,h,null,l,a))):d?d!==t.memoizedState?(Yi(i),it(i),Vy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Yi(i),it(i),Jf(i,h,t,l,a)),null;case 27:if(oa(i),a=Ie.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=le.current,Na(i)?dg(i):(t=B_(h,l,a),i.stateNode=t,Yi(i))}return it(i),null;case 5:if(oa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(d=le.current,Na(i))dg(i);else{var _=Ic(Ie.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Yi(i)}}return it(i),Jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ie.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Ss(i,!0)}else t=Ic(t).createTextNode(l),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[bt]=i}else xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[bt]=i}else xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=uf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),it(i),null);case 4:return rt(),t===null&&Td(i.stateNode.containerInfo),it(i),null;case 10:return Fi(i.type),it(i),null;case 19:if(X(gt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ul(l,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Ju(t),d!==null){for(i.flags|=128,ul(l,!1),t=d.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)lg(a,t),a=a.sibling;return re(gt,gt.current&1|2),Pe&&qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>yc&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304)}else{if(!h)if(t=Ju(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),ul(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pe)return it(i),null}else 2*nn()-l.renderingStartTime>yc&&a!==536870912&&(i.flags|=128,h=!0,ul(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,re(gt,h?a&1|2:a&1),Pe&&qi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Tn(i),bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&X(Mr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(wt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Db(t,i){switch(of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fi(wt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(r(340));xr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));xr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(gt),null;case 4:return rt(),null;case 10:return Fi(i.type),null;case 22:case 23:return Tn(i),bf(),t!==null&&X(Mr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fi(wt),null;case 25:return null;default:return null}}function ky(t,i){switch(of(i),i.tag){case 3:Fi(wt),rt();break;case 26:case 27:case 5:oa(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:X(gt);break;case 10:Fi(i.type);break;case 22:case 23:Tn(i),bf(),t!==null&&X(Mr);break;case 24:Fi(wt)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ye(i,i.return,T)}}function Ds(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var N=a,z=T;try{z()}catch(Y){Ye(h,N,Y)}}}l=l.next}while(l!==d)}}catch(Y){Ye(i,i.return,Y)}}function Uy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Rg(i,a)}catch(l){Ye(t,t.return,l)}}}function Py(t,i,a){a.props=Lr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ye(t,i,l)}}function hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ye(t,i,h)}}function Si(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ye(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ye(t,i,h)}else a.current=null}function Ly(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ye(t,t.return,h)}}function ed(t,i,a){try{var l=t.stateNode;Jb(l,t.type,a,i),l[Lt]=i}catch(h){Ye(t,t.return,h)}}function jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ls(t.type)||t.tag===4}function td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ls(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Ls(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(nd(t,i,a),t=t.sibling;t!==null;)nd(t,i,a),t=t.sibling}function dc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Ls(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,i,a),t=t.sibling;t!==null;)dc(t,i,a),t=t.sibling}function zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Ye(t,t.return,d)}}var $i=!1,Ct=!1,id=!1,By=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Ob(t,i){if(t=t.containerInfo,Sd=Vc,t=Jp(t),$h(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,z=0,Y=0,W=t,q=null;t:for(;;){for(var G;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(N=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(G=W.firstChild)!==null;)q=W,W=G;for(;;){if(W===t)break t;if(q===a&&++z===h&&(T=_),q===d&&++Y===l&&(N=_),(G=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=G}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(wd={focusedElem:t,selectionRange:a},Vc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Lr(a.type,h);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ye(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Cd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function qy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&cl(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ye(a,a.return,_)}else{var h=Lr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ye(a,a.return,_)}}l&64&&Uy(a),l&512&&hl(a,a.return);break;case 3:if(Wi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Rg(t,i)}catch(_){Ye(a,a.return,_)}}break;case 27:i===null&&l&4&&zy(a);case 26:case 5:Wi(t,a),i===null&&l&4&&Ly(a),l&512&&hl(a,a.return);break;case 12:Wi(t,a);break;case 31:Wi(t,a),l&4&&Gy(t,a);break;case 13:Wi(t,a),l&4&&Ky(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bb.bind(null,a),oA(t,a))));break;case 22:if(l=a.memoizedState!==null||$i,!l){i=i!==null&&i.memoizedState!==null||Ct,h=$i;var d=Ct;$i=l,(Ct=i)&&!d?Zi(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),$i=h,Ct=d}break;case 30:break;default:Wi(t,a)}}function Hy(t){var i=t.alternate;i!==null&&(t.alternate=null,Hy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function Xi(t,i,a){for(a=a.child;a!==null;)Fy(t,i,a),a=a.sibling}function Fy(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ct||Si(a,i),Xi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Si(a,i);var l=ot,h=un;Ls(a.type)&&(ot=a.stateNode,un=!1),Xi(t,i,a),El(a.stateNode),ot=l,un=h;break;case 5:Ct||Si(a,i);case 6:if(l=ot,h=un,ot=null,Xi(t,i,a),ot=l,un=h,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ye(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ye(a,i,d)}break;case 18:ot!==null&&(un?(t=ot,U_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):U_(ot,a.stateNode));break;case 4:l=ot,h=un,ot=a.stateNode.containerInfo,un=!0,Xi(t,i,a),ot=l,un=h;break;case 0:case 11:case 14:case 15:Ds(2,a,i),Ct||Ds(4,a,i),Xi(t,i,a);break;case 1:Ct||(Si(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Py(a,i,l)),Xi(t,i,a);break;case 21:Xi(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Xi(t,i,a),Ct=l;break;default:Xi(t,i,a)}}function Gy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){Ye(i,i.return,a)}}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){Ye(i,i.return,a)}}function Mb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(r(435,t.tag))}}function mc(t,i){var a=Mb(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=qb.bind(null,t,l);l.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ls(T.type)){ot=T.stateNode,un=!1;break e}break;case 5:ot=T.stateNode,un=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ot===null)throw Error(r(160));Fy(d,_,h),ot=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Qy(i,t),i=i.sibling}var Zn=null;function Qy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),l&4&&(Ds(3,t,t.return),cl(3,t),Ds(5,t,t.return));break;case 1:cn(i,t),hn(t),l&512&&(Ct||a===null||Si(a,a.return)),l&64&&$i&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(cn(i,t),hn(t),l&512&&(Ct||a===null||Si(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ci]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[bt]=t,At(d),l=d;break e;case"link":var _=Q_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=Q_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[bt]=t,At(d),l=d}t.stateNode=l}else Y_(h,t.type,t.stateNode);else t.stateNode=K_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Y_(h,t.type,t.stateNode):K_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),l&512&&(Ct||a===null||Si(a,a.return)),a!==null&&l&4&&ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),l&512&&(Ct||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{ln(h,"")}catch(he){Ye(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(cn(i,t),hn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ye(t,t.return,he)}}break;case 3:if(xc=null,h=Zn,Zn=Cc(i.containerInfo),cn(i,t),Zn=h,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(he){Ye(t,t.return,he)}id&&(id=!1,Yy(t));break;case 4:l=Zn,Zn=Cc(t.stateNode.containerInfo),cn(i,t),hn(t),Zn=l;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mc(t,l)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=$i,Y=Ct;if($i=z||h,Ct=Y||N,cn(i,t),Ct=Y,$i=z,hn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||$i||Ct||jr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,q=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(he){Ye(N,N.return,he)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){Ye(N,N.return,he)}}}else if(i.tag===18){if(a===null){N=i;try{var G=N.stateNode;h?P_(G,!0):P_(N.stateNode,!1)}catch(he){Ye(N,N.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mc(t,a))));break;case 19:cn(i,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mc(t,l)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(jy(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=td(t);dc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var T=td(t);dc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=td(t);nd(t,z,N);break;default:throw Error(r(161))}}catch(Y){Ye(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Yy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Yy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)qy(t,i.alternate,i),i=i.sibling}function jr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ds(4,i,i.return),jr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Py(i,i.return,a),jr(i);break;case 27:El(i.stateNode);case 26:case 5:Si(i,i.return),jr(i);break;case 22:i.memoizedState===null&&jr(i);break;case 30:jr(i);break;default:jr(i)}t=t.sibling}}function Zi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Zi(h,d,a),cl(4,d);break;case 1:if(Zi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ye(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)wg(N[h],T)}catch(z){Ye(l,l.return,z)}}a&&_&64&&Uy(d),hl(d,d.return);break;case 27:zy(d);case 26:case 5:Zi(h,d,a),a&&l===null&&_&4&&Ly(d),hl(d,d.return);break;case 12:Zi(h,d,a);break;case 31:Zi(h,d,a),a&&_&4&&Gy(h,d);break;case 13:Zi(h,d,a),a&&_&4&&Ky(h,d);break;case 22:d.memoizedState===null&&Zi(h,d,a),hl(d,d.return);break;case 30:break;default:Zi(h,d,a)}i=i.sibling}}function sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function rd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$y(t,i,a,l),i=i.sibling}function $y(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&cl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Ye(i,i.return,N)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):fl(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sd(_,i);break;case 24:Jn(t,i,a,l),h&2048&&rd(i.alternate,i);break;default:Jn(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,N=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,N,h),cl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?ja(d,_,T,N,h):fl(d,_):(Y._visibility|=2,ja(d,_,T,N,h)),h&&z&2048&&sd(_.alternate,_);break;case 24:ja(d,_,T,N,h),h&&z&2048&&rd(_.alternate,_);break;default:ja(d,_,T,N,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&sd(l.alternate,l);break;case 24:fl(a,l),h&2048&&rd(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function za(t,i,a){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Xy(t,i,a),t=t.sibling}function Xy(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&dl&&t.memoizedState!==null&&vA(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=Zn;Zn=Cc(t.stateNode.containerInfo),za(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=dl,dl=16777216,za(t,i,a),dl=l):za(t,i,a));break;default:za(t,i,a)}}function Wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Jy(l,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zy(t),t=t.sibling}function Zy(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,pc(t)):ml(t);break;default:ml(t)}}function pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,Jy(l,t)}Wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ds(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}t=t.sibling}}function Jy(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ds(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(Hy(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var Vb={getCacheForType:function(t){var i=Gt(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(wt).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,Ne=null,De=0,Qe=0,bn=null,Os=!1,Ba=!1,ad=!1,Ji=0,ht=0,Ms=0,zr=0,od=0,An=0,qa=0,pl=null,fn=null,ld=!1,gc=0,e_=0,yc=1/0,_c=null,Vs=null,kt=0,ks=null,Ha=null,es=0,ud=0,cd=null,t_=null,gl=0,hd=null;function Sn(){return(Fe&2)!==0&&De!==0?De&-De:H.T!==null?yd():vu()}function n_(){if(An===0)if((De&536870912)===0||Pe){var t=dr;dr<<=1,(dr&3932160)===0&&(dr=262144),An=t}else An=536870912;return t=En.current,t!==null&&(t.flags|=32),An}function dn(t,i,a){(t===Je&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Us(t,De,An,!1)),mr(t,a),((Fe&2)===0||t!==Je)&&(t===Je&&((Fe&2)===0&&(zr|=a),ht===4&&Us(t,De,An,!1)),wi(t))}function i_(t,i,a){if((Fe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=l?Lb(t,i):dd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&Us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Ub(a)){h=dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=pl;var N=T.current.memoizedState.isDehydrated;if(N&&(Fa(T,_).flags|=256),_=dd(T,_,!1),_!==2){if(ad&&!N){T.errorRecoveryDisabledLanes|=d,zr|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Us(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Us(l,i,An,!Os);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=gc+300-nn(),10<h)){if(Us(l,i,An,!Os),oi(l,0,!0)!==0)break e;es=i,l.timeoutHandle=V_(s_.bind(null,l,a,fn,_c,ld,i,An,zr,qa,Os,d,"Throttled",-0,0),h);break e}s_(l,a,fn,_c,ld,i,An,zr,qa,Os,d,null,-0,0)}}break}while(!0);wi(t)}function s_(t,i,a,l,h,d,_,T,N,z,Y,W,q,G){if(t.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Xy(i,d,W);var he=(d&62914560)===d?gc-nn():(d&4194048)===d?e_-nn():0;if(he=EA(W,he),he!==null){es=d,t.cancelPendingCommit=he(f_.bind(null,t,i,d,a,l,h,_,T,N,Y,W,null,q,G)),Us(t,d,_,!z);return}}f_(t,i,d,a,l,h,_,T,N)}function Ub(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Us(t,i,a,l){i&=~od,i&=~zr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&pr(t,a,i)}function vc(){return(Fe&6)===0?(yl(0),!1):!0}function fd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Hi=Dr=null,Cf(t),Va=null,Jo=0,t=Ne;for(;t!==null;)ky(t.alternate,t),t=t.return;Ne=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),es=0,fd(),Je=t,Ne=a=Bi(t.current,null),De=i,Qe=0,bn=null,Os=!1,Ba=Hn(t,i),ad=!1,qa=An=od=zr=Ms=ht=0,fn=pl=null,ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,zu(),a}function r_(t,i){Re=null,H.H=ol,i===Ma||i===Yu?(i=Tg(),Qe=3):i===gf?(i=Tg(),Qe=4):Qe=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ne===null&&(ht=1,lc(t,On(i,t.current)))}function a_(){var t=En.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function o_(){var t=H.H;return H.H=ol,t===null?ol:t}function l_(){var t=H.A;return H.A=Vb,t}function Ec(){ht=4,Os||(De&4194048)!==De&&En.current!==null||(Ba=!0),(Ms&134217727)===0&&(zr&134217727)===0||Je===null||Us(Je,De,An,!1)}function dd(t,i,a){var l=Fe;Fe|=2;var h=o_(),d=l_();(Je!==t||De!==i)&&(_c=null,Fa(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var T=Ne,N=bn;switch(Qe){case 8:fd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Qe;if(Qe=0,bn=null,Ga(t,T,N,z),a&&Ba){_=0;break e}break;default:z=Qe,Qe=0,bn=null,Ga(t,T,N,z)}}Pb(),_=ht;break}catch(Y){r_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Hi=Dr=null,Fe=l,H.H=h,H.A=d,Ne===null&&(Je=null,De=0,zu()),_}function Pb(){for(;Ne!==null;)u_(Ne)}function Lb(t,i){var a=Fe;Fe|=2;var l=o_(),h=l_();Je!==t||De!==i?(_c=null,yc=nn()+500,Fa(t,i)):Ba=Hn(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,Ga(t,i,d,1);break;case 2:case 9:if(vg(d)){Qe=0,bn=null,c_(i);break}i=function(){Qe!==2&&Qe!==9||Je!==t||(Qe=7),wi(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:vg(d)?(Qe=0,bn=null,c_(i)):(Qe=0,bn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(_?$_(_):T.stateNode.complete){Qe=0,bn=null;var N=T.sibling;if(N!==null)Ne=N;else{var z=T.return;z!==null?(Ne=z,Tc(z)):Ne=null}break t}}Qe=0,bn=null,Ga(t,i,d,5);break;case 6:Qe=0,bn=null,Ga(t,i,d,6);break;case 8:fd(),ht=6;break e;default:throw Error(r(462))}}jb();break}catch(Y){r_(t,Y)}while(!0);return Hi=Dr=null,H.H=l,H.A=h,Fe=a,Ne!==null?0:(Je=null,De=0,zu(),ht)}function jb(){for(;Ne!==null&&!qh();)u_(Ne)}function u_(t){var i=My(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Tc(t):Ne=i}function c_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Cf(i);default:ky(a,i),i=Ne=lg(i,Ji),i=My(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Tc(t):Ne=i}function Ga(t,i,a,l){Hi=Dr=null,Cf(i),Va=null,Jo=0;var h=i.return;try{if(Ib(t,h,i,a,De)){ht=1,lc(t,On(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,lc(t,On(a,t.current)),Ne=null;return}i.flags&32768?(Pe||l===1?t=!0:Ba||(De&536870912)!==0?t=!1:(Os=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(i,t)):Tc(i)}function Tc(t){var i=t;do{if((i.flags&32768)!==0){h_(i,Os);return}t=i.return;var a=xb(i.alternate,i,Ji);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function h_(t,i){do{var a=Db(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function f_(t,i,a,l,h,d,_,T,N){t.cancelPendingCommit=null;do bc();while(kt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=ef,Gh(t,a,d,_,T,N),t===Je&&(Ne=Je=null,De=0),Ha=i,ks=t,es=a,ud=d,cd=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Hb(fs,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=ie.p,ie.p=2,_=Fe,Fe|=4;try{Ob(t,i,a)}finally{Fe=_,ie.p=h,H.T=l}}kt=1,d_(),m_(),p_()}}function d_(){if(kt===1){kt=0;var t=ks,i=Ha,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{Qy(i,t);var d=wd,_=Jp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Zp(T.ownerDocument.documentElement,T)){if(N!==null&&$h(T)){var z=N.start,Y=N.end;if(Y===void 0&&(Y=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Y,T.value.length);else{var W=T.ownerDocument||document,q=W&&W.defaultView||window;if(q.getSelection){var G=q.getSelection(),he=T.textContent.length,ye=Math.min(N.start,he),Ze=N.end===void 0?ye:Math.min(N.end,he);!G.extend&&ye>Ze&&(_=Ze,Ze=ye,ye=_);var k=Wp(T,ye),D=Wp(T,Ze);if(k&&D&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var j=W.createRange();j.setStart(k.node,k.offset),G.removeAllRanges(),ye>Ze?(G.addRange(j),G.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),G.addRange(j))}}}}for(W=[],G=T;G=G.parentNode;)G.nodeType===1&&W.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var $=W[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Vc=!!Sd,wd=Sd=null}finally{Fe=h,ie.p=l,H.T=a}}t.current=i,kt=2}}function m_(){if(kt===2){kt=0;var t=ks,i=Ha,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=ie.p;ie.p=2;var h=Fe;Fe|=4;try{qy(t,i.alternate,i)}finally{Fe=h,ie.p=l,H.T=a}}kt=3}}function p_(){if(kt===4||kt===3){kt=0,fu();var t=ks,i=Ha,a=es,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?kt=5:(kt=0,Ha=ks=null,g_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Vs=null),Pi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{H.T=i,ie.p=h}}(es&3)!==0&&bc(),wi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===hd?gl++:(gl=0,hd=t):gl=0,yl(0)}}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function bc(){return d_(),m_(),p_(),y_()}function y_(){if(kt!==5)return!1;var t=ks,i=ud;ud=0;var a=Pi(es),l=H.T,h=ie.p;try{ie.p=32>a?32:a,H.T=null,a=cd,cd=null;var d=ks,_=es;if(kt=0,Ha=ks=null,es=0,(Fe&6)!==0)throw Error(r(331));var T=Fe;if(Fe|=4,Zy(d.current),$y(d,d.current,_,a),Fe=T,yl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ie.p=h,H.T=l,g_(t,i)}}function __(t,i,a){i=On(a,i),i=Hf(t.stateNode,i,2),t=Cs(t,i,2),t!==null&&(mr(t,2),wi(t))}function Ye(t,i,a){if(t.tag===3)__(t,t,a);else for(;i!==null;){if(i.tag===3){__(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){t=On(a,t),a=vy(2),l=Cs(i,a,2),l!==null&&(Ey(a,l,i,t),mr(l,2),wi(l));break}}i=i.return}}function md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new kb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ad=!0,h.add(a),t=zb.bind(null,t,i,a),i.then(t,t))}function zb(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>nn()-gc?(Fe&2)===0&&Fa(t,0):od|=a,qa===De&&(qa=0)),wi(t)}function v_(t,i){i===0&&(i=_u()),t=Cr(t,i),t!==null&&(mr(t,i),wi(t))}function Bb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),v_(t,a)}function qb(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),v_(t,a)}function Hb(t,i){return Vt(t,i)}var Ac=null,Ka=null,pd=!1,Sc=!1,gd=!1,Ps=0;function wi(t){t!==Ka&&t.next===null&&(Ka===null?Ac=Ka=t:Ka=Ka.next=t),Sc=!0,pd||(pd=!0,Gb())}function yl(t,i){if(!gd&&Sc){gd=!0;do for(var a=!1,l=Ac;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,A_(l,d))}else d=De,d=oi(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Hn(l,d)||(a=!0,A_(l,d));l=l.next}while(a);gd=!1}}function Fb(){E_()}function E_(){Sc=pd=!1;var t=0;Ps!==0&&tA()&&(t=Ps);for(var i=nn(),a=null,l=Ac;l!==null;){var h=l.next,d=T_(l,i);d===0?(l.next=null,a===null?Ac=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Sc=!0)),l=h}kt!==0&&kt!==5||yl(t),Ps!==0&&(Ps=0)}function T_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Fh(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=De,a=oi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&hs(l),Pi(a)){case 2:case 8:a=Io;break;case 32:a=fs;break;case 268435456:a=du;break;default:a=fs}return l=b_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&hs(l),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,i){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bc()&&t.callbackNode!==a)return null;var l=De;return l=oi(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),T_(t,nn()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function A_(t,i){if(bc())return null;i_(t,i,!0)}function Gb(){iA(function(){(Fe&6)!==0?Vt(Ro,Fb):E_()})}function yd(){if(Ps===0){var t=Da;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ps=t}return Ps}function S_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function w_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kb(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?S_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new _i("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var N=_?w_(h,_):new FormData(h);Pf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?w_(h,_):new FormData(h),Pf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var _d=0;_d<Jh.length;_d++){var vd=Jh[_d],Qb=vd.toLowerCase(),Yb=vd[0].toUpperCase()+vd.slice(1);Wn(Qb,"on"+Yb)}Wn(ng,"onAnimationEnd"),Wn(ig,"onAnimationIteration"),Wn(sg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(cb,"onTransitionRun"),Wn(hb,"onTransitionStart"),Wn(fb,"onTransitionCancel"),Wn(rg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$b=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function R_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Y){ju(Y)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,z=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(Y){ju(Y)}h.currentTarget=null,d=N}}}}function xe(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(I_(i,t,2,!1),a.add(l))}function Ed(t,i,a){var l=0;i&&(l|=4),I_(a,t,l,i)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[wc]){t[wc]=!0,xo.forEach(function(a){a!=="selectionchange"&&($b.has(a)||Ed(a,!1,t),Ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[wc]||(i[wc]=!0,Ed("selectionchange",!1,i))}}function I_(t,i,a,l){switch(nv(i)){case 2:var h=AA;break;case 8:h=SA;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!Er||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=hi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}_s(function(){var z=d,Y=Cn(a),W=[];e:{var q=ag.get(t);if(q!==void 0){var G=_i,he=t;switch(t){case"keypress":if(br(a)===0)break e;case"keydown":case"keyup":G=Uu;break;case"focusin":he="focus",G=Sr;break;case"focusout":he="blur",G=Sr;break;case"beforeblur":case"afterblur":G=Sr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Iu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=p;break;case ng:case ig:case sg:G=Nu;break;case rg:G=S;break;case"scroll":case"scrollend":G=qo;break;case"wheel":G=F;break;case"copy":case"cut":case"paste":G=xu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zi;break;case"toggle":case"beforetoggle":G=we}var ye=(i&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),k=ye?q!==null?q+"Capture":null:q;ye=[];for(var D=z,j;D!==null;){var $=D;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||k===null||($=Qn(D,k),$!=null&&ye.push(vl(D,$,j))),Ze)break;D=D.return}0<ye.length&&(q=new G(q,he,null,a,Y),W.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",q&&a!==jo&&(he=a.relatedTarget||a.fromElement)&&(hi(he)||he[ui]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(he=a.relatedTarget||a.toElement,G=z,he=he?hi(he):null,he!==null&&(Ze=u(he),ye=he.tag,he!==Ze||ye!==5&&ye!==27&&ye!==6)&&(he=null)):(G=null,he=z),G!==he)){if(ye=Ho,$="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ye=zi,$="onPointerLeave",k="onPointerEnter",D="pointer"),Ze=G==null?q:gn(G),j=he==null?q:gn(he),q=new ye($,D+"leave",G,a,Y),q.target=Ze,q.relatedTarget=j,$=null,hi(Y)===z&&(ye=new ye(k,D+"enter",he,a,Y),ye.target=j,ye.relatedTarget=Ze,$=ye),Ze=$,G&&he)t:{for(ye=Xb,k=G,D=he,j=0,$=k;$;$=ye($))j++;$=0;for(var me=D;me;me=ye(me))$++;for(;0<j-$;)k=ye(k),j--;for(;0<$-j;)D=ye(D),$--;for(;j--;){if(k===D||D!==null&&k===D.alternate){ye=k;break t}k=ye(k),D=ye(D)}ye=null}else ye=null;G!==null&&C_(W,q,G,ye,!1),he!==null&&Ze!==null&&C_(W,Ze,he,ye,!0)}}e:{if(q=z?gn(z):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var ze=Gp;else if(Hp(q))if(Kp)ze=ob;else{ze=rb;var fe=sb}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&pa(z.elementType)&&(ze=Gp):ze=ab;if(ze&&(ze=ze(t,z))){Fp(W,ze,a,Y);break e}fe&&fe(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&Uo(q,"number",q.value)}switch(fe=z?gn(z):window,t){case"focusin":(Hp(fe)||fe.contentEditable==="true")&&(Aa=fe,Xh=z,Yo=null);break;case"focusout":Yo=Xh=Aa=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,eg(W,a,Y);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":eg(W,a,Y)}var Ce;if(He)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else ba?wr(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ti&&a.locale!=="ko"&&(ba||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ba&&(Ce=Bo()):(yi=Y,zo="value"in yi?yi.value:yi.textContent,ba=!0)),fe=Rc(z,Oe),0<fe.length&&(Oe=new Ei(Oe,t,null,a,Y),W.push({event:Oe,listeners:fe}),Ce?Oe.data=Ce:(Ce=Ta(a),Ce!==null&&(Oe.data=Ce)))),(Ce=xn?eb(t,a):tb(t,a))&&(Oe=Rc(z,"onBeforeInput"),0<Oe.length&&(fe=new Ei("onBeforeInput","beforeinput",null,a,Y),W.push({event:fe,listeners:Oe}),fe.data=Ce)),Kb(W,t,z,a,Y)}R_(W,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(vl(t,h,d)),h=Qn(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Xb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=Qn(a,d),z!=null&&_.unshift(vl(a,z,N))):h||(z=Qn(a,d),z!=null&&_.push(vl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Wb=/\r\n?/g,Zb=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(Wb,`
`).replace(Zb,"")}function x_(t,i){return i=N_(i),N_(t)===i}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&ln(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Lo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),da(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ru.get(a)||a,da(t,a,l))}}function Ad(t,i,a,l,h,d){switch(a){case"style":Lo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Do.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,d,_,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var T=d=_=h=null,N=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:We(t,i,l,Y,a,null)}}Au(t,d,T,N,z,_,h,!1);return;case"select":xe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:We(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?ms(t,!!l,i,!1):a!=null&&ms(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:We(t,i,_,T,a,null)}ps(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,N,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)xe(_l[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:We(t,i,z,l,a,null)}return;default:if(pa(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Ad(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&We(t,i,T,l,a,null))}function Jb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,N=null,z=null,Y=null;for(G in a){var W=a[G];if(a.hasOwnProperty(G)&&W!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(G)||We(t,i,G,null,l,W)}}for(var q in l){var G=l[q];if(W=a[q],l.hasOwnProperty(q)&&(G!=null||W!=null))switch(q){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==W&&We(t,i,q,G,l,W)}}ma(t,_,T,N,z,Y,d,h);return;case"select":G=_=T=q=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||We(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&We(t,i,h,d,l,N)}i=T,a=_,l=G,q!=null?ms(t,!!a,q,!1):!!l!=!!a&&(i!=null?ms(t,!!a,i,!0):ms(t,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:We(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&We(t,i,_,h,l,d)}Su(t,q,G);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,q)}for(N in l)if(q=l[N],G=a[N],l.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,i,N,q,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&We(t,i,ye,null,l,q);for(z in l)if(q=l[z],G=a[z],l.hasOwnProperty(z)&&q!==G&&(q!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,i));break;default:We(t,i,z,q,l,G)}return;default:if(pa(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&Ad(t,i,Ze,void 0,l,q);for(Y in l)q=l[Y],G=a[Y],!l.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||Ad(t,i,Y,q,l,G);return}}for(var k in a)q=a[k],a.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&We(t,i,k,null,l,q);for(W in l)q=l[W],G=a[W],!l.hasOwnProperty(W)||q===G||q==null&&G==null||We(t,i,W,q,l,G)}function D_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&D_(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],z=N.startTime;if(z>T)break;var Y=N.transferSize,W=N.initiatorType;Y&&D_(W)&&(N=N.responseEnd,_+=Y*(N<T?1:(T-z)/(N-z)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sd=null,wd=null;function Ic(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Rd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=null;function tA(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(t){return k_.resolve(null).then(t).catch(sA)}:V_;function sA(t){setTimeout(function(){throw t})}function Ls(t){return t==="head"}function U_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")El(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,El(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&El(t.ownerDocument.body);a=h}while(a);Xa(i)}function P_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Cd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Cd(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ci])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function aA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function L_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Nd(t){return t.data==="$?"||t.data==="$~"}function xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Dd=null;function j_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function B_(t,i,a){switch(i=Ic(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function El(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var Ln=new Map,q_=new Set;function Cc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ts=ie.d;ie.d={f:lA,r:uA,D:cA,C:hA,L:fA,m:dA,X:pA,S:mA,M:gA};function lA(){var t=ts.f(),i=vc();return t||i}function uA(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?ry(i):ts.r(t)}var Qa=typeof document>"u"?null:document;function H_(t,i,a){var l=Qa;if(l&&typeof i=="string"&&i){var h=on(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),q_.has(h)||(q_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function cA(t){ts.D(t),H_("dns-prefetch",t,null)}function hA(t,i){ts.C(t,i),H_("preconnect",t,i)}function fA(t,i,a){ts.L(t,i,a);var l=Qa;if(l&&t&&i){var h='link[rel="preload"][as="'+on(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+on(a.imageSizes)+'"]')):h+='[href="'+on(t)+'"]';var d=h;switch(i){case"style":d=Ya(t);break;case"script":d=$a(t)}Ln.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function dA(t,i){ts.m(t,i);var a=Qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=$a(t)}if(!Ln.has(d)&&(t=A({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function mA(t,i,a){ts.S(t,i,a);var l=Qa;if(l&&t){var h=fi(l).hoistableStyles,d=Ya(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Tl(d)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&Od(t,a);var N=_=l.createElement("link");At(N),Qt(N,"link",t),N._p=new Promise(function(z,Y){N.onload=z,N.onerror=Y}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function pA(t,i){ts.X(t,i);var a=Qa;if(a&&t){var l=fi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=A({src:t,async:!0},i),(i=Ln.get(h))&&Md(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function gA(t,i){ts.M(t,i);var a=Qa;if(a&&t){var l=fi(a).hoistableScripts,h=$a(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Md(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function F_(t,i,a,l){var h=(h=Ie.current)?Cc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ya(a.href),a=fi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=fi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Tl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||yA(h,t,a,_.state))),i&&l===null)throw Error(r(528,""));return _}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=$a(a),a=fi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ya(t){return'href="'+on(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function yA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function $a(t){return'[src="'+on(t)+'"]'}function bl(t){return"script[async]"+t}function K_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",h),Nc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=G_(a),(h=Ln.get(h))&&Od(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Nc(d,a.precedence,t),i.instance=d;case"script":return d=$a(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,At(h),h):(l=a,(h=Ln.get(d))&&(l=A({},a),Md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Nc(l,a.precedence,t));return i.instance}function Nc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var xc=null;function Q_(t,i,a){if(xc===null){var l=new Map,h=xc=new Map;h.set(a,l)}else h=xc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ci]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function Y_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function _A(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function $_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ya(l.href),d=i.querySelector(Tl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Dc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=G_(l),(h=Ln.get(h))&&Od(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Dc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Vd=0;function EA(t,i){return t.stylesheets&&t.count===0&&Mc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Vd===0&&(Vd=62500*eA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Mc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Vd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Mc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,i.forEach(TA,t),Oc=null,Dc.call(t))}function TA(t,i){if(!(i.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:ee,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function bA(t,i,a,l,h,d,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=li(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=li(0),this.hiddenUpdates=li(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function X_(t,i,a,l,h,d,_,T,N,z,Y,W){return t=new bA(t,i,a,_,N,z,Y,W,T),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=df(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},yf(d),t}function W_(t){return t?(t=Ra,t):Ra}function Z_(t,i,a,l,h,d){h=W_(h),l.context===null?l.context=h:l.pendingContext=h,l=Is(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cs(t,l,i),a!==null&&(dn(a,t,i),tl(a,t,i))}function J_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kd(t,i){J_(t,i),(t=t.alternate)&&J_(t,i)}function ev(t){if(t.tag===13||t.tag===31){var i=Cr(t,67108864);i!==null&&dn(i,t,67108864),kd(t,67108864)}}function tv(t){if(t.tag===13||t.tag===31){var i=Sn();i=gr(i);var a=Cr(t,i);a!==null&&dn(a,t,i),kd(t,i)}}var Vc=!0;function AA(t,i,a,l){var h=H.T;H.T=null;var d=ie.p;try{ie.p=2,Ud(t,i,a,l)}finally{ie.p=d,H.T=h}}function SA(t,i,a,l){var h=H.T;H.T=null;var d=ie.p;try{ie.p=8,Ud(t,i,a,l)}finally{ie.p=d,H.T=h}}function Ud(t,i,a,l){if(Vc){var h=Pd(l);if(h===null)bd(t,i,l,kc,a),iv(t,l);else if(RA(h,t,i,a,l))l.stopPropagation();else if(iv(t,l),i&4&&-1<wA.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ai(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-mt(_);T.entanglements[1]|=N,_&=~N}wi(d),(Fe&6)===0&&(yc=nn()+500,yl(0))}}break;case 31:case 13:T=Cr(d,2),T!==null&&dn(T,d,2),vc(),kd(d,2)}if(d=Pd(l),d===null&&bd(t,i,l,kc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else bd(t,i,l,null,a)}}function Pd(t){return t=Cn(t),Ld(t)}var kc=null;function Ld(t){if(kc=null,t=hi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return kc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fr()){case Ro:return 2;case Io:return 8;case fs:case Hh:return 32;case du:return 268435456;default:return 32}default:return 32}}var jd=!1,js=null,zs=null,Bs=null,Sl=new Map,wl=new Map,qs=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,i){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(i.pointerId)}}function Rl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function RA(t,i,a,l,h){switch(i){case"focusin":return js=Rl(js,t,i,a,l,h),!0;case"dragenter":return zs=Rl(zs,t,i,a,l,h),!0;case"mouseover":return Bs=Rl(Bs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Rl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wl.set(d,Rl(wl.get(d)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=hi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=In(a),i!==null&&ev(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){Uc(t)&&a.delete(i)}function IA(){jd=!1,js!==null&&Uc(js)&&(js=null),zs!==null&&Uc(zs)&&(zs=null),Bs!==null&&Uc(Bs)&&(Bs=null),Sl.forEach(rv),wl.forEach(rv)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,IA)))}var Lc=null;function av(t){Lc!==t&&(Lc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,Pf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(N){return Pc(N,t)}js!==null&&Pc(js,t),zs!==null&&Pc(zs,t),Bs!==null&&Pc(Bs,t),Sl.forEach(i),wl.forEach(i);for(var a=0;a<qs.length;a++){var l=qs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&qs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||av(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)T=_.formAction;else if(Ld(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),av(a)}}}function ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function zd(t){this._internalRoot=t}jc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=Sn();Z_(a,l,t,i,null,null)},jc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Z_(t.current,2,null,t,null,null),vc(),i[ui]=null}};function jc(t){this._internalRoot=t}jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qs.length&&i!==0&&i<qs[a].priority;a++);qs.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.2.0")throw Error(r(527,lv,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var CA={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zc.isDisabled&&zc.supportsFiber)try{qn=zc.inject(CA),qt=zc}catch{}}return Cl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=py,d=gy,_=yy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=X_(t,1,!1,null,null,a,l,null,h,d,_,ov),t[ui]=i.current,Td(t),new zd(i)},Cl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=py,_=gy,T=yy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=X_(t,1,!0,i,a??null,l,h,N,d,_,T,ov),i.context=W_(null),a=i.current,l=Sn(),l=gr(l),h=Is(l),h.callback=null,Cs(a,h,l),a=l,i.current.lanes=a,mr(i,a),wi(i),t[ui]=i.current,Td(t),new jc(i)},Cl.version="19.2.0",Cl}var _v;function jA(){if(_v)return Hd.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Hd.exports=LA(),Hd.exports}var zA=jA();const BA=aT(zA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),vv=s=>{const e=HA(s);return e.charAt(0).toUpperCase()+e.slice(1)},oT=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),FA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ge.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:u,iconNode:f,...m},g)=>ge.createElement("svg",{ref:g,...GA,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:oT("lucide",o),...!u&&!FA(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,b])=>ge.createElement(y,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=(s,e)=>{const n=ge.forwardRef(({className:r,...o},u)=>ge.createElement(KA,{ref:u,iconNode:e,className:oT(`lucide-${qA(vv(s))}`,`lucide-${s}`,r),...o}));return n.displayName=vv(s),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],cm=Ot("arrow-left",QA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$A=Ot("arrow-up",YA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],WA=Ot("camera",XA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],JA=Ot("chart-column",ZA);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lT=Ot("chevron-right",eS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nS=Ot("external-link",tS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qd=Ot("eye-off",iS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yd=Ot("eye",sS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uT=Ot("file-text",rS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],oS=Ot("gauge",aS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],uS=Ot("house",lS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],hS=Ot("log-out",cS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],dS=Ot("pause",fS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M2 10h6V4",key:"zwrco"}],["path",{d:"m2 4 6 6",key:"ug085t"}],["path",{d:"M21 10V7a2 2 0 0 0-2-2h-7",key:"git5jr"}],["path",{d:"M3 14v2a2 2 0 0 0 2 2h3",key:"1f7fh3"}],["rect",{x:"12",y:"14",width:"10",height:"7",rx:"1",key:"1wjs3o"}]],pS=Ot("picture-in-picture",mS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yS=Ot("play",gS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vS=Ot("plus",_S);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ev=Ot("settings",ES);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bS=Ot("trash-2",TS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qr=Ot("user",AS);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$c=Ot("x",SS),wS=()=>{};var Tv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},RS=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const u=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,P=y&63;g||(P=64,f||(w=64)),r.push(n[b],n[A],n[w],n[P])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(cT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):RS(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const A=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new IS;const w=u<<2|m>>4;if(r.push(w),y!==64){const P=m<<4&240|y>>2;if(r.push(P),A!==64){const B=y<<6&192|A;r.push(B)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class IS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(s){const e=cT(s);return hT.encodeByteArray(e,!0)},ah=function(s){return CS(s).replace(/\./g,"")},fT=function(s){try{return hT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>NS().__FIREBASE_DEFAULTS__,DS=()=>{if(typeof process>"u"||typeof Tv>"u")return;const s=Tv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},OS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&fT(s[1]);return e&&JSON.parse(e)},Sh=()=>{try{return wS()||xS()||DS()||OS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},dT=s=>{var e,n;return(n=(e=Sh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},mT=s=>{const e=dT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},pT=()=>{var s;return(s=Sh())==null?void 0:s.config},gT=s=>{var e;return(e=Sh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[ah(JSON.stringify(n)),ah(JSON.stringify(f)),""].join(".")}const Ul={};function VS(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ul))Ul[e]?s.emulator.push(e):s.prod.push(e);return s}function kS(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let bv=!1;function Bm(s,e){if(typeof window>"u"||typeof document>"u"||!or(window.location.host)||Ul[s]===e||Ul[s]||bv)return;Ul[s]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",u=VS().prod.length>0;function f(){const w=document.getElementById(r);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{bv=!0,f()},w}function b(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=kS(r),P=n("text"),B=document.getElementById(P)||document.createElement("span"),K=n("learnmore"),Q=document.getElementById(K)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ee=w.element;m(ee),b(Q,K);const ue=y();g(ne,te),ee.append(ne,B,Q,ue),document.body.appendChild(ee)}u?(B.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function PS(){var e;const s=(e=Sh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function qS(){return!PS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=GS,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?KS(u,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ui(o,m,r)}}function KS(s,e){return s.replace(QS,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const QS=/\{\$([^}]+)}/g;function YS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Yr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=e[o];if(Av(u)&&Av(f)){if(!Yr(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Av(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Dl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function $S(s,e){const n=new XS(s,e);return n.subscribe.bind(n)}class XS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function $d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s){return s&&s._delegate?s._delegate:s}class er{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new MS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ew(e))try{this.getOrInitializeService({instanceIdentifier:Br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Br){return this.instances.has(e)}getOptions(e=Br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Br){return this.component?this.component.multipleInstances?e:Br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JS(s){return s===Br?void 0:s}function ew(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Me||(Me={}));const nw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},iw=Me.INFO,sw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},rw=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=sw[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=iw,this._logHandler=rw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const aw=(s,e)=>e.some(n=>s instanceof n);let Sv,wv;function ow(){return Sv||(Sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lw(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,hm=new WeakMap,vT=new WeakMap,Xd=new WeakMap,Hm=new WeakMap;function uw(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(Xs(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,s)}).catch(()=>{}),Hm.set(e,s),e}function cw(s){if(hm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});hm.set(s,e)}let fm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return hm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||vT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function hw(s){fm=s(fm)}function fw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Wd(this),e,...n);return vT.set(r,e.sort?e.sort():[e]),Xs(r)}:lw().includes(s)?function(...e){return s.apply(Wd(this),e),Xs(_T.get(this))}:function(...e){return Xs(s.apply(Wd(this),e))}}function dw(s){return typeof s=="function"?fw(s):(s instanceof IDBTransaction&&cw(s),aw(s,ow())?new Proxy(s,fm):s)}function Xs(s){if(s instanceof IDBRequest)return uw(s);if(Xd.has(s))return Xd.get(s);const e=dw(s);return e!==s&&(Xd.set(s,e),Hm.set(e,s)),e}const Wd=s=>Hm.get(s);function mw(s,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,e),m=Xs(f);return r&&f.addEventListener("upgradeneeded",g=>{r(Xs(f.result),g.oldVersion,g.newVersion,Xs(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const pw=["get","getKey","getAll","getAllKeys","count"],gw=["put","add","delete","clear"],Zd=new Map;function Rv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=gw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||pw.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Zd.set(e,u),u}hw(s=>({...s,get:(e,n,r)=>Rv(e,n)||s.get(e,n,r),has:(e,n)=>!!Rv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_w(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _w(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dm="@firebase/app",Iv="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new qm("@firebase/app"),vw="@firebase/app-compat",Ew="@firebase/analytics-compat",Tw="@firebase/analytics",bw="@firebase/app-check-compat",Aw="@firebase/app-check",Sw="@firebase/auth",ww="@firebase/auth-compat",Rw="@firebase/database",Iw="@firebase/data-connect",Cw="@firebase/database-compat",Nw="@firebase/functions",xw="@firebase/functions-compat",Dw="@firebase/installations",Ow="@firebase/installations-compat",Mw="@firebase/messaging",Vw="@firebase/messaging-compat",kw="@firebase/performance",Uw="@firebase/performance-compat",Pw="@firebase/remote-config",Lw="@firebase/remote-config-compat",jw="@firebase/storage",zw="@firebase/storage-compat",Bw="@firebase/firestore",qw="@firebase/ai",Hw="@firebase/firestore-compat",Fw="firebase",Gw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="[DEFAULT]",Kw={[dm]:"fire-core",[vw]:"fire-core-compat",[Tw]:"fire-analytics",[Ew]:"fire-analytics-compat",[Aw]:"fire-app-check",[bw]:"fire-app-check-compat",[Sw]:"fire-auth",[ww]:"fire-auth-compat",[Rw]:"fire-rtdb",[Iw]:"fire-data-connect",[Cw]:"fire-rtdb-compat",[Nw]:"fire-fn",[xw]:"fire-fn-compat",[Dw]:"fire-iid",[Ow]:"fire-iid-compat",[Mw]:"fire-fcm",[Vw]:"fire-fcm-compat",[kw]:"fire-perf",[Uw]:"fire-perf-compat",[Pw]:"fire-rc",[Lw]:"fire-rc-compat",[jw]:"fire-gcs",[zw]:"fire-gcs-compat",[Bw]:"fire-fst",[Hw]:"fire-fst-compat",[qw]:"fire-vertex","fire-js":"fire-js",[Fw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,Qw=new Map,pm=new Map;function Cv(s,e){try{s.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function $r(s){const e=s.name;if(pm.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;pm.set(e,s);for(const n of oh.values())Cv(n,s);for(const n of Qw.values())Cv(n,s);return!0}function wh(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new tu("app","Firebase",Yw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=Gw;function ET(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:mm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(n||(n=pT()),!n)throw Ws.create("no-options");const u=oh.get(o);if(u){if(Yr(n,u.options)&&Yr(r,u.config))return u;throw Ws.create("duplicate-app",{appName:o})}const f=new tw(o);for(const g of pm.values())f.addComponent(g);const m=new $w(n,r,f);return oh.set(o,m),m}function Fm(s=mm){const e=oh.get(s);if(!e&&s===mm&&pT())return ET();if(!e)throw Ws.create("no-app",{appName:s});return e}function Ci(s,e,n){let r=Kw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(f.join(" "));return}$r(new er(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebase-heartbeat-database",Ww=1,Hl="firebase-heartbeat-store";let Jd=null;function TT(){return Jd||(Jd=mw(Xw,Ww,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),Jd}async function Zw(s){try{const n=(await TT()).transaction(Hl),r=await n.objectStore(Hl).get(bT(s));return await n.done,r}catch(e){if(e instanceof Ui)as.warn(e.message);else{const n=Ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function Nv(s,e){try{const r=(await TT()).transaction(Hl,"readwrite");await r.objectStore(Hl).put(e,bT(s)),await r.done}catch(n){if(n instanceof Ui)as.warn(n.message);else{const r=Ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function bT(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1024,eR=30;class tR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>eR){const f=sR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){as.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:r,unsentEntries:o}=nR(this._heartbeatsCache.heartbeats),u=ah(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return as.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function nR(s,e=Jw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Dv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Dv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class iR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Dv(s){return ah(JSON.stringify({version:2,heartbeats:s})).length}function sR(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(s){$r(new er("platform-logger",e=>new yw(e),"PRIVATE")),$r(new er("heartbeat",e=>new tR(e),"PRIVATE")),Ci(dm,Iv,s),Ci(dm,Iv,"esm2020"),Ci("fire-js","")}rR("");function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aR=AT,ST=new tu("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new qm("@firebase/auth");function oR(s,...e){lh.logLevel<=Me.WARN&&lh.warn(`Auth (${ta}): ${s}`,...e)}function Xc(s,...e){lh.logLevel<=Me.ERROR&&lh.error(`Auth (${ta}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(s,...e){throw Km(s,...e)}function ni(s,...e){return Km(s,...e)}function Gm(s,e,n){const r={...aR(),[e]:n};return new tu("auth","Firebase",r).create(e,{appName:s.name})}function rs(s){return Gm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lR(s,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(s,"argument-error"),Gm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Km(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return ST.create(s,...e)}function _e(s,e,...n){if(!s)throw Km(e,...n)}function is(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Xc(e),new Error(e)}function os(s,e){s||is(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function uR(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uR()||jS()||"connection"in navigator)?navigator.onLine:!0}function hR(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,os(n>e,"Short delay should be less than long delay!"),this.isMobile=US()||zS()}get(){return cR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(s,e){os(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mR=new iu(3e4,6e4);function lr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function cs(s,e,n,r,o={}){return RT(s,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const m=nu({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...u};return LS()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&or(s.emulatorConfig.host)&&(y.credentials="include"),wT.fetch()(await IT(s,s.config.apiHost,n,m),y)})}async function RT(s,e,n){s._canInitEmulator=!1;const r={...fR,...e};try{const o=new gR(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Bc(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw Bc(s,"user-disabled",f);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Gm(s,b,y);Bn(s,b)}}catch(o){if(o instanceof Ui)throw o;Bn(s,"network-request-failed",{message:String(o)})}}async function su(s,e,n,r,o={}){const u=await cs(s,e,n,r,o);return"mfaPendingCredential"in u&&Bn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function IT(s,e,n,r){const o=`${e}${n}?${r}`,u=s,f=u.config.emulator?Qm(s.config,o):`${s.config.apiScheme}://${o}`;return dR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function pR(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),mR.get())})}}function Bc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ni(s,e,r);return o.customData._tokenResponse=n,o}function Mv(s){return s!==void 0&&s.enterprise!==void 0}class yR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _R(s,e){return cs(s,"GET","/v2/recaptchaConfig",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(s,e){return cs(s,"POST","/v1/accounts:delete",e)}async function uh(s,e){return cs(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ER(s,e=!1){const n=vt(s),r=await n.getIdToken(e),o=Ym(r);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Pl(em(o.auth_time)),issuedAtTime:Pl(em(o.iat)),expirationTime:Pl(em(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function em(s){return Number(s)*1e3}function Ym(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(s){const e=Ym(s);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&TR(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function TR({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(s){var A;const e=s.auth,n=await s.getIdToken(),r=await lo(s,uh(e,{idToken:n}));_e(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(A=o.providerUserInfo)!=null&&A.length?CT(o.providerUserInfo):[],f=SR(s.providerData,u),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),y=m?g:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function AR(s){const e=vt(s);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SR(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function CT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(s,e){const n=await RT(s,{},async()=>{const r=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await IT(s,o,"/v1/token",`key=${u}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&or(s.emulatorConfig.host)&&(g.credentials="include"),wT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RR(s,e){return cs(s,"POST","/v2/accounts:revokeToken",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await wR(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new to;return r&&(_e(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(s,e){_e(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ei{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new bR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await lo(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ER(this,e)}reload(){return AR(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await lo(this,vR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:P,providerData:B,stsTokenManager:K}=n;_e(A&&K,e,"internal-error");const Q=to.fromJSON(this.name,K);_e(typeof A=="string",e,"internal-error"),Fs(r,e.name),Fs(o,e.name),_e(typeof w=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Fs(u,e.name),Fs(f,e.name),Fs(m,e.name),Fs(g,e.name),Fs(y,e.name),Fs(b,e.name);const te=new ei({uid:A,auth:e,email:o,emailVerified:w,displayName:r,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:Q,createdAt:y,lastLoginAt:b});return B&&Array.isArray(B)&&(te.providerData=B.map(ne=>({...ne}))),g&&(te._redirectEventId=g),te}static async _fromIdTokenResponse(e,n,r=!1){const o=new to;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ch(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new to;m.updateFromIdToken(r);const g=new ei({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function ss(s){os(s instanceof Function,"Expected a class definition");let e=kv.get(s);return e?(os(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,kv.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NT.type="NONE";const Uv=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(s,e,n){return`firebase:${s}:${e}:${n}`}class no{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await uh(this.auth,{idToken:e}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,e):null}return ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new no(ss(Uv),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ss(Uv);const f=Wc(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let A;if(typeof b=="string"){const w=await uh(e,{idToken:b}).catch(()=>{});if(!w)break;A=await ei._fromGetAccountInfoResponse(e,w,b)}else A=ei._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new no(u,e,r):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new no(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kT(e))return"Blackberry";if(UT(e))return"Webos";if(DT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xT(s=tn()){return/firefox\//i.test(s)}function DT(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(s=tn()){return/crios\//i.test(s)}function MT(s=tn()){return/iemobile/i.test(s)}function VT(s=tn()){return/android/i.test(s)}function kT(s=tn()){return/blackberry/i.test(s)}function UT(s=tn()){return/webos/i.test(s)}function $m(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function IR(s=tn()){var e;return $m(s)&&!!((e=window.navigator)!=null&&e.standalone)}function CR(){return BS()&&document.documentMode===10}function PT(s=tn()){return $m(s)||VT(s)||UT(s)||kT(s)||/windows phone/i.test(s)||MT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(s,e=[]){let n;switch(s){case"Browser":n=Pv(tn());break;case"Worker":n=`${Pv(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(s,e={}){return cs(s,"GET","/v2/passwordPolicy",lr(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=6;class OR{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lv(this),this.idTokenSubscription=new Lv(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ST,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ss(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await no.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uh(this,{idToken:e}),r=await ei._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(rs(this));const n=e?vt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xR(this),n=new OR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await RR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ss(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&oR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ur(s){return vt(s)}class Lv{constructor(e){this.auth=e,this.observer=null,this.addObserver=$S(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function VR(s){Rh=s}function jT(s){return Rh.loadJS(s)}function kR(){return Rh.recaptchaEnterpriseScript}function UR(){return Rh.gapiScript}function PR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class LR{constructor(){this.enterprise=new jR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zR="recaptcha-enterprise",zT="NO_RECAPTCHA";class BR{constructor(e){this.type=zR,this.auth=ur(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{_R(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new yR(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Mv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(zT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LR().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{r(this.auth).then(m=>{if(!n&&Mv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=kR();g.length!==0&&(g+=m),jT(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function jv(s,e,n,r=!1,o=!1){const u=new BR(s);let f;if(o)f=zT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _m(s,e,n,r,o){var u;if((u=s._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jv(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jv(s,e,n,n==="getOobCode");return r(s,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(s,e){const n=wh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Yr(u,e??{}))return o;Bn(o,"already-initialized")}return n.initialize({options:e})}function HR(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ss);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FR(s,e,n){const r=ur(s);_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=BT(e),{host:f,port:m}=GR(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){_e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_e(Yr(y,r.config.emulator)&&Yr(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,or(f)?(zm(`${u}//${f}${g}`),Bm("Auth",!0)):KR()}function BT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function GR(s){const e=BT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:zv(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:zv(f)}}}function zv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function KR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return is("not implemented")}_getIdTokenResponse(e){return is("not implemented")}_linkToIdToken(e,n){return is("not implemented")}_getReauthenticationResolver(e){return is("not implemented")}}async function QR(s,e){return cs(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(s,e){return su(s,"POST","/v1/accounts:signInWithPassword",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(s,e){return su(s,"POST","/v1/accounts:signInWithEmailLink",lr(s,e))}async function XR(s,e){return su(s,"POST","/v1/accounts:signInWithEmailLink",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Xm{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,n,"signInWithPassword",YR);case"emailLink":return $R(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _m(e,r,"signUpPassword",QR);case"emailLink":return XR(e,{idToken:n,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(s,e){return su(s,"POST","/v1/accounts:signInWithIdp",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="http://localhost";class Xr extends Xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new Xr(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JR(s){const e=xl(Dl(s)).link,n=e?xl(Dl(e)).deep_link_id:null,r=xl(Dl(s)).deep_link_id;return(r?xl(Dl(r)).link:null)||r||n||e||s}class Wm{constructor(e){const n=xl(Dl(e)),r=n.apiKey??null,o=n.oobCode??null,u=ZR(n.mode??null);_e(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=JR(e);try{return new Wm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.providerId=yo.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wm.parseLink(n);return _e(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}yo.PROVIDER_ID="password";yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends Zm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends ru{constructor(){super("facebook.com")}static credential(e){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xr._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends ru{constructor(){super("github.com")}static credential(e){return Xr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs extends ru{constructor(){super("twitter.com")}static credential(e,n){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qs.credential(n,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(s,e){return su(s,"POST","/v1/accounts:signUp",lr(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await ei._fromIdTokenResponse(e,r,o),f=Bv(r);return new Wr({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Bv(r);return new Wr({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Bv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Ui{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new hh(e,n,r,o)}}function qT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(s,u,e,r):u})}async function t2(s,e,n=!1){const r=await lo(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Wr._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(s,e,n=!1){const{auth:r}=s;if(pn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const u=await lo(s,qT(r,o,e,s),n);_e(u.idToken,r,"internal-error");const f=Ym(u.idToken);_e(f,r,"internal-error");const{sub:m}=f;return _e(s.uid===m,r,"user-mismatch"),Wr._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Bn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(s,e,n=!1){if(pn(s.app))return Promise.reject(rs(s));const r="signIn",o=await qT(s,r,e),u=await Wr._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}async function i2(s,e){return HT(ur(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(s){const e=ur(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s2(s,e,n){if(pn(s.app))return Promise.reject(rs(s));const r=ur(s),f=await _m(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e2).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&FT(s),g}),m=await Wr._fromIdTokenResponse(r,"signIn",f);return await r._updateCurrentUser(m.user),m}function r2(s,e,n){return pn(s.app)?Promise.reject(rs(s)):i2(vt(s),yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FT(s),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(s,e){return cs(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(s),u={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await lo(r,a2(r.auth,u));r.displayName=f.displayName||null,r.photoURL=f.photoUrl||null;const m=r.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=r.displayName,m.photoURL=r.photoURL),await r._updateTokensIfNecessary(f)}function o2(s,e,n,r){return vt(s).onIdTokenChanged(e,n,r)}function l2(s,e,n){return vt(s).beforeAuthStateChanged(e,n)}function u2(s,e,n,r){return vt(s).onAuthStateChanged(e,n,r)}function c2(s){return vt(s).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=1e3,f2=10;class KT extends GT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);CR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,f2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KT.type="LOCAL";const d2=KT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT extends GT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QT.type="SESSION";const YT=QT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await m2(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Jm("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function g2(s){Ni().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function y2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function v2(){return $T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebaseLocalStorageDb",E2=1,dh="firebaseLocalStorage",WT="fbase_key";class au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(s,e){return s.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function T2(){const s=indexedDB.deleteDatabase(XT);return new au(s).toPromise()}function Em(){const s=indexedDB.open(XT,E2);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(dh,{keyPath:WT})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await T2(),e(await Em()))})})}async function qv(s,e,n){const r=Ch(s,!0).put({[WT]:e,value:n});return new au(r).toPromise()}async function b2(s,e){const n=Ch(s,!1).get(e),r=await new au(n).toPromise();return r===void 0?null:r.value}function Hv(s,e){const n=Ch(s,!0).delete(e);return new au(n).toPromise()}const A2=800,S2=3;class ZT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>S2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new p2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await qv(e,fh,"1"),await Hv(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>b2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Ch(o,!1).getAll();return new au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZT.type="LOCAL";const w2=ZT;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(s,e){return e?ss(e):(_e(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function R2(s){return HT(s.auth,new ep(s),s.bypassAuthState)}function I2(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),n2(n,new ep(s),s.bypassAuthState)}async function C2(s){const{auth:e,user:n}=s;return _e(n,e,"internal-error"),t2(n,new ep(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:Bn(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new iu(2e3,1e4);async function x2(s,e,n){if(pn(s.app))return Promise.reject(ni(s,"operation-not-supported-in-this-environment"));const r=ur(s);lR(s,e,Zm);const o=JT(r,n);return new Hr(r,"signInViaPopup",e,o).executeNotNull()}class Hr extends e0{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=Jm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N2.get())};e()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="pendingRedirect",Zc=new Map;class O2 extends e0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const r=await M2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(s,e){const n=U2(e),r=k2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function V2(s,e){Zc.set(s._key(),e)}function k2(s){return ss(s._redirectPersistence)}function U2(s){return Wc(D2,s.config.apiKey,s.name)}async function P2(s,e,n=!1){if(pn(s.app))return Promise.reject(rs(s));const r=ur(s),o=JT(r,e),f=await new O2(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=600*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!t0(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function t0({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function z2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(s,e={}){return cs(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function F2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await B2(s);for(const n of e)try{if(G2(n))return}catch{}Bn(s,"unauthorized-domain")}function G2(s){const e=gm(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!H2.test(n))return!1;if(q2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=new iu(3e4,6e4);function Gv(){const s=Ni().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Q2(s){return new Promise((e,n)=>{var o,u,f;function r(){Gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gv(),n(ni(s,"network-request-failed"))},timeout:K2.get()})}if((u=(o=Ni().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Ni().gapi)!=null&&f.load)r();else{const m=PR("iframefcb");return Ni()[m]=()=>{gapi.load?r():n(ni(s,"network-request-failed"))},jT(`${UR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function Y2(s){return Jc=Jc||Q2(s),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new iu(5e3,15e3),X2="__/auth/iframe",W2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(s){const e=s.config;_e(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Qm(e,W2):`https://${s.config.authDomain}/${X2}`,r={apiKey:e.apiKey,appName:s.name,v:ta},o=J2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${nu(r).slice(1)}`}async function tI(s){const e=await Y2(s),n=Ni().gapi;return _e(n,s,"internal-error"),e.open({where:document.body,url:eI(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=ni(s,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},$2.get());function g(){Ni().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iI=500,sI=600,rI="_blank",aI="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oI(s,e,n,r=iI,o=sI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...nI,width:r.toString(),height:o.toString(),top:u,left:f},y=tn().toLowerCase();n&&(m=OT(y)?rI:n),xT(y)&&(e=e||aI,g.scrollbars="yes");const b=Object.entries(g).reduce((w,[P,B])=>`${w}${P}=${B},`,"");if(IR(y)&&m!=="_self")return lI(e||"",m),new Kv(null);const A=window.open(e||"",m,b);_e(A,s,"popup-blocked");try{A.focus()}catch{}return new Kv(A)}function lI(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="__/auth/handler",cI="emulator/auth/handler",hI=encodeURIComponent("fac");async function Qv(s,e,n,r,o,u){_e(s.config.authDomain,s,"auth-domain-config-required"),_e(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ta,eventId:o};if(e instanceof Zm){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",YS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))f[b]=A}if(e instanceof ru){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(f.scopes=b.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await s._getAppCheckToken(),y=g?`#${hI}=${encodeURIComponent(g)}`:"";return`${fI(s)}?${nu(m).slice(1)}${y}`}function fI({config:s}){return s.emulator?Qm(s,cI):`https://${s.authDomain}/${uI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class dI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YT,this._completeRedirectFn=P2,this._overrideRedirectResult=V2}async _openPopup(e,n,r,o){var f;os((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Qv(e,n,r,gm(),o);return oI(e,u,Jm())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await Qv(e,n,r,gm(),o);return g2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(os(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tI(e),r=new j2(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[tm];u!==void 0&&n(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PT()||DT()||$m()}}const mI=dI;var Yv="@firebase/auth",$v="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yI(s){$r(new er("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LT(s)},y=new MR(r,o,u,g);return HR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),$r(new er("auth-internal",e=>{const n=ur(e.getProvider("auth").getImmediate());return(r=>new pI(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(Yv,$v,gI(s)),Ci(Yv,$v,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=300,vI=gT("authIdTokenMaxAge")||_I;let Xv=null;const EI=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vI)return;const o=n==null?void 0:n.token;Xv!==o&&(Xv=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function TI(s=Fm()){const e=wh(s,"auth");if(e.isInitialized())return e.getImmediate();const n=qR(s,{popupRedirectResolver:mI,persistence:[w2,d2,YT]}),r=gT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=EI(u.toString());l2(n,f,()=>f(n.currentUser)),o2(n,m=>f(m))}}const o=dT("auth");return o&&FR(n,`http://${o}`),n}function bI(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}VR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const u=ni("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",bI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yI("Browser");var AI="firebase",SI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(AI,SI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="firebasestorage.googleapis.com",i0="storageBucket",wI=120*1e3,RI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends Ui{constructor(e,n,r=0){super(nm(e),`Firebase Storage: ${n} (${nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ft;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ft||(ft={}));function nm(s){return"storage/"+s}function tp(){const s="An unknown error occurred, please check the error payload for server response.";return new dt(ft.UNKNOWN,s)}function II(s){return new dt(ft.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function CI(s){return new dt(ft.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function NI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ft.UNAUTHENTICATED,s)}function xI(){return new dt(ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DI(s){return new dt(ft.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function OI(){return new dt(ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MI(){return new dt(ft.CANCELED,"User canceled the upload/download.")}function VI(s){return new dt(ft.INVALID_URL,"Invalid URL '"+s+"'.")}function kI(s){return new dt(ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function UI(){return new dt(ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+i0+"' property when initializing the app?")}function PI(){return new dt(ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LI(){return new dt(ft.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jI(s){return new dt(ft.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tm(s){return new dt(ft.INVALID_ARGUMENT,s)}function s0(){return new dt(ft.APP_DELETED,"The Firebase app was deleted.")}function zI(s){return new dt(ft.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(s,e){return new dt(ft.INVALID_FORMAT,"String does not match format '"+s+"': "+e)}function Nl(s){throw new dt(ft.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=wn.makeFromUrl(e,n)}catch{return new wn(e,"")}if(r.path==="")return r;throw kI(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ue){ue.path_=decodeURIComponent(ue.path)}const b="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${b}/b/${o}/o${w}`,"i"),B={bucket:1,path:3},K=n===n0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,Q="([^?#]*)",te=new RegExp(`^https?://${K}/${o}/${Q}`,"i"),ee=[{regex:m,indices:g,postModify:u},{regex:P,indices:B,postModify:y},{regex:te,indices:{bucket:1,path:2},postModify:y}];for(let ue=0;ue<ee.length;ue++){const ce=ee[ue],Ee=ce.regex.exec(e);if(Ee){const x=Ee[ce.indices.bucket];let R=Ee[ce.indices.path];R||(R=""),r=new wn(x,R),ce.postModify(r);break}}if(r==null)throw VI(e);return r}}class BI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(s,e,n){let r=1,o=null,u=null,f=!1,m=0;function g(){return m===2}let y=!1;function b(...Q){y||(y=!0,e.apply(null,Q))}function A(Q){o=setTimeout(()=>{o=null,s(P,g())},Q)}function w(){u&&clearTimeout(u)}function P(Q,...te){if(y){w();return}if(Q){w(),b.call(null,Q,...te);return}if(g()||f){w(),b.call(null,Q,...te);return}r<64&&(r*=2);let ee;m===1?(m=2,ee=0):ee=(r+Math.random())*1e3,A(ee)}let B=!1;function K(Q){B||(B=!0,w(),!y&&(o!==null?(Q||(m=2),clearTimeout(o),A(0)):Q||(m=1)))}return A(0),u=setTimeout(()=>{f=!0,K(!0)},n),K}function HI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(s){return s!==void 0}function GI(s){return typeof s=="object"&&!Array.isArray(s)}function np(s){return typeof s=="string"||s instanceof String}function Wv(s){return ip()&&s instanceof Blob}function ip(){return typeof Blob<"u"}function Zv(s,e,n,r){if(r<e)throw Tm(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw Tm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(s,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${s}`}function r0(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var Gr;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(Gr||(Gr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=e.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,o,u,f,m,g,y,b,A,w=!0,P=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=A,this.retry=w,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,K)=>{this.resolve_=B,this.reject_=K,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new qc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Gr.NO_ERROR,g=u.getStatus();if(!m||KI(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Gr.ABORT;r(!1,new qc(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new qc(y,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());FI(g)?u(g):u()}catch(g){f(g)}else if(m!==null){const g=tp();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?s0():MI();f(g)}else{const g=OI();f(g)}};this.canceled_?n(!1,new qc(!1,null,!0)):this.backoffId_=qI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&HI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function YI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function $I(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function XI(s,e){e&&(s["X-Firebase-GMPID"]=e)}function WI(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function ZI(s,e,n,r,o,u,f=!0,m=!1){const g=r0(s.urlParams),y=s.url+g,b=Object.assign({},s.headers);return XI(b,e),YI(b,n),$I(b,u),WI(b,r),new QI(y,s.method,b,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function eC(...s){const e=JI();if(e!==void 0){const n=new e;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(ip())return new Blob(s);throw new dt(ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tC(s,e,n){return s.webkitSlice?s.webkitSlice(e,n):s.mozSlice?s.mozSlice(e,n):s.slice?s.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s){if(typeof atob>"u")throw jI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class im{constructor(e,n){this.data=e,this.contentType=n||null}}function iC(s,e){switch(s){case Ii.RAW:return new im(a0(e));case Ii.BASE64:case Ii.BASE64URL:return new im(o0(s,e));case Ii.DATA_URL:return new im(rC(e),aC(e))}throw tp()}function a0(s){const e=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=r,f=s.charCodeAt(++n);r=65536|(u&1023)<<10|f&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function sC(s){let e;try{e=decodeURIComponent(s)}catch{throw Ll(Ii.DATA_URL,"Malformed data URL.")}return a0(e)}function o0(s,e){switch(s){case Ii.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Ll(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Ll(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=nC(e)}catch(o){throw o.message.includes("polyfill")?o:Ll(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class l0{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ll(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oC(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function rC(s){const e=new l0(s);return e.base64?o0(Ii.BASE64,e.rest):sC(e.rest)}function aC(s){return new l0(s).contentType}function oC(s,e){return s.length>=e.length?s.substring(s.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){let r=0,o="";Wv(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Wv(this.data_)){const r=this.data_,o=tC(r,e,n);return o===null?null:new Ys(o)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ys(r,!0)}}static getBlob(...e){if(ip()){const n=e.map(r=>r instanceof Ys?r.data_:r);return new Ys(eC.apply(null,n))}else{const n=e.map(f=>np(f)?iC(Ii.RAW,f).data:f.data_);let r=0;n.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Ys(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(s){let e;try{e=JSON.parse(s)}catch{return null}return GI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function uC(s,e){const n=e.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function c0(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(s,e){return e}class an{constructor(e,n,r,o){this.server=e,this.local=n||e,this.writable=!!r,this.xform=o||cC}}let Hc=null;function hC(s){return!np(s)||s.length<2?s:c0(s)}function h0(){if(Hc)return Hc;const s=[];s.push(new an("bucket")),s.push(new an("generation")),s.push(new an("metageneration")),s.push(new an("name","fullPath",!0));function e(u,f){return hC(f)}const n=new an("name");n.xform=e,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new an("size");return o.xform=r,s.push(o),s.push(new an("timeCreated")),s.push(new an("updated")),s.push(new an("md5Hash",null,!0)),s.push(new an("cacheControl",null,!0)),s.push(new an("contentDisposition",null,!0)),s.push(new an("contentEncoding",null,!0)),s.push(new an("contentLanguage",null,!0)),s.push(new an("contentType",null,!0)),s.push(new an("metadata","customMetadata",!0)),Hc=s,Hc}function fC(s,e){function n(){const r=s.bucket,o=s.fullPath,u=new wn(r,o);return e._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function dC(s,e,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,e[f.server])}return fC(r,s),r}function f0(s,e,n){const r=u0(e);return r===null?null:dC(s,r,n)}function mC(s,e,n,r){const o=u0(e);if(o===null||!np(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const b=s.bucket,A=s.fullPath,w="/b/"+f(b)+"/o/"+f(A),P=sp(w,n,r),B=r0({alt:"media",token:y});return P+B})[0]}function pC(s,e){const n={},r=e.length;for(let o=0;o<r;o++){const u=e[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class d0{constructor(e,n,r,o){this.url=e,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(s){if(!s)throw tp()}function gC(s,e){function n(r,o){const u=f0(s,o,e);return m0(u!==null),u}return n}function yC(s,e){function n(r,o){const u=f0(s,o,e);return m0(u!==null),mC(u,o,s.host,s._protocol)}return n}function p0(s){function e(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=xI():o=NI():n.getStatus()===402?o=CI(s.bucket):n.getStatus()===403?o=DI(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return e}function _C(s){const e=p0(s);function n(r,o){let u=e(r,o);return r.getStatus()===404&&(u=II(s.path)),u.serverResponse=o.serverResponse,u}return n}function vC(s,e,n){const r=e.fullServerUrl(),o=sp(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,m=new d0(o,u,yC(s,n),f);return m.errorHandler=_C(e),m}function EC(s,e){return s&&s.contentType||e&&e.type()||"application/octet-stream"}function TC(s,e,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=e.size(),r.contentType||(r.contentType=EC(null,e)),r}function bC(s,e,n,r,o){const u=e.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let ee="";for(let ue=0;ue<2;ue++)ee=ee+Math.random().toString().slice(2);return ee}const g=m();f["Content-Type"]="multipart/related; boundary="+g;const y=TC(e,r,o),b=pC(y,n),A="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+g+"--",P=Ys.getBlob(A,r,w);if(P===null)throw PI();const B={name:y.fullPath},K=sp(u,s.host,s._protocol),Q="POST",te=s.maxUploadRetryTime,ne=new d0(K,Q,gC(s,n),te);return ne.urlParams=B,ne.headers=f,ne.body=P.uploadData(),ne.errorHandler=p0(e),ne}class AC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,o,u){if(this.sent_)throw Nl("cannot .send() more than once");if(or(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class SC extends AC{initXhr(){this.xhr_.responseType="text"}}function g0(){return new SC}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this._service=e,n instanceof wn?this._location=n:this._location=wn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zr(e,n)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return c0(this._location.path)}get storage(){return this._service}get parent(){const e=lC(this._location.path);if(e===null)return null;const n=new wn(this._location.bucket,e);return new Zr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zI(e)}}function wC(s,e,n){s._throwIfRoot("uploadBytes");const r=bC(s.storage,s._location,h0(),new Ys(e,!0),n);return s.storage.makeRequestWithTokens(r,g0).then(o=>({metadata:o,ref:s}))}function RC(s){s._throwIfRoot("getDownloadURL");const e=vC(s.storage,s._location,h0());return s.storage.makeRequestWithTokens(e,g0).then(n=>{if(n===null)throw LI();return n})}function IC(s,e){const n=uC(s._location.path,e),r=new wn(s._location.bucket,n);return new Zr(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(s){return/^[A-Za-z]+:\/\//.test(s)}function NC(s,e){return new Zr(s,e)}function y0(s,e){if(s instanceof rp){const n=s;if(n._bucket==null)throw UI();const r=new Zr(n,n._bucket);return e!=null?y0(r,e):r}else return e!==void 0?IC(s,e):s}function xC(s,e){if(e&&CC(e)){if(s instanceof rp)return NC(s,e);throw Tm("To use ref(service, url), the first argument must be a Storage instance.")}else return y0(s,e)}function Jv(s,e){const n=e==null?void 0:e[i0];return n==null?null:wn.makeFromBucketSpec(n,s)}function DC(s,e,n,r={}){s.host=`${e}:${n}`;const o=or(e);o&&(zm(`https://${s.host}/b`),Bm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:yT(u,s.app.options.projectId))}class rp{constructor(e,n,r,o,u,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=n0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wI,this._maxUploadRetryTime=RI,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=Jv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Jv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zr(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new BI(s0());{const f=ZI(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const eE="@firebase/storage",tE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="storage";function OC(s,e,n){return s=vt(s),wC(s,e,n)}function MC(s){return s=vt(s),RC(s)}function VC(s,e){return s=vt(s),xC(s,e)}function kC(s=Fm(),e){s=vt(s);const r=wh(s,_0).getImmediate({identifier:e}),o=mT("storage");return o&&UC(r,...o),r}function UC(s,e,n,r={}){DC(s,e,n,r)}function PC(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new rp(n,r,o,e,ta)}function LC(){$r(new er(_0,PC,"PUBLIC").setMultipleInstances(!0)),Ci(eE,tE,""),Ci(eE,tE,"esm2020")}LC();var nE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,v0;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.F=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,O,U){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return R.prototype[O].apply(V,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],O=x.g[2];let U=x.g[3],C;C=R+(U^I&(O^U))+V[0]+3614090360&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(O^R&(I^O))+V[1]+3905402710&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(I^U&(R^I))+V[2]+606105819&4294967295,O=U+(C<<17&4294967295|C>>>15),C=I+(R^O&(U^R))+V[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(U^I&(O^U))+V[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(O^R&(I^O))+V[5]+1200080426&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(I^U&(R^I))+V[6]+2821735955&4294967295,O=U+(C<<17&4294967295|C>>>15),C=I+(R^O&(U^R))+V[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(U^I&(O^U))+V[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(O^R&(I^O))+V[9]+2336552879&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(I^U&(R^I))+V[10]+4294925233&4294967295,O=U+(C<<17&4294967295|C>>>15),C=I+(R^O&(U^R))+V[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(U^I&(O^U))+V[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=U+(O^R&(I^O))+V[13]+4254626195&4294967295,U=R+(C<<12&4294967295|C>>>20),C=O+(I^U&(R^I))+V[14]+2792965006&4294967295,O=U+(C<<17&4294967295|C>>>15),C=I+(R^O&(U^R))+V[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=R+(O^U&(I^O))+V[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^O&(R^I))+V[6]+3225465664&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(U^R))+V[11]+643717713&4294967295,O=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(O^U))+V[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(I^O))+V[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^O&(R^I))+V[10]+38016083&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(U^R))+V[15]+3634488961&4294967295,O=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(O^U))+V[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(I^O))+V[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^O&(R^I))+V[14]+3275163606&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(U^R))+V[3]+4107603335&4294967295,O=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(O^U))+V[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(O^U&(I^O))+V[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=U+(I^O&(R^I))+V[2]+4243563512&4294967295,U=R+(C<<9&4294967295|C>>>23),C=O+(R^I&(U^R))+V[7]+1735328473&4294967295,O=U+(C<<14&4294967295|C>>>18),C=I+(U^R&(O^U))+V[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=R+(I^O^U)+V[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^O)+V[8]+2272392833&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^I)+V[11]+1839030562&4294967295,O=U+(C<<16&4294967295|C>>>16),C=I+(O^U^R)+V[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^U)+V[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^O)+V[4]+1272893353&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^I)+V[7]+4139469664&4294967295,O=U+(C<<16&4294967295|C>>>16),C=I+(O^U^R)+V[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^U)+V[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^O)+V[0]+3936430074&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^I)+V[3]+3572445317&4294967295,O=U+(C<<16&4294967295|C>>>16),C=I+(O^U^R)+V[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(I^O^U)+V[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=U+(R^I^O)+V[12]+3873151461&4294967295,U=R+(C<<11&4294967295|C>>>21),C=O+(U^R^I)+V[15]+530742520&4294967295,O=U+(C<<16&4294967295|C>>>16),C=I+(O^U^R)+V[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=R+(O^(I|~U))+V[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~O))+V[7]+1126891415&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~I))+V[14]+2878612391&4294967295,O=U+(C<<15&4294967295|C>>>17),C=I+(U^(O|~R))+V[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~U))+V[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~O))+V[3]+2399980690&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~I))+V[10]+4293915773&4294967295,O=U+(C<<15&4294967295|C>>>17),C=I+(U^(O|~R))+V[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~U))+V[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~O))+V[15]+4264355552&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~I))+V[6]+2734768916&4294967295,O=U+(C<<15&4294967295|C>>>17),C=I+(U^(O|~R))+V[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=R+(O^(I|~U))+V[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=U+(I^(R|~O))+V[11]+3174756917&4294967295,U=R+(C<<10&4294967295|C>>>22),C=O+(R^(U|~I))+V[2]+718787259&4294967295,O=U+(C<<15&4294967295|C>>>17),C=I+(U^(O|~R))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+U&4294967295}r.prototype.v=function(x,R){R===void 0&&(R=x.length);const I=R-this.blockSize,V=this.C;let O=this.h,U=0;for(;U<R;){if(O==0)for(;U<=I;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<R;)if(V[O++]=x.charCodeAt(U++),O==this.blockSize){o(this,V),O=0;break}}else for(;U<R;)if(V[O++]=x[U++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[R++]=this.g[I]>>>V&255;return x};function u(x,R){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function f(x,R){this.h=R;const I=[];let V=!0;for(let O=x.length-1;O>=0;O--){const U=x[O]|0;V&&U==R||(I[O]=U,V=!1)}this.g=I}var m={};function g(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return Q(y(-x));const R=[];let I=1;for(let V=0;x>=I;V++)R[V]=x/I|0,I*=4294967296;return new f(R,0)}function b(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return Q(b(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(R,8));let V=A;for(let U=0;U<x.length;U+=8){var O=Math.min(8,x.length-U);const C=parseInt(x.substring(U,U+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(C))):(V=V.j(I),V=V.add(y(C)))}return V}var A=g(0),w=g(1),P=g(16777216);s=f.prototype,s.m=function(){if(K(this))return-Q(this).m();let x=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*R,R*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(B(this))return"0";if(K(this))return"-"+Q(this).toString(x);const R=y(Math.pow(x,6));var I=this;let V="";for(;;){const O=ue(I,R).g;I=te(I,O.j(R));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,B(I))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function B(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function K(x){return x.h==-1}s.l=function(x){return x=te(this,x),K(x)?-1:B(x)?0:1};function Q(x){const R=x.g.length,I=[];for(let V=0;V<R;V++)I[V]=~x.g[V];return new f(I,~x.h).add(w)}s.abs=function(){return K(this)?Q(this):this},s.add=function(x){const R=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let O=0;O<=R;O++){let U=V+(this.i(O)&65535)+(x.i(O)&65535),C=(U>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=C>>>16,U&=65535,C&=65535,I[O]=C<<16|U}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(x,R){return x.add(Q(R))}s.j=function(x){if(B(this)||B(x))return A;if(K(this))return K(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if(K(x))return Q(this.j(Q(x)));if(this.l(P)<0&&x.l(P)<0)return y(this.m()*x.m());const R=this.g.length+x.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const U=this.i(V)>>>16,C=this.i(V)&65535,et=x.i(O)>>>16,ut=x.i(O)&65535;I[2*V+2*O]+=C*ut,ne(I,2*V+2*O),I[2*V+2*O+1]+=U*ut,ne(I,2*V+2*O+1),I[2*V+2*O+1]+=C*et,ne(I,2*V+2*O+1),I[2*V+2*O+2]+=U*et,ne(I,2*V+2*O+2)}for(x=0;x<R;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=R;x<2*R;x++)I[x]=0;return new f(I,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ee(x,R){this.g=x,this.h=R}function ue(x,R){if(B(R))throw Error("division by zero");if(B(x))return new ee(A,A);if(K(x))return R=ue(Q(x),R),new ee(Q(R.g),Q(R.h));if(K(R))return R=ue(x,Q(R)),new ee(Q(R.g),R.h);if(x.g.length>30){if(K(x)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;V.l(x)<=0;)I=ce(I),V=ce(V);var O=Ee(I,1),U=Ee(V,1);for(V=Ee(V,2),I=Ee(I,2);!B(V);){var C=U.add(V);C.l(x)<=0&&(O=O.add(I),U=C),V=Ee(V,1),I=Ee(I,1)}return R=te(x,O.j(R)),new ee(O,R)}for(O=A;x.l(R)>=0;){for(I=Math.max(1,Math.floor(x.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(I),C=U.j(R);K(C)||C.l(x)>0;)I-=V,U=y(I),C=U.j(R);B(U)&&(U=w),O=O.add(U),x=te(x,C)}return new ee(O,x)}s.B=function(x){return ue(this,x).h},s.and=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&x.i(V);return new f(I,this.h&x.h)},s.or=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|x.i(V);return new f(I,this.h|x.h)},s.xor=function(x){const R=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^x.i(V);return new f(I,this.h^x.h)};function ce(x){const R=x.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new f(I,x.h)}function Ee(x,R){const I=R>>5;R%=32;const V=x.g.length-I,O=[];for(let U=0;U<V;U++)O[U]=R>0?x.i(U+I)>>>R|x.i(U+I+1)<<32-R:x.i(U+I);return new f(O,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,v0=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,Zs=f}).apply(typeof nE<"u"?nE:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E0,Ol,T0,eh,bm,b0,A0,S0;(function(){var s,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,p){if(p)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(p){var v=[],S;for(S in p)Object.prototype.hasOwnProperty.call(p,S)&&v.push([S,p[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,v){return c.call.apply(c.bind,arguments)}function y(c,p,v){return y=g,y.apply(null,arguments)}function b(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,p){function v(){}v.prototype=p.prototype,c.Z=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,F){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return p.prototype[L].apply(S,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const p=c.length;if(p>0){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function B(c,p){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const F=L.length||0;c.length=v+F;for(let se=0;se<F;se++)c[v+se]=L[se]}else c.push(L)}}class K{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function Q(c){f.setTimeout(()=>{throw c},0)}function te(){var c=x;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ne{constructor(){this.h=this.g=null}add(p,v){const S=ee.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ee=new K(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Ee=!1,x=new ne,R=()=>{const c=Promise.resolve(void 0);ce=()=>{c.then(I)}};function I(){for(var c;c=te();){try{c.h.call(c.g)}catch(v){Q(v)}var p=ee;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,p),f.removeEventListener("test",v,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function et(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}A(et,O),et.prototype.init=function(c,p){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),H=0;function ie(c,p,v,S,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=L,this.key=++H,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function qe(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function M(c){const p={};for(const v in c)p[v]=c[v];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let F=0;F<X.length;F++)v=X[F],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,p,v,S,L){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const se=Ie(c,p,S,L);return se>-1?(p=c[se],v||(p.fa=!1)):(p=new ie(p,this.src,F,!!S,L),p.fa=v,c.push(p)),p};function Te(c,p){const v=p.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,p,void 0),F;(F=L>=0)&&Array.prototype.splice.call(S,L,1),F&&(de(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ie(c,p,v,S){for(let L=0;L<c.length;++L){const F=c[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==S)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Mt={};function rt(c,p,v,S,L){if(Array.isArray(p)){for(let F=0;F<p.length;F++)rt(c,p[F],v,S,L);return null}return v=wo(v),c&&c[ut]?c.J(p,v,m(S)?!!S.capture:!1,L):cr(c,p,v,!1,S,L)}function cr(c,p,v,S,L,F){if(!p)throw Error("Invalid event type");const se=m(L)?!!L.capture:!!L;let we=hr(c);if(we||(c[Le]=we=new le(c)),v=we.add(p,v,S,se,F),v.proxy)return v;if(S=oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)U||(L=se),L===void 0&&(L=!1),c.addEventListener(p.toString(),S,L);else if(c.attachEvent)c.attachEvent(si(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return p.call(c.src,c.listener,v)}const p=Ao;return c}function la(c,p,v,S,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)la(c,p[F],v,S,L);else S=m(S)?!!S.capture:!!S,v=wo(v),c&&c[ut]?(c=c.i,F=String(p).toString(),F in c.g&&(p=c.g[F],v=Ie(p,v,S,L),v>-1&&(de(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete c.g[F],c.h--)))):c&&(c=hr(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ie(p,v,S,L)),(v=c>-1?p[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ut])Te(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(si(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=hr(p))?(Te(v,c),v.h==0&&(v.src=null,p[Le]=null)):de(c)}}}function si(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Ao(c,p){if(c.da)c=!0;else{p=new et(p,this);const v=c.listener,S=c.ha||c.src;c.fa&&ua(c),c=v.call(S,p)}return c}function hr(c){return c=c[Le],c instanceof le?c:null}var So="__closure_events_fn_"+(Math.random()*1e9>>>0);function wo(c){return typeof c=="function"?c:(c[So]||(c[So]=function(p){return c.handleEvent(p)}),c[So])}function Et(){V.call(this),this.i=new le(this),this.M=this,this.G=null}A(Et,V),Et.prototype[ut]=!0,Et.prototype.removeEventListener=function(c,p,v,S){la(this,c,p,v,S)};function Vt(c,p){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var L=p;p=new O(S,c),re(p,L)}L=!0;let F,se;if(v)for(se=v.length-1;se>=0;se--)F=p.g=v[se],L=hs(F,S,!0,p)&&L;if(F=p.g=c,L=hs(F,S,!0,p)&&L,L=hs(F,S,!1,p)&&L,v)for(se=0;se<v.length;se++)F=p.g=v[se],L=hs(F,S,!1,p)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const v=c.g[p];for(let S=0;S<v.length;S++)de(v[S]);delete c.g[p],c.h--}}this.G=null},Et.prototype.J=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},Et.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function hs(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let F=0;F<p.length;++F){const se=p[F];if(se&&!se.da&&se.capture==v){const we=se.listener,pt=se.ha||se.src;se.fa&&Te(c.i,se),L=we.call(pt,S)!==!1&&L}}return L&&!S.defaultPrevented}function qh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function fu(c){c.g=qh(()=>{c.g=null,c.i&&(c.i=!1,fu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nn extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fr(c){V.call(this),this.h=c,this.g={}}A(fr,V);var Ro=[];function Io(c){Ue(c.g,function(p,v){this.g.hasOwnProperty(v)&&ua(p)},c),c.g={}}fr.prototype.N=function(){fr.Z.N.call(this),Io(this)},fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=f.JSON.stringify,Hh=f.JSON.parse,du=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function mu(){}function pu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}A(qt,O);function Rn(){O.call(this,"c")}A(Rn,O);var mt={},gu=null;function ca(){return gu=gu||new Et}mt.Ia="serverreachability";function yu(c){O.call(this,mt.Ia,c)}A(yu,O);function ri(c){const p=ca();Vt(p,new yu(p))}mt.STAT_EVENT="statevent";function dr(c,p){O.call(this,mt.STAT_EVENT,c),this.stat=p}A(dr,O);function Tt(c){const p=ca();Vt(p,new dr(p,c))}mt.Ja="timingevent";function ai(c,p){O.call(this,mt.Ja,c),this.size=p}A(ai,O);function oi(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Fh(c,p,v,S,L,F){c.info(function(){if(c.g)if(F){var se="",we=F.split("&");for(let He=0;He<we.length;He++){var pt=we[He].split("=");if(pt.length>1){const at=pt[0];pt=pt[1];const xn=at.split("_");se=xn.length>=2&&xn[1]=="type"?se+(at+"="+pt+"&"):se+(at+"=redacted&")}}}else se=null;else se=F;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+p+`
`+v+`
`+se})}function _u(c,p,v,S,L,F,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+se})}function li(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Gh(c,v)+(S?" "+S:"")})}function mr(c,p){c.info(function(){return"TIMEOUT: "+p})}Hn.prototype.info=function(){};function Gh(c,p){if(!c.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var v=F[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return fs(F)}catch{return p}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},No;function gr(){}A(gr,mu),gr.prototype.g=function(){return new XMLHttpRequest},No=new gr;function Pi(c){return encodeURIComponent(String(c))}function vu(c){var p=1;c=c.split(":");const v=[];for(;p>0&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function Fn(c,p,v,S){this.j=c,this.i=p,this.l=v,this.S=S||1,this.V=new fr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function ui(c,p,v){c.M=1,c.A=yr(St(p)),c.u=v,c.R=!0,ha(c,null)}function ha(c,p){c.F=Date.now(),ci(c),c.B=St(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Gn,c.g=Vu(c.j,v?p:null,!c.u),c.P>0&&(c.O=new nn(y(c.Y,c,c.g),c.P)),p=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ro[0]=L.toString()),L=Ro);for(let F=0;F<L.length;F++){const se=rt(v,L[F],S||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),ri(),Fh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Yn(this.g),pt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||we!=4||pt==7||(pt==8||He<=0?ri(3):ri(2)),hi(this);var p=this.g.ca();this.X=p;var v=Kh(this);if(this.o=p==200,_u(this.i,this.v,this.B,this.l,this.S,we,p),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var F=S;break t}}F=null}if(c=F)li(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Tu(this,v),at==Lt){we==4&&(this.m=4,Tt(14),c=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Tt(15),li(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else li(this.i,this.l,at,null),fi(this,at);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)li(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Fo(se),se.P=!0,Tt(11))}}else li(this.i,this.l,v,null),fi(this,v);we==4&&gn(this),this.o&&!this.K&&(we==4?xu(this.j,this):(this.o=!1,ci(this)))}else ji(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),In(this)}}}catch{}finally{}};function Kh(c){if(!Eu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let v="";const S=p.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<S;F++)c.h.h=!0,v+=c.h.i.decode(p[F],{stream:!(L&&F==S-1)});return p.length=0,c.h.g+=v,c.C=0,c.h.g}function Eu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Tu(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Lt:(v=Number(p.substring(v,S)),isNaN(v)?bt:(S+=1,S+v>p.length?Lt:(p=p.slice(S,S+v),c.C=S+v,p)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function ci(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=oi(y(c.aa,c),p)}function hi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(ri(),Tt(17)),gn(this),this.m=2,In(this)):fa(this,this.T-c)};function In(c){c.j.I==0||c.K||xu(c.j,c)}function gn(c){hi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Io(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function fi(c,p){try{var v=c.j;if(v.I!=0&&(v.g==c||mi(v.h,c))){if(!c.L&&mi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Es(v);else break e;Sr(v),Tt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ei(v,11)}else if((c.L||v.g==c)&&Ea(v),!C(p))for(L=v.Ba.g.parse(p),p=0;p<L.length;p++){let He=L[p];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const xn=He[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const Ti=He[4];Ti!=null&&(v.za=Ti,v.j.info("SVER="+v.za));const $n=He[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=c.g;if(Xn){const wr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wr){var F=S.h;F.g||wr.indexOf("spdy")==-1&&wr.indexOf("quic")==-1&&wr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Oo(F,F.h),F.h=null))}if(S.G){const Ta=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(S.wa=Ta,Ke(S.J,S.G,Ta))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=Mu(S,S.L?S.ba:null,S.W),se.L){Mo(S.h,se);var we=se,pt=S.O;pt&&(we.H=pt),we.D&&(hi(we),ci(we)),S.g=se}else Cu(S);v.i.length>0&&vi(v)}else He[0]!="stop"&&He[0]!="close"||Ei(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?Ei(v,7):qo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}ri(4)}catch{}}var At=class{constructor(c,p){this.g=c,this.map=p}};function xo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Do(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function di(c){return c.h?1:c.g?c.g.size:0}function mi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Oo(c,p){c.g?c.g.add(p):c.h=p}function Mo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xo.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Vo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.G);return p}return P(c.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,p){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,F=null;S>=0?(L=c[v].substring(0,S),F=c[v].substring(S+1)):L=c[v],p(L,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.u),this.h=c.h,ko(this,Ru(c.i)),this.m=c.m):c&&(p=String(c).match(bu))?(this.l=!1,jt(this,p[1]||"",!0),this.o=pi(p[2]||""),this.g=pi(p[3]||"",!0),ds(this,p[4]),this.h=pi(p[5]||"",!0),ko(this,p[6]||"",!0),this.m=pi(p[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(_r(p,ma,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(_r(p,ma,!0),"@"),c.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(_r(v,v.charAt(0)=="/"?Uo:Au,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",_r(v,Su)),c.join("")},yn.prototype.resolve=function(c){const p=St(this);let v=!!c.j;v?jt(p,c.j):v=!!c.o,v?p.o=c.o:v=!!c.g,v?p.g=c.g:v=c.u!=null;var S=c.h;if(v)ds(p,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=p.h.lastIndexOf("/");L!=-1&&(S=p.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const F=[];for(let se=0;se<L.length;){const we=L[se++];we=="."?S&&se==L.length&&F.push(""):we==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),S&&se==L.length&&F.push("")):(F.push(we),S=!0)}S=F.join("/")}else S=L}return v?p.h=S:v=c.i.toString()!=="",v?ko(p,Ru(c.i)):v=!!c.m,v&&(p.m=c.m),p};function St(c){return new yn(c)}function jt(c,p,v){c.j=v?pi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function ko(c,p,v){p instanceof ps?(c.i=p,ga(c.i,c.l)):(v||(p=_r(p,ms)),c.i=new ps(p,c.l))}function Ke(c,p,v){c.i.set(p,v)}function yr(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function pi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _r(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,on),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Au=/[#\?:]/g,Uo=/[#\?]/g,ms=/[#\?@]/g,Su=/#/g;function ps(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(c,p){ln(this),this.i=null,c=gs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function wu(c,p){ln(c),p=gs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Po(c,p){return ln(c),p=gs(c,p),c.g.has(p)}s.forEach=function(c,p){ln(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(p,L,S,this)},this)},this)};function Lo(c,p){ln(c);let v=[];if(typeof p=="string")Po(c,p)&&(v=v.concat(c.g.get(gs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)v=v.concat(c[p]);return v}s.set=function(c,p){return ln(this),this.i=null,c=gs(this,c),Po(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},s.get=function(c,p){return c?(c=Lo(this,c),c.length>0?String(c[0]):p):p};function pa(c,p,v){wu(c,p),v.length>0&&(c.i=null,c.g.set(gs(c,p),P(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let S=0;S<p.length;S++){var v=p[S];const L=Pi(v);v=Lo(this,v);for(let F=0;F<v.length;F++){let se=L;v[F]!==""&&(se+="="+Pi(v[F])),c.push(se)}}return this.i=c.join("&")};function Ru(c){const p=new ps;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function gs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ga(c,p){p&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(wu(this,S),pa(this,L,v))},c)),c.j=p}function Kn(c,p){const v=new Hn;if(f.Image){const S=new Image;S.onload=b(Cn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=b(Cn,v,"TestLoadImage: error",!1,p,S),S.onabort=b(Cn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=b(Cn,v,"TestLoadImage: timeout",!1,p,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function jo(c,p){const v=new Hn,S=new AbortController,L=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(L),F.ok?Cn(v,"TestPingServer: ok",!0,p):Cn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,p)})}function Cn(c,p,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function ys(){this.g=new du}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(gi,mu),gi.prototype.g=function(){return new vr(this.i,this.h)};function vr(c,p){Et.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(vr,Et),s=vr.prototype,s.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?_s(this):Qn(this),this.readyState==3&&ya(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,_s(this))},s.Na=function(c){this.g&&(this.response=c,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}s.setRequestHeader=function(c,p){this.A.append(c,p)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let p="";return Ue(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function Er(c,p,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Nn(v),typeof c=="string"?v!=null&&Pi(v):Ke(c,p,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($e,Et);var yi=/^https?$/i,zo=["POST","PUT"];s=$e.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():No.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){Tr(this,F);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())v.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(zo,p,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,se]of v)this.g.setRequestHeader(F,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Tr(this,F)}};function Tr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,Bo(c),Li(c)}function Bo(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Li(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Li(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},s.Xa=function(){br(this)};function br(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var S;if(S=F===0){let se=String(c.D).match(bu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),S=!yi.test(se?se.toLowerCase():"")}v=S}if(v)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",Bo(c)}}finally{Li(c)}}}}function Li(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,p||Vt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Hh(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=vu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}qe(p,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function vs(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,c),this.Za=_i("retryDelaySeedMs",1e4,c),this.Ta=_i("forwardChannelMaxRetries",2,c),this.va=_i("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new xo(c&&c.concurrentRequestLimit),this.Ba=new ys,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(c,p,v,S){Tt(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Mu(this,null,this.W),vi(this)};function qo(c){if(_a(c),c.I==3){var p=c.V++,v=St(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",p),Ke(v,"TYPE","terminate"),Ar(c,v),p=new Fn(c,c.j,p),p.M=2,p.A=yr(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=p.A,v=!0),v||(p.g=Vu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ci(p)}Ou(c)}function Es(c){c.g&&(Fo(c),c.g.cancel(),c.g=null)}function _a(c){Es(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function vi(c){if(!Do(c.h)&&!c.m){c.m=!0;var p=c.Ea;ce||R(),Ee||(ce(),Ee=!0),x.add(p,c),c.D=0}}function va(c,p){return di(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=oi(y(c.Ea,c,p),Du(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),re(F,this.U)):F=this.U),this.u!==null||this.R||(L.J=F,F=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=Iu(this,L,p),v=St(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ar(this,v),F&&(this.R?p="headers="+Pi(Nn(F))+"&"+p:this.u&&Er(v,this.u,F)),Oo(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",p),Ke(v,"SID","null"),L.U=!0,ui(L,v,null)):ui(L,v,p),this.I=2}}else this.I==3&&(c?Ho(this,c):this.i.length==0||Do(this.h)||Ho(this))};function Ho(c,p){var v;p?v=p.l:v=c.V++;const S=St(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),Ar(c,S),c.u&&c.o&&Er(S,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Iu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Oo(c.h,v),ui(v,S,p)}function Ar(c,p){c.H&&Ue(c.H,function(v,S){Ke(p,S,v)}),c.l&&Ue({},function(v,S){Ke(p,S,v)})}function Iu(c,p,v){v=Math.min(c.i.length,v);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var L=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=L[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var F=L[at].g;const xn=L[at].map;if(F-=we,F<0)we=Math.max(0,L[at].g-100),He=!1;else try{F="req"+F+"_"||"";try{var se=xn instanceof Map?xn:Object.entries(xn);for(const[Ti,$n]of se){let Xn=$n;m($n)&&(Xn=fs($n)),pt.push(F+Ti+"="+encodeURIComponent(Xn))}}catch(Ti){throw pt.push(F+"type="+encodeURIComponent("_badmap")),Ti}}catch{S&&S(xn)}}if(He){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),p.G=c,se}function Cu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ce||R(),Ee||(ce(),Ee=!0),x.add(p,c),c.A=0}}function Sr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=oi(y(c.Da,c),Du(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,Nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=oi(y(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Es(this),Nu(this))};function Fo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Nu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Ke(p,"RID","rpc"),Ke(p,"SID",c.M),Ke(p,"AID",c.K),Ke(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(p,"TO",c.ia),Ke(p,"TYPE","xmlhttp"),Ar(c,p),c.u&&c.o&&Er(p,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=yr(St(p)),v.u=null,v.R=!0,ha(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Sr(this),Tt(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function xu(c,p){var v=null;if(c.g==p){Ea(c),Fo(c),c.g=null;var S=2}else if(mi(c.h,p))v=p.G,Mo(c.h,p),S=1;else return;if(c.I!=0){if(p.o)if(S==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;S=ca(),Vt(S,new ai(S,v)),vi(c)}else Cu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(S==1&&va(c,p)||S==2&&Sr(c)))switch(v&&v.length>0&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ei(c,5);break;case 4:Ei(c,10);break;case 3:Ei(c,6);break;default:Ei(c,2)}}}function Du(c,p){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*p}function Ei(c,p){if(c.j.info("Error code "+p),p==2){var v=y(c.bb,c),S=c.Ua;const L=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(S,"https"),yr(S),L?Kn(S.toString(),v):jo(S.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(p),Ou(c),_a(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Ou(c){if(c.I=0,c.ja=[],c.l){const p=Vo(c.h);(p.length!=0||c.i.length!=0)&&(B(c.ja,p),B(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Mu(c,p,v){var S=v instanceof yn?St(v):new yn(v);if(S.g!="")p&&(S.g=p+"."+S.g),ds(S,S.u);else{var L=f.location;S=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const F=new yn(null);S&&jt(F,S),p&&(F.g=p),L&&ds(F,L),v&&(F.h=v),S=F}return v=c.G,p=c.wa,v&&p&&Ke(S,v,p),Ke(S,"VER",c.ka),Ar(c,S),S}function Vu(c,p,v){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $e(new gi({ab:v})):new $e(c.ma),p.Fa(c.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}s=ku.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){Et.call(this),this.g=new vs(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zi(this)}A(sn,Et),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){qo(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fs(c),c=v);p.i.push(new At(p.Ya++,c)),p.I==3&&vi(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,qo(this.g),delete this.g,sn.Z.N.call(this)};function Uu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}A(Uu,qt);function Pu(){Rn.call(this),this.status=1}A(Pu,Rn);function zi(c){this.g=c}A(zi,ku),zi.prototype.ra=function(){Vt(this.g,"a")},zi.prototype.qa=function(c){Vt(this.g,new Uu(c))},zi.prototype.pa=function(c){Vt(this.g,new Pu)},zi.prototype.oa=function(){Vt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,S0=function(){return new Ts},A0=function(){return ca()},b0=mt,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,eh=pr,Co.COMPLETE="complete",T0=Co,pu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Ol=pu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,E0=$e}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",sE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new qm("@firebase/firestore");function Wa(){return Jr.logLevel}function oe(s,...e){if(Jr.logLevel<=Me.DEBUG){const n=e.map(ap);Jr.debug(`Firestore (${_o}): ${s}`,...n)}}function ls(s,...e){if(Jr.logLevel<=Me.ERROR){const n=e.map(ap);Jr.error(`Firestore (${_o}): ${s}`,...n)}}function uo(s,...e){if(Jr.logLevel<=Me.WARN){const n=e.map(ap);Jr.warn(`Firestore (${_o}): ${s}`,...n)}}function ap(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,w0(s,r,n)}function w0(s,e,n){let r=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ls(r),new Error(r)}function Ge(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||w0(e,o,r)}function Se(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class zC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class BC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string",31837,{l:r}),new R0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class qC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const r=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=GC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Ve(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=e.charAt(r);if(o!==u)return sm(o)===sm(u)?Ve(o,u):sm(o)?1:-1}return Ve(s.length,e.length)}const KC=55296,QC=57343;function sm(s){const e=s.charCodeAt(0);return e>=KC&&e<=QC}function co(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="__name__";class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ve(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Ri.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Ri.isNumericId(e),o=Ri.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zs.fromString(e.substring(4,e.length-2))}}class tt extends Ri{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const YC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ri{construct(e,n,r){return new $t(e,n,r)}static isValidIdentifier(e){return YC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aE}static keyField(){return new $t([aE])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ae(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new ae(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(s,e,n){if(!n)throw new ae(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function $C(s,e,n,r){if(e===!0&&r===!0)throw new ae(Z.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function oE(s){if(!pe.isDocumentKey(s))throw new ae(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function lE(s){if(pe.isDocumentKey(s))throw new ae(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function C0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ve(12329,{type:typeof s})}function so(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(s);throw new ae(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function ou(s,e){if(!C0(s))throw new ae(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new ae(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=-62135596800,cE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uE)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-uE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new st(0,0))}static max(){return new be(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function XC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=be.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new tr(o,pe.empty(),e)}function WC(s){return new tr(s.readTime,s.key,Gl)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(be.min(),pe.empty(),Gl)}static max(){return new tr(be.max(),pe.empty(),Gl)}}function ZC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==JC)throw s;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(g=>r(g)))})),f=!0,u===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++m,m===u&&r(f)}),(b=>o(b)))}}))}static doWhile(e,n){return new J(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function tN(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Dh(s){return s==null}function mh(s){return s===0&&1/s==-1/0}function nN(s){return typeof s=="number"&&Number.isInteger(s)&&!mh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="";function iN(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=hE(e)),e=sN(s.get(n),e);return hE(e)}function sN(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case N0:n+="";break;default:n+=u}}return n}function hE(s){return s+N0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function na(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function x0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new ti([])}unionWith(e){let n=new Pt($t.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ti(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new D0("Invalid base64 string: "+u):u}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(s){if(Ge(!!s,39018),typeof s=="string"){let e=0;const n=rN.exec(s);if(Ge(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(s.seconds),nanos:_t(s.nanos)}}function _t(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ir(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="server_timestamp",M0="__type__",V0="__previous_value__",k0="__local_write_time__";function up(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[M0])==null?void 0:r.stringValue)===O0}function Oh(s){const e=s.mapValue.fields[V0];return up(e)?Oh(e):e}function Kl(s){const e=nr(s.mapValue.fields[k0].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n,r,o,u,f,m,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const ph="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__type__",oN="__max__",Kc={mapValue:{}},P0="__vector__",gh="value";function sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?up(s)?4:uN(s)?9007199254740991:lN(s)?10:11:ve(28295,{value:s})}function ki(s,e){if(s===e)return!0;const n=sr(s);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Kl(s).isEqual(Kl(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=nr(o.timestampValue),m=nr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,u){return ir(o.bytesValue).isEqual(ir(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(s,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return co(s.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fE(f)!==fE(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ki(f[g],m[g])))return!1;return!0})(s,e);default:return ve(52216,{left:s})}}function Yl(s,e){return(s.values||[]).find((n=>ki(n,e)))!==void 0}function ho(s,e){if(s===e)return 0;const n=sr(s),r=sr(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),g=_t(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return mE(s.timestampValue,e.timestampValue);case 4:return mE(Kl(s),Kl(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(u,f){const m=ir(u),g=ir(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Ve(m[y],g[y]);if(b!==0)return b}return Ve(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(_t(u.latitude),_t(f.latitude));return m!==0?m:Ve(_t(u.longitude),_t(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return pE(s.arrayValue,e.arrayValue);case 10:return(function(u,f){var w,P,B,K;const m=u.fields||{},g=f.fields||{},y=(w=m[gh])==null?void 0:w.arrayValue,b=(P=g[gh])==null?void 0:P.arrayValue,A=Ve(((B=y==null?void 0:y.values)==null?void 0:B.length)||0,((K=b==null?void 0:b.values)==null?void 0:K.length)||0);return A!==0?A:pE(y,b)})(s.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Kc.mapValue&&f===Kc.mapValue)return 0;if(u===Kc.mapValue)return 1;if(f===Kc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const w=Am(g[A],b[A]);if(w!==0)return w;const P=ho(m[g[A]],y[b[A]]);if(P!==0)return P}return Ve(g.length,b.length)})(s.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function mE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=nr(s),r=nr(e),o=Ve(n.seconds,r.seconds);return o!==0?o:Ve(n.nanos,r.nanos)}function pE(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=ho(n[o],r[o]);if(u)return u}return Ve(n.length,r.length)}function fo(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=nr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ir(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return pe.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=Sm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"})(s.mapValue):ve(61005,{value:s})}function th(s){switch(sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(s);return e?16+th(e):16;case 5:return 2*s.stringValue.length;case 6:return ir(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+th(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return na(r.fields,((u,f)=>{o+=u.length+th(f)})),o})(s.mapValue);default:throw ve(13486,{value:s})}}function gE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function wm(s){return!!s&&"integerValue"in s}function cp(s){return!!s&&"arrayValue"in s}function yE(s){return!!s&&"nullValue"in s}function _E(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function nh(s){return!!s&&"mapValue"in s}function lN(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[U0])==null?void 0:r.stringValue)===P0}function jl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return na(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=jl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(s.arrayValue.values[n]);return e}return{...s}}function uN(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===oN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=$t.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=jl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());nh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];nh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){na(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new jn(jl(this.value))}}function L0(s){const e=[];return na(s.fields,((n,r)=>{const o=new $t([n]);if(nh(r)){const u=L0(r.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ti(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,o,u,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),jn.empty(),0)}static newFoundDocument(e,n,r,o){return new en(e,1,n,be.min(),r,o,0)}static newNoDocument(e,n){return new en(e,2,n,be.min(),be.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,be.min(),be.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n){this.position=e,this.inclusive=n}}function vE(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const u=e[o],f=s.position[o];if(u.field.isKeyField()?r=pe.comparator(pe.fromName(f.referenceValue),n.key):r=ho(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!ki(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function cN(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{}class xt extends j0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fN(e,n,r):n==="array-contains"?new pN(e,r):n==="in"?new gN(e,r):n==="not-in"?new yN(e,r):n==="array-contains-any"?new _N(e,r):new xt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dN(e,r):new mN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ho(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends j0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ii(e,n)}matches(e){return z0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function z0(s){return s.op==="and"}function B0(s){return hN(s)&&z0(s)}function hN(s){for(const e of s.filters)if(e instanceof ii)return!1;return!0}function Rm(s){if(s instanceof xt)return s.field.canonicalString()+s.op.toString()+fo(s.value);if(B0(s))return s.filters.map((e=>Rm(e))).join(",");{const e=s.filters.map((n=>Rm(n))).join(",");return`${s.op}(${e})`}}function q0(s,e){return s instanceof xt?(function(r,o){return o instanceof xt&&r.op===o.op&&r.field.isEqual(o.field)&&ki(r.value,o.value)})(s,e):s instanceof ii?(function(r,o){return o instanceof ii&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,m)=>u&&q0(f,o.filters[m])),!0):!1})(s,e):void ve(19439)}function H0(s){return s instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`})(s):s instanceof ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(H0).join(" ,")+"}"})(s):"Filter"}class fN extends xt{constructor(e,n,r){super(e,n,r),this.key=pe.fromName(r.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class dN extends xt{constructor(e,n){super(e,"in",n),this.keys=F0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class mN extends xt{constructor(e,n){super(e,"not-in",n),this.keys=F0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function F0(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>pe.fromName(r.referenceValue)))}class pN extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&Yl(n.arrayValue,this.value)}}class gN extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class yN extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class _N extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Yl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function TE(s,e=null,n=[],r=[],o=null,u=null,f=null){return new vN(s,e,n,r,o,u,f)}function hp(s){const e=Se(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Rm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fo(r))).join(",")),e.Te=n}return e.Te}function fp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!cN(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!q0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!EE(s.startAt,e.startAt)&&EE(s.endAt,e.endAt)}function Im(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n=null,r=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function EN(s,e,n,r,o,u,f,m){return new To(s,e,n,r,o,u,f,m)}function dp(s){return new To(s)}function bE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function G0(s){return s.collectionGroup!==null}function zl(s){const e=Se(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt($t.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $l(u,r))})),n.has($t.keyField().canonicalString())||e.Ie.push(new $l($t.keyField(),r))}return e.Ie}function xi(s){const e=Se(s);return e.Ee||(e.Ee=TN(e,zl(s))),e.Ee}function TN(s,e){if(s.limitType==="F")return TE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new $l(o.field,u)}));const n=s.endAt?new yh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new yh(s.startAt.position,s.startAt.inclusive):null;return TE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Cm(s,e){const n=s.filters.concat([e]);return new To(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Nm(s,e,n){return new To(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Mh(s,e){return fp(xi(s),xi(e))&&s.limitType===e.limitType}function K0(s){return`${hp(xi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>H0(o))).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>fo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>fo(o))).join(",")),`Target(${r})`})(xi(s))}; limitType=${s.limitType})`}function Vh(s,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):pe.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,o){for(const u of zl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=vE(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,zl(r),o)||r.endAt&&!(function(f,m,g){const y=vE(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,zl(r),o))})(s,e)}function bN(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Q0(s){return(e,n)=>{let r=!1;for(const o of zl(s)){const u=AN(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function AN(s,e,n){const r=s.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ho(g,y):ve(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return ve(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return x0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new lt(pe.comparator);function us(){return SN}const Y0=new lt(pe.comparator);function Ml(...s){let e=Y0;for(const n of s)e=e.insert(n.key,n);return e}function $0(s){let e=Y0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Fr(){return Bl()}function X0(){return Bl()}function Bl(){return new ia((s=>s.toString()),((s,e)=>s.isEqual(e)))}const wN=new lt(pe.comparator),RN=new Pt(pe.comparator);function ke(...s){let e=RN;for(const n of s)e=e.add(n);return e}const IN=new Pt(Ve);function CN(){return IN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function W0(s){return{integerValue:""+s}}function NN(s,e){return nN(e)?W0(e):mp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this._=void 0}}function xN(s,e,n){return s instanceof Xl?(function(o,u){const f={fields:{[M0]:{stringValue:O0},[k0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=Oh(u)),u&&(f.fields[V0]=u),{mapValue:f}})(n,e):s instanceof Wl?J0(s,e):s instanceof Zl?e1(s,e):(function(o,u){const f=Z0(o,u),m=AE(f)+AE(o.Ae);return wm(f)&&wm(o.Ae)?W0(m):mp(o.serializer,m)})(s,e)}function DN(s,e,n){return s instanceof Wl?J0(s,e):s instanceof Zl?e1(s,e):n}function Z0(s,e){return s instanceof _h?(function(r){return wm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class Xl extends kh{}class Wl extends kh{constructor(e){super(),this.elements=e}}function J0(s,e){const n=t1(e);for(const r of s.elements)n.some((o=>ki(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Zl extends kh{constructor(e){super(),this.elements=e}}function e1(s,e){let n=t1(e);for(const r of s.elements)n=n.filter((o=>!ki(o,r)));return{arrayValue:{values:n}}}class _h extends kh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AE(s){return _t(s.integerValue||s.doubleValue)}function t1(s){return cp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.field=e,this.transform=n}}function MN(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof Wl&&o instanceof Wl||r instanceof Zl&&o instanceof Zl?co(r.elements,o.elements,ki):r instanceof _h&&o instanceof _h?ki(r.Ae,o.Ae):r instanceof Xl&&o instanceof Xl})(s.transform,e.transform)}class VN{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Uh{}function n1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new pp(s.key,Di.none()):new lu(s.key,s.data,Di.none());{const n=s.data,r=jn.empty();let o=new Pt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new sa(s.key,r,new ti(o.toArray()),Di.none())}}function kN(s,e,n){s instanceof lu?(function(o,u,f){const m=o.value.clone(),g=wE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof sa?(function(o,u,f){if(!ih(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(i1(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function ql(s,e,n,r){return s instanceof lu?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=u.value.clone(),b=RE(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof sa?(function(u,f,m,g){if(!ih(u.precondition,f))return m;const y=RE(u.fieldTransforms,g,f),b=f.data;return b.setAll(i1(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,n,r):(function(u,f,m){return ih(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function UN(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),u=Z0(r.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(r.field,u))}return n||null}function SE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&co(r,o,((u,f)=>MN(u,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class lu extends Uh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends Uh{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function i1(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function wE(s,e,n){const r=new Map;Ge(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,DN(f,m,n[o]))}return r}function RE(s,e,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,xN(u,f,e))}return r}class pp extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PN extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&kN(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X0();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=n1(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,((n,r)=>SE(n,r)))&&co(this.baseMutations,e.baseMutations,((n,r)=>SE(n,r)))}}class gp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ge(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return wN})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new gp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,je;function BN(s){switch(s){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:s})}}function s1(s){if(s===void 0)return ls("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Nt.OK:return Z.OK;case Nt.CANCELLED:return Z.CANCELLED;case Nt.UNKNOWN:return Z.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return Z.INTERNAL;case Nt.UNAVAILABLE:return Z.UNAVAILABLE;case Nt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Nt.NOT_FOUND:return Z.NOT_FOUND;case Nt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Nt.ABORTED:return Z.ABORTED;case Nt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Nt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:s})}}(je=Nt||(Nt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new Zs([4294967295,4294967295],0);function IE(s){const e=qN().encode(s),n=new v0;return n.update(e),new Uint8Array(n.digest())}function CE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zs([n,r],0),new Zs([o,u],0)]}class yp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Zs.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(Zs.fromNumber(r)));return o.compare(HN)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IE(e),[r,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=IE(e),[r,o]=CE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ph(be.min(),o,new lt(Ve),us(),ke())}}class uu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new uu(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class r1{constructor(e,n){this.targetId=e,this.Ce=n}}class a1{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class NE{constructor(){this.ve=0,this.Fe=xE(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),r=ke();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:ve(38017,{changeType:u})}})),new uu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=xE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FN{constructor(e){this.Ge=e,this.ze=new Map,this.je=us(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Im(u))if(r===0){const f=new pe(u.path);this.et(n,f,en.newNoDocument(f,be.min()))}else Ge(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ir(r).toUint8Array()}catch(g){if(g instanceof D0)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new yp(f,o,u)}catch(g){return uo(g instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Im(m.target)){const g=new pe(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,en.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Ph(e,n,this.Ye,this.je,r);return this.je=us(),this.Je=Qc(),this.He=Qc(),this.Ye=new lt(Ve),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new NE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Qc(){return new lt(pe.comparator)}function xE(){return new lt(pe.comparator)}const GN={asc:"ASCENDING",desc:"DESCENDING"},KN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QN={and:"AND",or:"OR"};class YN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(s,e){return s.useProto3Json||Dh(e)?e:{value:e}}function vh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $N(s,e){return vh(s,e.toTimestamp())}function Oi(s){return Ge(!!s,49232),be.fromTimestamp((function(n){const r=nr(n);return new st(r.seconds,r.nanos)})(s))}function _p(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function l1(s){const e=tt.fromString(s);return Ge(d1(e),10190,{key:e.toString()}),e}function Om(s,e){return _p(s.databaseId,e.path)}function rm(s,e){const n=l1(e);if(n.get(1)!==s.databaseId.projectId)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ae(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new pe(c1(n))}function u1(s,e){return _p(s.databaseId,e)}function XN(s){const e=l1(s);return e.length===4?tt.emptyPath():c1(e)}function Mm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function c1(s){return Ge(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function DE(s,e,n){return{name:Om(s,e),fields:n.value.mapValue.fields}}function WN(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ge(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ge(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?Z.UNKNOWN:s1(y.code);return new ae(b,y.message||"")})(f);n=new a1(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=rm(s,r.document.name),u=Oi(r.document.updateTime),f=r.document.createTime?Oi(r.document.createTime):be.min(),m=new jn({mapValue:{fields:r.document.fields}}),g=en.newFoundDocument(o,u,f,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new sh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=rm(s,r.document),u=r.readTime?Oi(r.readTime):be.min(),f=en.newNoDocument(o,u),m=r.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=rm(s,r.document),u=r.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new zN(o,u),m=r.targetId;n=new r1(m,f)}}return n}function ZN(s,e){let n;if(e instanceof lu)n={update:DE(s,e.key,e.value)};else if(e instanceof pp)n={delete:Om(s,e.key)};else if(e instanceof sa)n={update:DE(s,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof PN))return ve(16599,{Vt:e.type});n={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,f){const m=f.transform;if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _h)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$N(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(s,e.precondition)),n}function JN(s,e){return s&&s.length>0?(Ge(e!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(be.min())&&(f=Oi(u)),new VN(f,o.transformResults||[])})(n,e)))):[]}function ex(s,e){return{documents:[u1(s,e.path)]}}function tx(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u1(s,o);const u=(function(y){if(y.length!==0)return f1(ii.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(w){return{field:Ja(w.field),direction:sx(w.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function nx(s){let e=XN(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ge(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(A){const w=h1(A);return w instanceof ii&&B0(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(B){return new $l(eo(B.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(B.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(A){let w;return w=typeof A=="object"?A.value:A,Dh(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(A){const w=!!A.before,P=A.values||[];return new yh(P,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,P=A.values||[];return new yh(P,w)})(n.endAt)),EN(e,o,f,u,m,"F",g,y)}function ix(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function h1(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=eo(n.unaryFilter.field);return xt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(s):s.fieldFilter!==void 0?(function(n){return xt.create(eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ii.create(n.compositeFilter.filters.map((r=>h1(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(s):ve(30097,{filter:s})}function sx(s){return GN[s]}function rx(s){return KN[s]}function ax(s){return QN[s]}function Ja(s){return{fieldPath:s.canonicalString()}}function eo(s){return $t.fromServerFormat(s.fieldPath)}function f1(s){return s instanceof xt?(function(n){if(n.op==="=="){if(_E(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_E(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(yE(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:rx(n.op),value:n.value}}})(s):s instanceof ii?(function(n){const r=n.getFilters().map((o=>f1(o)));return r.length===1?r[0]:{compositeFilter:{op:ax(n.op),filters:r}}})(s):ve(54877,{filter:s})}function ox(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function d1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.yt=e}}function ux(s){const e=nx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.Cn=new hx}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(tr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class hx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Pt(tt.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m1=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(m1,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="LruGarbageCollector",fx=1048576;function VE([s,e],[n,r]){const o=Ve(s,n);return o===0?Ve(e,r):o}class dx{constructor(e){this.Ir=e,this.buffer=new Pt(VE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();VE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(ME,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?oe(ME,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.Vr(3e5)}))}}class px{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(xh.ce);const r=new dx(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(OE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,m=Date.now(),this.removeTargets(e,r,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(y=Date.now(),Wa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function gx(s,e){return new px(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.changes=new ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&ql(r.mutation,o,ti.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ke()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ke()){const o=Fr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let f=Ml();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Fr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ke())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let u=us();const f=Bl(),m=(function(){return Bl()})();return n.forEach(((g,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof sa)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),ql(b.mutation,y,b.mutation.getFieldMask(),st.now())):f.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new _x(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Bl();let o=new lt(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=r.get(g)||ti.empty();b=m.applyToLocalView(y,b),r.set(g,b);const A=(o.get(m.batchId)||ke()).add(g);o=o.insert(m.batchId,A)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=X0();b.forEach((w=>{if(!u.has(w)){const P=n1(n.get(w),r.get(w));P!==null&&A.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):G0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):J.resolve(Fr());let m=Gl,g=u;return f.next((y=>J.forEach(y,((b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?J.resolve():this.remoteDocumentCache.getEntry(e,b).next((w=>{g=g.insert(b,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:$0(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((r=>{let o=Ml();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next((m=>J.forEach(m,(g=>{const y=(function(A,w){return new To(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((b=>{b.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,en.newInvalidDocument(b)))}));let m=Ml();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&ql(b.mutation,y,ti.empty(),st.now()),Vh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:ux(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(){this.overlays=new lt(pe.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fr();return J.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Fr(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>r&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new lt(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=Fr(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Fr(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return J.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new jN(n,r));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Qr=new Pt(Bt.$r),this.Ur=new Pt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new pe(new tt([])),r=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new tt([])),r=new Bt(n,e),o=new Bt(n,e+1);let u=ke();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Bt.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new LN(u,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?lp:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Ve);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{r=r.add(m.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;pe.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new pe(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),f),J.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Bt(n,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){this.ri=e,this.docs=(function(){return new lt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=us();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=us();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ZC(WC(b),r)<=0||(o.has(b.key)||Vh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,r,o){ve(9500)}ii(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new wx(this)}getSize(e){return J.resolve(this.size)}}class wx extends yx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.persistence=e,this.si=new ia((n=>hp(n)),fp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new vp,this.targetCount=0,this.ai=mo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new bx,this.referenceDelegate=e(this),this.Pi=new Rx(this),this.indexManager=new cx,this.remoteDocumentCache=(function(o){return new Sx(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new lx(n),this.Ii=new Ex(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Ax(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const o=new Ix(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Ix extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.Ri=new vp,this.Vi=null}static mi(e){return new Ep(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=pe.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Eh{constructor(e,n){this.persistence=e,this.pi=new ia((r=>iN(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gx(this,n)}static mi(e,n){return new Eh(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(r++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=th(e.data.value)),n}br(e,n,r){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qS()?8:tN(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new Cx;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(Wa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Wa()<=Me.DEBUG&&oe("QueryEngine","Query:",Za(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Wa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(n))):J.resolve())}ys(e,n){if(bE(n))return J.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,o){return bE(n)||o.isEqual(be.min())?J.resolve(null):this.ps.getDocuments(e,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?J.resolve(null):(Wa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.vs(e,f,n,XC(o,Gl)).next((m=>m)))}))}Ds(e,n){let r=new Pt(Q0(e));return n.forEach(((o,u)=>{Vh(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return Wa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ps.getDocumentsMatchingQuery(e,n,tr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="LocalStore",xx=3e8;class Dx{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Ve),this.xs=new ia((u=>hp(u)),fp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ox(s,e,n,r){return new Dx(s,e,n,r)}async function g1(s,e){const n=Se(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],m=[];let g=ke();for(const y of o){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function Mx(s,e){const n=Se(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const A=y.batch,w=A.keys();let P=J.resolve();return w.forEach((B=>{P=P.next((()=>b.getEntry(g,B))).next((K=>{const Q=y.docVersions.get(B);Ge(Q!==null,48541),K.version.compareTo(Q)<0&&(A.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),b.addEntry(K)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(g,A)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function y1(s){const e=Se(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Vx(s,e){const n=Se(s),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,A)=>{const w=o.get(A);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,A))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,r)),o=o.insert(A,P),(function(K,Q,te){return K.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=xx?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(w,P,b)&&m.push(n.Pi.updateTargetData(u,P))}));let g=us(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(kx(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!r.isEqual(be.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return J.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function kx(s,e,n){let r=ke(),o=ke();return n.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let f=us();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):oe(bp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function Ux(s,e){const n=Se(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Px(s,e){const n=Se(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new $s(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Vm(s,e,n){const r=Se(s),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Eo(f))throw f;oe(bp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function kE(s,e,n){const r=Se(s);let o=be.min(),u=ke();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const A=Se(g),w=A.xs.get(b);return w!==void 0?J.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,b)})(r,f,xi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke()))).next((m=>(Lx(r,bN(e),m),{documents:m,Qs:u})))))}function Lx(s,e,n){let r=s.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class UE{constructor(){this.activeTargetIds=CN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(){this.Mo=new UE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="ConnectivityMonitor";class LE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(PE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(PE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function km(){return Yc===null?Yc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="RestConnection",Bx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const f=km(),m=this.zo(e,n.toUriEncodedString());oe(am,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),b=or(y);return this.Jo(e,m,g,r,b).then((A=>(oe(am,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw uo(am,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",r),A}))}Ho(e,n,r,o,u,f){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=Bx[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class Fx extends qx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const f=km();return new Promise(((m,g)=>{const y=new E0;y.setWithCredentials(!0),y.listenOnce(T0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case eh.NO_ERROR:const A=y.getResponseJson();oe(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case eh.TIMEOUT:oe(Zt,`RPC '${e}' ${f} timed out`),g(new ae(Z.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const w=y.getStatus();if(oe(Zt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const B=P==null?void 0:P.error;if(B&&B.status&&B.message){const K=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(B.status);g(new ae(K,B.message))}else g(new ae(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ae(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Zt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(o);oe(Zt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=S0(),m=A0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const b=u.join("");oe(Zt,`Creating RPC '${e}' stream ${o}: ${b}`,g);const A=f.createWebChannel(b,g);this.I_(A);let w=!1,P=!1;const B=new Hx({Yo:Q=>{P?oe(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(w||(oe(Zt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),oe(Zt,`RPC '${e}' stream ${o} sending:`,Q),A.send(Q))},Zo:()=>A.close()}),K=(Q,te,ne)=>{Q.listen(te,(ee=>{try{ne(ee)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return K(A,Ol.EventType.OPEN,(()=>{P||(oe(Zt,`RPC '${e}' stream ${o} transport opened.`),B.o_())})),K(A,Ol.EventType.CLOSE,(()=>{P||(P=!0,oe(Zt,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(A))})),K(A,Ol.EventType.ERROR,(Q=>{P||(P=!0,uo(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),B.a_(new ae(Z.UNAVAILABLE,"The operation could not be completed")))})),K(A,Ol.EventType.MESSAGE,(Q=>{var te;if(!P){const ne=Q.data[0];Ge(!!ne,16349);const ee=ne,ue=(ee==null?void 0:ee.error)||((te=ee[0])==null?void 0:te.error);if(ue){oe(Zt,`RPC '${e}' stream ${o} received error:`,ue);const ce=ue.status;let Ee=(function(I){const V=Nt[I];if(V!==void 0)return s1(V)})(ce),x=ue.message;Ee===void 0&&(Ee=Z.INTERNAL,x="Unknown error status: "+ce+" with message "+ue.message),P=!0,B.a_(new ae(Ee,x)),A.close()}else oe(Zt,`RPC '${e}' stream ${o} received:`,ne),B.u_(ne)}})),K(m,b0.STAT_EVENT,(Q=>{Q.stat===bm.PROXY?oe(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===bm.NOPROXY&&oe(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{B.__()}),0),B}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(s){return new YN(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class v1{constructor(e,n,r,o,u,f,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new ae(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Gx extends v1{constructor(e,n,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WN(this.serializer,e),r=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Oi(f.readTime):be.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=Im(g)?{documents:ex(u,g)}:{query:tx(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=o1(u,f.resumeToken);const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=vh(u,f.snapshotVersion.toTimestamp());const y=xm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=ix(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.q_(n)}}class Kx extends v1{constructor(e,n,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JN(e.writeResults,e.commitTime),r=Oi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ZN(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{}class Yx extends Qx{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Dm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae(Z.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Dm(n,r),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ae(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $x{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class Xx{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ra(this)&&(oe(ea,"Restarting streams for network reachability change."),await(async function(g){const y=Se(g);y.Ea.add(4),await cu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jh(y)})(this))}))})),this.Ra=new $x(r,o)}}async function jh(s){if(ra(s))for(const e of s.da)await e(!0)}async function cu(s){for(const e of s.da)await e(!1)}function E1(s,e){const n=Se(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rp(n)?wp(n):bo(n).O_()&&Sp(n,e))}function Ap(s,e){const n=Se(s),r=bo(n);n.Ia.delete(e),r.O_()&&T1(n,e),n.Ia.size===0&&(r.O_()?r.L_():ra(n)&&n.Ra.set("Unknown"))}function Sp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(s).Y_(e)}function T1(s,e){s.Va.Ue(e),bo(s).Z_(e)}function wp(s){s.Va=new FN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),bo(s).start(),s.Ra.ua()}function Rp(s){return ra(s)&&!bo(s).x_()&&s.Ia.size>0}function ra(s){return Se(s).Ea.size===0}function b1(s){s.Va=void 0}async function Wx(s){s.Ra.set("Online")}async function Zx(s){s.Ia.forEach(((e,n)=>{Sp(s,e)}))}async function Jx(s,e){b1(s),Rp(s)?(s.Ra.ha(e),wp(s)):s.Ra.set("Unknown")}async function eD(s,e,n){if(s.Ra.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(s,e)}catch(r){oe(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(s,r)}else if(e instanceof sh?s.Va.Ze(e):e instanceof r1?s.Va.st(e):s.Va.tt(e),!n.isEqual(be.min()))try{const r=await y1(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),T1(u,g);const A=new $s(b.target,g,y,b.sequenceNumber);Sp(u,A)})),u.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){oe(ea,"Failed to raise snapshot:",r),await Th(s,r)}}async function Th(s,e,n){if(!Eo(e))throw e;s.Ea.add(1),await cu(s),s.Ra.set("Offline"),n||(n=()=>y1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(ea,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await jh(s)}))}function A1(s,e){return e().catch((n=>Th(s,n,e)))}async function zh(s){const e=Se(s),n=rr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lp;for(;tD(e);)try{const o=await Ux(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,nD(e,o)}catch(o){await Th(e,o)}S1(e)&&w1(e)}function tD(s){return ra(s)&&s.Ta.length<10}function nD(s,e){s.Ta.push(e);const n=rr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function S1(s){return ra(s)&&!rr(s).x_()&&s.Ta.length>0}function w1(s){rr(s).start()}async function iD(s){rr(s).ra()}async function sD(s){const e=rr(s);for(const n of s.Ta)e.ea(n.mutations)}async function rD(s,e,n){const r=s.Ta.shift(),o=gp.from(r,e,n);await A1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await zh(s)}async function aD(s,e){e&&rr(s).X_&&await(async function(r,o){if((function(f){return BN(f)&&f!==Z.ABORTED})(o.code)){const u=r.Ta.shift();rr(r).B_(),await A1(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await zh(r)}})(s,e),S1(s)&&w1(s)}async function zE(s,e){const n=Se(s);n.asyncQueue.verifyOperationInProgress(),oe(ea,"RemoteStore received new credentials");const r=ra(n);n.Ea.add(3),await cu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function oD(s,e){const n=Se(s);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await cu(n),n.Ra.set("Unknown"))}function bo(s){return s.ma||(s.ma=(function(n,r,o){const u=Se(n);return u.sa(),new Gx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Wx.bind(null,s),t_:Zx.bind(null,s),r_:Jx.bind(null,s),H_:eD.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Rp(s)?wp(s):s.Ra.set("Unknown")):(await s.ma.stop(),b1(s))}))),s.ma}function rr(s){return s.fa||(s.fa=(function(n,r,o){const u=Se(n);return u.sa(),new Kx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:iD.bind(null,s),r_:aD.bind(null,s),ta:sD.bind(null,s),na:rD.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(ea,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const f=Date.now()+r,m=new Ip(e,n,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cp(s,e){if(ls("AsyncQueue",`${e}: ${s}`),Eo(s))return new ae(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||pe.comparator(n.key,r.key):(n,r)=>pe.comparator(n.key,r.key),this.keyedMap=Ml(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ro;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.ga=new lt(pe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class po{constructor(e,n,r,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new po(e,n,ro.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uD{constructor(){this.queries=qE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Se(n),u=o.queries;o.queries=qE(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(r)}))})(this,new ae(Z.ABORTED,"Firestore shutting down"))}}function qE(){return new ia((s=>K0(s)),Mh)}async function cD(s,e){const n=Se(s);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new lD,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Cp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Np(n)}async function hD(s,e){const n=Se(s),r=e.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fD(s,e){const n=Se(s);let r=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(r=!0);f.wa=o}}r&&Np(n)}function dD(s,e,n){const r=Se(s),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Np(s){s.Ca.forEach((e=>{e.next()}))}var Um,HE;(HE=Um||(Um={})).Ma="default",HE.Cache="cache";class mD{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new po(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.key=e}}class I1{constructor(e){this.key=e}}class pD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=Q0(e),this.tu=new ro(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new BE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,A)=>{const w=o.get(b),P=Vh(this.query,A)?A:null,B=!!w&&this.mutatedKeys.has(w.key),K=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let Q=!1;w&&P?w.data.isEqual(P.data)?B!==K&&(r.track({type:3,doc:P}),Q=!0):this.su(w,P)||(r.track({type:2,doc:P}),Q=!0,(g&&this.eu(P,g)>0||y&&this.eu(P,y)<0)&&(m=!0)):!w&&P?(r.track({type:0,doc:P}),Q=!0):w&&!P&&(r.track({type:1,doc:w}),Q=!0,(g||y)&&(m=!0)),Q&&(P?(f=f.add(P),u=K?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:f,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,A)=>(function(P,B){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:Q})}};return K(P)-K(B)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new po(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new I1(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new R1(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xp="SyncEngine";class gD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yD{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,n,r,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ia((m=>K0(m)),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(pe.comparator),this.Au=new Map,this.Ru=new vp,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vD(s,e,n=!0){const r=M1(s);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await C1(r,e,n,!0),o}async function ED(s,e){const n=M1(s);await C1(n,e,!0,!1)}async function C1(s,e,n,r){const o=await Px(s.localStore,xi(e)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await TD(s,e,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&E1(s.remoteStore,o),m}async function TD(s,e,n,r,o){s.pu=(A,w,P)=>(async function(K,Q,te,ne){let ee=Q.view.ru(te);ee.Cs&&(ee=await kE(K.localStore,Q.query,!1).then((({documents:x})=>Q.view.ru(x,ee))));const ue=ne&&ne.targetChanges.get(Q.targetId),ce=ne&&ne.targetMismatches.get(Q.targetId)!=null,Ee=Q.view.applyChanges(ee,K.isPrimaryClient,ue,ce);return GE(K,Q.targetId,Ee.au),Ee.snapshot})(s,A,w,P);const u=await kE(s.localStore,e,!0),f=new pD(e,u.Qs),m=f.ru(u.documents),g=uu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);GE(s,n,y.au);const b=new gD(e,n,f);return s.Tu.set(e,b),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function bD(s,e,n){const r=Se(s),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Mh(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Ap(r.remoteStore,o.targetId),Pm(r,o.targetId)})).catch(vo)):(Pm(r,o.targetId),await Vm(r.localStore,o.targetId,!0))}async function AD(s,e){const n=Se(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ap(n.remoteStore,r.targetId))}async function SD(s,e,n){const r=DD(s);try{const o=await(function(f,m){const g=Se(f),y=st.now(),b=m.reduce(((P,B)=>P.add(B.key)),ke());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let B=us(),K=ke();return g.Ns.getEntries(P,b).next((Q=>{B=Q,B.forEach(((te,ne)=>{ne.isValidDocument()||(K=K.add(te))}))})).next((()=>g.localDocuments.getOverlayedDocuments(P,B))).next((Q=>{A=Q;const te=[];for(const ne of m){const ee=UN(ne,A.get(ne.key).overlayedDocument);ee!=null&&te.push(new sa(ne.key,ee,L0(ee.value.mapValue),Di.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,te,m)})).next((Q=>{w=Q;const te=Q.applyToLocalDocumentSet(A,K);return g.documentOverlayCache.saveOverlays(P,Q.batchId,te)}))})).then((()=>({batchId:w.batchId,changes:$0(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new lt(Ve)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(r,o.batchId,n),await hu(r,o.changes),await zh(r.remoteStore)}catch(o){const u=Cp(o,"Failed to persist write");n.reject(u)}}async function N1(s,e){const n=Se(s);try{const r=await Vx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))})),await hu(n,r,e)}catch(r){await vo(r)}}function FE(s,e,n){const r=Se(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Se(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,A)=>{for(const w of A.Sa)w.va(m)&&(y=!0)})),y&&Np(g)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wD(s,e,n){const r=Se(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let f=new lt(pe.comparator);f=f.insert(u,en.newNoDocument(u,be.min()));const m=ke().add(u),g=new Ph(be.min(),new Map,new lt(Ve),f,m);await N1(r,g),r.du=r.du.remove(u),r.Au.delete(e),Dp(r)}else await Vm(r.localStore,e,!1).then((()=>Pm(r,e,n))).catch(vo)}async function RD(s,e){const n=Se(s),r=e.batch.batchId;try{const o=await Mx(n.localStore,e);D1(n,r,null),x1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await hu(n,o)}catch(o){await vo(o)}}async function ID(s,e,n){const r=Se(s);try{const o=await(function(f,m){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((A=>(Ge(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);D1(r,e,n),x1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await hu(r,o)}catch(o){await vo(o)}}function x1(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function D1(s,e,n){const r=Se(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Pm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||O1(s,r)}))}function O1(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Ap(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Dp(s))}function GE(s,e,n){for(const r of n)r instanceof R1?(s.Ru.addReference(r.key,e),CD(s,r)):r instanceof I1?(oe(xp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||O1(s,r.key)):ve(19791,{wu:r})}function CD(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(xp,"New document in limbo: "+n),s.Eu.add(r),Dp(s))}function Dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new pe(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new yD(n)),s.du=s.du.insert(n,r),E1(s.remoteStore,new $s(xi(dp(n.path)),r,"TargetPurposeLimboResolution",xh.ce))}}async function hu(s,e,n){const r=Se(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{var b;if((y||n)&&r.isPrimaryClient){const A=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Tp.As(g.targetId,y);u.push(A)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(g,y){const b=Se(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(w=>J.forEach(w.Es,(P=>b.persistence.referenceDelegate.addReference(A,w.targetId,P))).next((()=>J.forEach(w.ds,(P=>b.persistence.referenceDelegate.removeReference(A,w.targetId,P)))))))))}catch(A){if(!Eo(A))throw A;oe(bp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const P=b.Ms.get(w),B=P.snapshotVersion,K=P.withLastLimboFreeSnapshotVersion(B);b.Ms=b.Ms.insert(w,K)}}})(r.localStore,u))}async function ND(s,e){const n=Se(s);if(!n.currentUser.isEqual(e)){oe(xp,"User change. New user:",e.toKey());const r=await g1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new ae(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await hu(n,r.Ls)}}function xD(s,e){const n=Se(s),r=n.Au.get(e);if(r&&r.hu)return ke().add(r.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function M1(s){const e=Se(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=N1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wD.bind(null,e),e.Pu.H_=fD.bind(null,e.eventManager),e.Pu.yu=dD.bind(null,e.eventManager),e}function DD(s){const e=Se(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ox(this.persistence,new Nx,e.initialUser,this.serializer)}Cu(e){return new p1(Ep.mi,this.serializer)}Du(e){return new jx}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class OD extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof Eh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mx(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new p1((r=>Eh.mi(r,n)),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ND.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uD})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=(function(u){return new Fx(u)})(e.databaseInfo);return(function(u,f,m,g){return new Yx(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,f,m){return new Xx(r,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>FE(this.syncEngine,n,0)),(function(){return LE.v()?new LE:new zx})())}createSyncEngine(e,n){return(function(o,u,f,m,g,y,b){const A=new _D(o,u,f,m,g,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Se(o);oe(ea,"RemoteStore shutting down."),u.Ea.add(5),await cu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ls("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar="FirestoreClient";class VD{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{oe(ar,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(oe(ar,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(ar,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await g1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function KE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await kD(s);oe(ar,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>zE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>zE(e.remoteStore,o))),s._onlineComponents=e}async function kD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(ar,"Using user provided OfflineComponentProvider");try{await lm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await lm(s,new bh)}}else oe(ar,"Using default OfflineComponentProvider"),await lm(s,new OD(void 0));return s._offlineComponents}async function V1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(ar,"Using user provided OnlineComponentProvider"),await KE(s,s._uninitializedComponentsProvider._online)):(oe(ar,"Using default OnlineComponentProvider"),await KE(s,new Lm))),s._onlineComponents}function UD(s){return V1(s).then((e=>e.syncEngine))}async function QE(s){const e=await V1(s),n=e.eventManager;return n.onListen=vD.bind(null,e.syncEngine),n.onUnlisten=bD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ED.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=AD.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firestore.googleapis.com",$E=!0;class XE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=$E}else this.host=e.host,this.ssl=e.ssl??$E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fx)throw new ae(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jC;switch(r.type){case"firstParty":return new HC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=YE.get(n);r&&(oe("ComponentProvider","Removing Datastore"),YE.delete(n),r.terminate())})(this),Promise.resolve()}}function PD(s,e,n,r={}){var y;s=so(s,Bh);const o=or(e),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(zm(`https://${m}`),Bm("Firestore",!0)),u.host!==U1&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:r};if(!Yr(g,f)&&(s._setSettings(g),r.mockUserToken)){let b,A;if(typeof r.mockUserToken=="string")b=r.mockUserToken,A=Jt.MOCK_USER;else{b=yT(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ae(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Jt(w)}s._authCredentials=new zC(new R0(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new aa(this.firestore,e,this._query)}}class Ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ou(n,Ut._jsonSchema))return new Ut(e,r||null,new pe(tt.fromString(n.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Dt("string",Ut._jsonSchemaVersion),referencePath:Dt("string")};class Js extends aa{constructor(e,n,r){super(e,n,dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new pe(e))}withConverter(e){return new Js(this.firestore,e,this._path)}}function WE(s,e,...n){if(s=vt(s),I0("collection","path",e),s instanceof Bh){const r=tt.fromString(e,...n);return lE(r),new Js(s,null,r)}{if(!(s instanceof Ut||s instanceof Js))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return lE(r),new Js(s.firestore,null,r)}}function P1(s,e,...n){if(s=vt(s),arguments.length===1&&(e=op.newId()),I0("doc","path",e),s instanceof Bh){const r=tt.fromString(e,...n);return oE(r),new Ut(s,null,new pe(r))}{if(!(s instanceof Ut||s instanceof Js))throw new ae(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return oE(r),new Ut(s.firestore,s instanceof Js?s.converter:null,new pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _1(this,"async_queue_retry"),this._c=()=>{const r=om();r&&oe(ZE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Kr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Eo(e))throw e;oe(ZE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",eT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:eT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function eT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(s,["next","error","complete"])}class Jl extends Bh{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new JE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function LD(s,e){const n=typeof s=="object"?s:Fm(),r=typeof s=="string"?s:ph,o=wh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=mT("firestore");u&&PD(o,...u)}return o}function L1(s){if(s._terminated)throw new ae(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||jD(s),s._firestoreClient}function jD(s){var r,o,u;const e=s._freezeSettings(),n=(function(m,g,y,b){return new aN(m,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,k1(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new VD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Xt.fromBase64String(e))}catch(n){throw new ae(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Dt("string",zn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Dt("string",Mi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new ae(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Dt("string",Vi._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class BD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}function j1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:s})}}class Vp{constructor(e,n,r,o,u,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ah(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(j1(this.Ac)&&zD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}Cc(e,n,r,o=!1){return new Vp({Ac:e,methodName:n,Dc:r,path:$t.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z1(s){const e=s._freezeSettings(),n=Lh(s._databaseId);return new qD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function HD(s,e,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,e,n,o);H1("Data must be an object, but it was:",f,r);const m=B1(r,f);let g,y;if(u.merge)g=new ti(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const w=GD(e,A,n);if(!f.contains(w))throw new ae(Z.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);QD(b,w)||b.push(w)}g=new ti(b),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new BD(new jn(m),g,y)}class kp extends Mp{_toFieldTransform(e){return new ON(e.path,new Xl)}isEqual(e){return e instanceof kp}}function FD(s,e,n,r=!1){return Up(n,s.Cc(r?4:3,e))}function Up(s,e){if(q1(s=vt(s)))return H1("Unsupported field value:",e,s),B1(s,e);if(s instanceof Mp)return(function(r,o){if(!j1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const m of r){let g=Up(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(s,e)}return(function(r,o){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NN(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=st.fromDate(r);return{timestampValue:vh(o.serializer,u)}}if(r instanceof st){const u=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(o.serializer,u)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:o1(o.serializer,r._byteString)};if(r instanceof Ut){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Vi)return(function(f,m){return{mapValue:{fields:{[U0]:{stringValue:P0},[gh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return mp(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${Nh(r)}`)})(s,e)}function B1(s,e){const n={};return x0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(s,((r,o)=>{const u=Up(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function q1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Mi||s instanceof zn||s instanceof Ut||s instanceof Mp||s instanceof Vi)}function H1(s,e,n){if(!q1(n)||!C0(n)){const r=Nh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function GD(s,e,n){if((e=vt(e))instanceof Op)return e._internalPath;if(typeof e=="string")return F1(s,e);throw Ah("Field path arguments must be of type string or ",s,!1,void 0,n)}const KD=new RegExp("[~\\*/\\[\\]]");function F1(s,e,n){if(e.search(KD)>=0)throw Ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Op(...e.split("."))._internalPath}catch{throw Ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ah(s,e,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new ae(Z.INVALID_ARGUMENT,m+s+g)}function QD(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YD extends G1{data(){return super.data()}}function Pp(s,e){return typeof e=="string"?F1(s,e):e instanceof Op?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class K1 extends Lp{}function XD(s,e,...n){let r=[];e instanceof Lp&&r.push(e),r=r.concat(n),(function(u){const f=u.filter((g=>g instanceof zp)).length,m=u.filter((g=>g instanceof jp)).length;if(f>1||f>0&&m>0)throw new ae(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class jp extends K1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new jp(e,n,r)}_apply(e){const n=this._parse(e);return Q1(e._query,n),new aa(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=z1(e.firestore);return(function(u,f,m,g,y,b,A){let w;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){iT(A,b);const B=[];for(const K of A)B.push(nT(g,u,K));w={arrayValue:{values:B}}}else w=nT(g,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||iT(A,b),w=FD(m,f,A,b==="in"||b==="not-in");return xt.create(y,b,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class zp extends Lp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Q1(f,g),f=Cm(f,g)})(e._query,n),new aa(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bp extends K1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bp(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ae(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(u,f)})(e._query,this._field,this._direction);return new aa(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new To(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function WD(s,e="asc"){const n=e,r=Pp("orderBy",s);return Bp._create(r,n)}function nT(s,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new ae(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&n.indexOf("/")!==-1)throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!pe.isDocumentKey(r))throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gE(s,new pe(r))}if(n instanceof Ut)return gE(s,n._key);throw new ae(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function iT(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Q1(s,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZD{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){var r,o,u;const n=(u=(o=(r=e.fields)==null?void 0:r[gh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>_t(f.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Oh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=nr(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ge(d1(r),9688,{name:e});const o=new Ql(r.get(1),r.get(3)),u=new pe(r.popFirst(5));return o.isEqual(n)||ls(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qr extends G1{constructor(e,n,r,o,u,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Qr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Dt("string",Qr._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rh extends Qr{data(e={}){return super.data(e)}}class ao{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rh(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:eO(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eO(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:s})}}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:Dt("string",ao._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Y1 extends ZD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,n)}}function tO(s){return $1(so(s.firestore,Jl),[new pp(s._key,Di.none())])}function nO(s,e){const n=so(s.firestore,Jl),r=P1(s),o=JD(s.converter,e);return $1(n,[HD(z1(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then((()=>r))}function iO(s,...e){var g,y,b;s=vt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||tT(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(tT(e[r])){const A=e[r];e[r]=(g=A.next)==null?void 0:g.bind(A),e[r+1]=(y=A.error)==null?void 0:y.bind(A),e[r+2]=(b=A.complete)==null?void 0:b.bind(A)}let u,f,m;if(s instanceof Ut)f=so(s.firestore,Jl),m=dp(s._key.path),u={next:A=>{e[r]&&e[r](sO(f,s,A))},error:e[r+1],complete:e[r+2]};else{const A=so(s,aa);f=so(A.firestore,Jl),m=A._query;const w=new Y1(f);u={next:P=>{e[r]&&e[r](new ao(f,w,A,P))},error:e[r+1],complete:e[r+2]},$D(s._query)}return(function(w,P,B,K){const Q=new MD(K),te=new mD(P,Q,B);return w.asyncQueue.enqueueAndForget((async()=>cD(await QE(w),te))),()=>{Q.Nu(),w.asyncQueue.enqueueAndForget((async()=>hD(await QE(w),te)))}})(L1(f),m,o,u)}function $1(s,e){return(function(r,o){const u=new Kr;return r.asyncQueue.enqueueAndForget((async()=>SD(await UD(r),o,u))),u.promise})(L1(s),e)}function sO(s,e,n){const r=n.docs.get(e._key),o=new Y1(s);return new Qr(s,o,e._key,r,new kl(n.hasPendingWrites,n.fromCache),e.converter)}function rO(){return new kp("serverTimestamp")}(function(e,n=!0){(function(o){_o=o})(ta),$r(new er("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),m=new Jl(new BC(r.getProvider("auth-internal")),new FC(f,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(y.options.projectId,b)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ci(iE,sE,e),Ci(iE,sE,"esm2020")})();const aO={apiKey:"AIzaSyA27qqn90L4cs21nnlk9v3Erf6Svo82lQY",authDomain:"doot-inc.firebaseapp.com",projectId:"doot-inc",storageBucket:"doot-inc.firebasestorage.app",messagingSenderId:"361145205770",appId:"1:361145205770:web:728036d27c84429b05cbf3",measurementId:"G-E0DLQJPS1J"},qp=ET(aO),oo=TI(qp),oO=new ns,lO=kC(qp),um=LD(qp),uO=()=>{const[s,e]=ge.useState(null),[n,r]=ge.useState(!0);ge.useEffect(()=>{const u=u2(oo,f=>{e(f),r(!1)});return()=>u()},[]);const o=ge.useCallback(async()=>{const u=oo.currentUser;u&&(await u.reload(),e({...u}))},[]);return{user:s,isLoading:n,reloadUser:o}},cO=({isOpen:s,onClose:e})=>{if(!s)return null;const[n,r]=ge.useState("login"),[o,u]=ge.useState(""),[f,m]=ge.useState(""),[g,y]=ge.useState(""),[b,A]=ge.useState(""),[w,P]=ge.useState(""),[B,K]=ge.useState(!1),[Q,te]=ge.useState(null),ne=async ce=>{ce.preventDefault(),te(null);try{await r2(oo,o,f),e()}catch(Ee){te(Ee.message)}},ee=async ce=>{if(ce.preventDefault(),te(null),f!==g){te("Passwords do not match.");return}try{const Ee=await s2(oo,o,f);await vm(Ee.user,{displayName:`${b} ${w}`}),e()}catch(Ee){te(Ee.message)}},ue=async()=>{te(null);try{await x2(oo,oO),e()}catch(ce){te(ce.message)}};return E.jsx("div",{className:"modal-backdrop",onClick:ce=>ce.target===ce.currentTarget&&e(),children:E.jsxs("div",{className:"modal-content",style:{maxWidth:"420px",width:"90%",maxHeight:"85vh",overflow:"auto",padding:"1.5rem"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[E.jsx(qr,{size:20}),n==="login"?"Login":"Sign Up"]}),E.jsx("button",{onClick:e,className:"btn btn-icon btn-secondary",children:E.jsx($c,{size:16})})]}),E.jsxs("div",{className:"flex bg-surface rounded-xl p-1 mb-6",children:[E.jsx("button",{className:`btn-tab ${n==="login"?"active":""}`,onClick:()=>r("login"),children:"Login"}),E.jsx("button",{className:`btn-tab ${n==="signup"?"active":""}`,onClick:()=>r("signup"),children:"Sign Up"})]}),Q&&E.jsx("div",{className:"form-error",children:Q}),n==="login"?E.jsxs("form",{onSubmit:ne,className:"form",children:[E.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:ce=>u(ce.target.value),className:"input",required:!0}),E.jsxs("div",{className:"input-group",children:[E.jsx("input",{type:B?"text":"password",placeholder:"Password",value:f,onChange:ce=>m(ce.target.value),className:"input input-with-icon",required:!0}),E.jsx("button",{type:"button",onClick:()=>K(!B),className:"input-icon",children:B?E.jsx(Qd,{size:16}):E.jsx(Yd,{size:16})})]}),E.jsx("button",{type:"submit",className:"btn btn-primary btn-medium",children:"Login"})]}):E.jsxs("form",{onSubmit:ee,className:"form",children:[E.jsx("input",{type:"text",placeholder:"First Name",value:b,onChange:ce=>A(ce.target.value),className:"input",required:!0}),E.jsx("input",{type:"text",placeholder:"Last Name",value:w,onChange:ce=>P(ce.target.value),className:"input",required:!0}),E.jsx("input",{type:"email",placeholder:"Email",value:o,onChange:ce=>u(ce.target.value),className:"input",required:!0}),E.jsxs("div",{className:"input-group",children:[E.jsx("input",{type:B?"text":"password",placeholder:"Password",value:f,onChange:ce=>m(ce.target.value),className:"input input-with-icon",required:!0}),E.jsx("button",{type:"button",onClick:()=>K(!B),className:"input-icon",children:B?E.jsx(Qd,{size:16}):E.jsx(Yd,{size:16})})]}),E.jsxs("div",{className:"input-group",children:[E.jsx("input",{type:B?"text":"password",placeholder:"Confirm Password",value:g,onChange:ce=>y(ce.target.value),className:"input input-with-icon",required:!0}),E.jsx("button",{type:"button",onClick:()=>K(!B),className:"input-icon",children:B?E.jsx(Qd,{size:16}):E.jsx(Yd,{size:16})})]}),E.jsx("button",{type:"submit",className:"btn btn-primary btn-medium",children:"Sign Up"})]}),E.jsxs("div",{className:"flex items-center my-6",children:[E.jsx("div",{className:"flex-1 h-px bg-border"}),E.jsx("span",{className:"px-3 text-secondary text-sm",children:"Or"}),E.jsx("div",{className:"flex-1 h-px bg-border"})]}),E.jsxs("button",{onClick:ue,className:"btn btn-secondary btn-medium flex items-center justify-center gap-2",children:[E.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",style:{width:"16px",height:"16px"}}),"Sign in with Google"]})]})})},go=[{name:"Arte",color:"#D81B60"},{name:"Ginnastica",color:"#995C43"},{name:"Fisica",color:"#3CB040"},{name:"Informatica",color:"#636363"},{name:"Inglese",color:"#1E88E5"},{name:"Italiano",color:"#0D47A1"},{name:"Matematica",color:"#D32F2F"},{name:"Storia",color:"#D6A127"},{name:"Scienze",color:"#9824AD"},{name:"Filosofia",color:"#007CBF"},{name:"Religione",color:"#F9C025"}],X1=s=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},hO=(s,e)=>{const n=X1(s);if(!n)return s;const{r,g:o,b:u}=n,f=Math.min(255,Math.floor(r+(255-r)*e/100)),m=Math.min(255,Math.floor(o+(255-o)*e/100)),g=Math.min(255,Math.floor(u+(255-u)*e/100));return`rgb(${f}, ${m}, ${g})`},fO=s=>{const e=X1(s);if(!e)return"white";const{r:n,g:r,b:o}=e;return(n*299+r*587+o*114)/1e3>128?"black":"white"},sT=({votes:s})=>{const e=()=>{const u={};return go.forEach(f=>{const m=s.filter(te=>te.subject===f.name&&te.includeInAverage);if(m.length===0)return;const g=m.reduce((te,ne)=>te+ne.value*ne.weight,0),y=m.reduce((te,ne)=>te+ne.weight,0),b=g/y,A=m.filter(te=>te.type==="orale"),w=m.filter(te=>te.type==="scritto"),P=te=>{if(te.length===0)return 0;const ne=te.reduce((ue,ce)=>ue+ce.value*ce.weight,0),ee=te.reduce((ue,ce)=>ue+ce.weight,0);return ne/ee},B=P(A),K=P(w);let Q=0;B===0&&K===0?Q=0:B===0?Q=K:K===0?Q=B:Q=(B+K)/2,u[f.name]={arithmetic:b,oralWritten:Q,count:m.length}}),u},n=()=>{const u=s.filter(K=>K.includeInAverage);if(u.length===0)return{arithmetic:0,oralWritten:0};const f=u.reduce((K,Q)=>K+Q.value*Q.weight,0),m=u.reduce((K,Q)=>K+Q.weight,0),g=f/m,y=u.filter(K=>K.type==="orale"),b=u.filter(K=>K.type==="scritto"),A=K=>{if(K.length===0)return 0;const Q=K.reduce((ne,ee)=>ne+ee.value*ee.weight,0),te=K.reduce((ne,ee)=>ne+ee.weight,0);return Q/te},w=A(y),P=A(b);let B=0;return w===0&&P===0?B=0:w===0?B=P:P===0?B=w:B=(w+P)/2,{arithmetic:g,oralWritten:B}},r=e(),o=n();return E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[E.jsxs("div",{className:"card text-center",children:[E.jsx("h3",{className:"card-subtitle",children:"Media Aritmetica Totale"}),E.jsx("div",{className:`text-3xl font-bold ${o.arithmetic<6?"text-accent-red":"text-accent-green"}`,children:o.arithmetic.toFixed(2)}),E.jsxs("div",{className:"text-xs text-secondary mt-2",children:[s.filter(u=>u.includeInAverage).length," votes"]})]}),E.jsxs("div",{className:"card text-center",children:[E.jsx("h3",{className:"card-subtitle",children:"Media Orale-Scritta Totale"}),E.jsx("div",{className:`text-3xl font-bold ${o.oralWritten<6?"text-accent-red":"text-accent-green"}`,children:o.oralWritten.toFixed(2)}),E.jsxs("div",{className:"text-xs text-secondary mt-2",children:["Oral: ",s.filter(u=>u.includeInAverage&&u.type==="orale").length," | Written: ",s.filter(u=>u.includeInAverage&&u.type==="scritto").length]})]})]}),E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",children:"Medie per Materia"}),E.jsx("div",{className:"grid grid-cols-auto-fit gap-4",children:go.map(u=>{const f=r[u.name];if(!f)return null;const m=`linear-gradient(to bottom right, ${u.color}, ${hO(u.color,30)})`,g=fO(u.color);return E.jsxs("div",{className:"text-center",style:{background:m,borderRadius:"16px",padding:"1.5rem",color:g,border:"1px solid transparent"},children:[E.jsx("h4",{className:"font-semibold mb-2",style:{fontSize:"1rem",margin:"0.5rem 0"},children:u.name}),E.jsxs("div",{className:"flex justify-between mb-2",style:{opacity:.9},children:[E.jsx("span",{style:{fontSize:"0.875rem"},children:"Aritmetica:"}),E.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600},children:f.arithmetic.toFixed(2)})]}),E.jsxs("div",{className:"flex justify-between",style:{opacity:.9},children:[E.jsx("span",{style:{fontSize:"0.875rem"},children:"Orale-Scritta:"}),E.jsx("span",{style:{fontSize:"0.875rem",fontWeight:600},children:f.oralWritten.toFixed(2)})]}),E.jsxs("div",{style:{fontSize:"0.75rem",marginTop:"0.5rem",opacity:.8},children:[f.count," votes"]})]},u.name)})}),Object.keys(r).length===0&&E.jsx("p",{className:"text-center text-secondary my-8",children:"Nessuna media per materia da mostrare ancora. Aggiungi alcuni voti per vedere le medie per materia."})]})]})},dO=({onAddVote:s})=>{const[e,n]=ge.useState(""),[r,o]=ge.useState("scritto"),[u,f]=ge.useState("Matematica"),[m,g]=ge.useState("1"),[y,b]=ge.useState(!0),A=w=>{w.preventDefault();const P=parseFloat(e),B=parseFloat(m);if(isNaN(P)||P<0||P>10){alert("Please enter a valid vote between 0 and 10");return}if(isNaN(B)||B<=0){alert("Please enter a valid weight greater than 0");return}s({value:P,type:r,subject:u,weight:B,includeInAverage:y}),n(""),g("1"),b(!0)};return E.jsxs("div",{children:[E.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Aggiungi Nuovo Voto"}),E.jsxs("form",{onSubmit:A,className:"form",children:[E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Valore Voto"}),E.jsx("input",{type:"number",min:"0",max:"10",step:"0.1",value:e,onChange:w=>n(w.target.value),placeholder:"e.g. 8.5",className:"input",required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Weight (%)"}),E.jsx("input",{type:"number",min:"0",max:"100",step:"1",value:m,onChange:w=>g(w.target.value),placeholder:"e.g. 25",className:"input",required:!0})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Materia"}),E.jsx("select",{value:u,onChange:w=>f(w.target.value),className:"select",children:go.map(w=>E.jsx("option",{value:w.name,children:w.name},w.name))})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Tipo"}),E.jsxs("select",{value:r,onChange:w=>o(w.target.value),className:"select",children:[E.jsx("option",{value:"scritto",children:"Scritto"}),E.jsx("option",{value:"orale",children:"Orale"}),E.jsx("option",{value:"altro",children:"Altro"})]})]}),E.jsxs("div",{className:"checkbox-group",children:[E.jsx("input",{type:"checkbox",id:"includeAverage",checked:y,onChange:w=>b(w.target.checked),className:"checkbox"}),E.jsx("label",{htmlFor:"includeAverage",className:"text-sm",children:"Includi nel calcolo della media"})]}),E.jsxs("button",{type:"submit",className:"btn btn-primary btn-medium flex items-center justify-center gap-2",children:[E.jsx(vS,{size:16}),"Aggiungi Voto"]})]})]})},mO=({votes:s,onDeleteVote:e})=>s.length===0?E.jsx("div",{className:"card text-center p-8 text-secondary",children:E.jsx("p",{children:"Nessun voto aggiunto ancora. Aggiungi il tuo primo voto sopra!"})}):E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",children:"I Tuoi Voti"}),E.jsx("div",{className:"flex flex-col gap-2",children:s.map(n=>{var r;return E.jsxs("div",{className:"flex items-center justify-between p-3",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("span",{className:`text-lg font-semibold ${parseFloat(n.value.toString())<6?"text-accent-red":"text-accent-green"}`,children:n.value}),E.jsx("span",{className:"text-sm font-medium",style:{color:(r=go.find(o=>o.name===n.subject))==null?void 0:r.color},children:n.subject}),E.jsx("span",{className:"text-sm text-secondary",children:n.type.charAt(0).toUpperCase()+n.type.slice(1)}),E.jsxs("span",{className:"text-xs text-secondary",children:["Weight: ",n.weight]}),!n.includeInAverage&&E.jsx("span",{className:"badge badge-excluded",children:"Excluded"})]}),E.jsx("button",{onClick:()=>e(n.id),className:"btn btn-icon btn-secondary",onMouseEnter:o=>{o.currentTarget.classList.add("btn-primary"),o.currentTarget.style.backgroundColor="var(--accent-red)",o.currentTarget.style.color="white"},onMouseLeave:o=>{o.currentTarget.classList.remove("btn-primary"),o.currentTarget.classList.add("btn-secondary"),o.currentTarget.style.backgroundColor="",o.currentTarget.style.color=""},children:E.jsx(bS,{size:14})})]},n.id)})})]}),eu=[{subject:"Filosofia",topics:[{id:"filosofia-ellenistica",title:"Filosofia ellenistica: epicureismo, stoicismo, scetticismo",videoUrl:"https://res.cloudinary.com/dpijllwgu/video/upload/v1761844423/Filosofia_ellenistica_nc7pru.mp4",files:[{name:"mappamentale.png",url:"https://res.cloudinary.com/dpijllwgu/image/upload/v1761844524/Filosofia_ellenistica_-_mind_map_igoi5i.png"}],testDate:"2025-10-30",initialMessage:"Ciao! Sono Will, il tuo assistente di studio. Posso aiutarti a capire meglio le filosofie ellenistiche. Da cosa iniziamo? Vuoi saperne di pi su Epicuro?",context:`Le filosofie ellenistiche rappresentano un momento di profonda trasformazione del pensiero antico, in cui la filosofia assume una funzione pratica e terapeutica, orientata alla serenit dellanima. In unepoca segnata dallincertezza, le dottrine di Stoicismo, Epicureismo e Scetticismo propongono tre vie distinte verso la felicit: la virt e la ragione, il piacere stabile e il dubbio liberatore.

Lo Stoicismo nasce ad Atene intorno al 300 a.C. con Zenone di Cizio e pone come fine dellesistenza il vivere secondo ragione e natura. La logica stoica si basa sul criterio della rappresentazione catalettica, cio limpressione evidente che si impone come vera. La fisica concepisce il cosmo come un tutto ordinato, razionale e divino, governato da un principio attivo (Dio o lgos) e uno passivo (materia). Tutto ci che accade segue un destino provvidenziale e necessario. Nelletica, la virt  lunico bene e coincide con la conformit alla ragione universale. Le emozioni sono malattie dellanima e il saggio raggiunge lapatia, uno stato di serenit e imperturbabilit. La politica stoica si fonda sulla legge naturale e sul cosmopolitismo: tutti gli esseri umani partecipano della stessa ragione e appartengono a una comunit universale.

LEpicureismo, fondato da Epicuro nel suo "Giardino", propone invece la ricerca del piacere come fine della vita, inteso non come edonismo sfrenato ma come piacere stabile, ossia assenza di dolore (aponia) e turbamento (atarassia). La logica, detta canonica, stabilisce levidenza come criterio di verit, fondata su sensazione, anticipazione ed emozione. La fisica  atomistica e meccanicistica: tutto  composto da atomi e vuoto, e luniverso  privo di finalit divine. Lintroduzione del clinmen, la deviazione spontanea degli atomi, rompe il determinismo e fonda la libert. Gli di esistono, ma non si interessano del mondo. Nelletica, la felicit deriva dal calcolo razionale dei piaceri e dalla distinzione dei bisogni: naturali e necessari (da soddisfare), naturali ma non necessari (da moderare), non naturali e non necessari (da eliminare). Lamicizia  un bene essenziale, mentre la politica  fonte di turbamento, da evitare.

Lo Scetticismo, infine, rifiuta ogni dogmatismo e sostiene che la verit ultima delle cose  inconoscibile. Il suo scopo non  la conoscenza, ma la pace interiore, ottenuta attraverso la sospensione del giudizio (epoch). Gli scettici non negano i fenomeni, ma mettono in dubbio le spiegazioni dogmatiche del loro significato. Latteggiamento prudente conduce allafasia, cio al non pronunciarsi, e infine allatarassia, la serenit dellanima. Pirrone di Elide, Timone di Fliunte e Sesto Empirico sono i principali esponenti. Questultimo sistematizza il pensiero scettico e ne definisce le quattro guide pratiche per la vita: i sensi, i bisogni del corpo, le leggi e i costumi, e le regole delle arti. Lo scettico vive dunque seguendo criteri pragmatici, senza pretese di verit assoluta.

Pur divergendo profondamente, queste tre filosofie condividono lo stesso obiettivo: la conquista della felicit e della libert interiore. Lo Stoico la raggiunge accettando razionalmente lordine del cosmo, lEpicureo eliminando il dolore e la paura attraverso la misura, lo Scettico sospendendo ogni giudizio per vivere senza turbamenti.

Tema fondamentale | Stoicismo | Epicureismo | Scetticismo
Obiettivo della vita | Vivere secondo natura e ragione (virt) in armonia con il lgos | Raggiungere il piacere stabile, assenza di dolore (aponia) e turbamento (atarassia) | Raggiungere limperturbabilit (atarassia) tramite la sospensione del giudizio (epoch)
Criterio di verit | Rappresentazione catalettica, evidenza dellimpressione approvata dalla ragione | Evidenza sensibile, anticipazione ed emozione | Nessun criterio assoluto, solo fenomeni e guide pratiche
Natura del cosmo | Universo ordinato, razionale e provvidenziale | Universo meccanicistico, atomico e privo di finalit | Natura inconoscibile e inaccessibile
Atteggiamento verso le emozioni | Eliminarle: apatia come libert dal turbamento | Guidarle: piacere e dolore come criteri morali | Liberarsene: serenit attraverso il dubbio
Ruolo nella societ | Impegno cosmopolita fondato sulla legge naturale | Ritiro dalla vita politica e valorizzazione dellamicizia | Conformit pragmatica alle leggi e consuetudini per vivere serenamente`}]}],pO=s=>{const e=new Date(s),n=new Date;n.setHours(0,0,0,0),e.setHours(0,0,0,0);const r=e.getTime()-n.getTime(),o=Math.ceil(r/(1e3*60*60*24));return o===0?"Oggi":o===1?"Domani":o===-1?"Ieri":Math.abs(o)<=6?["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"][e.getDay()]:e.toLocaleDateString("it-IT")},gO="https://openrouter.ai/api/v1/chat/completions",yO="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",_O="mistralai/mistral-small-3.2-24b-instruct:free";async function*vO(s,e,n){var g,y,b;const r=e.length>0?`Here are the user's current votes:
${e.map(A=>`- ${A.type}: ${A.value} (weight: ${A.weight}, included: ${A.includeInAverage})`).join(`
`)}

`:`The user has no votes recorded yet.

`,u=`You are Will, a helpful AI assistant for students in class 4D managing their grades and study materials. You have knowledge of the following study topics by subject:
${eu.map(A=>{const w=A.topics.map(P=>P.title).join(", ");return`${A.subject}: ${w}`}).join(`
`)}

You can discuss these topics, provide explanations, or help with study questions.

`;let f="";if(n)for(const A of eu){const w=A.topics.find(P=>P.id===n);if(w!=null&&w.context){f=`Additional detailed context for the current topic "${w.title}":
${w.context}

`;break}}const m=`${r}${u}${f}Answer the user's question about their grades, study topics, or any study-related questions. Be friendly, encouraging, and provide specific, actionable advice. Keep responses concise but helpful.

Question: ${s}`;try{const A=await fetch(gO,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${yO}`},body:JSON.stringify({model:_O,messages:[{role:"user",content:m}],stream:!0})});if(!A.ok){const K=await A.text();throw console.error("OpenRouter API Error:",K),new Error(`API request failed with status ${A.status}: ${K}`)}const w=(g=A.body)==null?void 0:g.getReader();if(!w)throw new Error("Could not get response body reader.");const P=new TextDecoder;let B="";for(;;){const{done:K,value:Q}=await w.read();if(K)break;B+=P.decode(Q,{stream:!0});const te=B.split(`
`);B=te.pop()||"";for(const ne of te)if(ne.startsWith("data: ")){const ee=ne.substring(6);if(ee==="[DONE]")return;try{const ce=(b=(y=JSON.parse(ee).choices[0])==null?void 0:y.delta)==null?void 0:b.content;ce&&(yield ce)}catch(ue){console.error("Failed to parse stream chunk:",ee,ue)}}}}catch(A){console.error("Error streaming from OpenRouter:",A),yield`Sorry, I couldn't process your request right now. ${A instanceof Error?A.message:"An unknown error occurred."}`}}const W1=({votes:s,topicId:e})=>{const n=()=>{if(e)for(const A of eu){const w=A.topics.find(P=>P.id===e);if(w!=null&&w.initialMessage)return w.initialMessage}return"Ciao! Sono Will, il tuo assistente di studio. Posso aiutarti ad analizzare i tuoi voti, dare consigli per migliorare, o rispondere a qualsiasi domanda sul tuo rendimento accademico. Cosa vorresti sapere?"},[r,o]=ge.useState([{id:"1",content:n(),isUser:!1,timestamp:new Date}]),[u,f]=ge.useState(""),[m,g]=ge.useState(!1),y=async()=>{if(!u.trim()||m)return;const A={id:Date.now().toString(),content:u.trim(),isUser:!0,timestamp:new Date};o(B=>[...B,A]),f(""),g(!0);const w=(Date.now()+1).toString();let P="";try{for await(const B of vO(A.content,s,e))P+=B,o(K=>K.find(te=>te.id===w)?K.map(te=>te.id===w?{...te,content:P}:te):[...K,{id:w,content:P,isUser:!1,timestamp:new Date}])}catch(B){console.error("Error in Will chat:",B),o(K=>[...K,{id:w,content:"Sorry, I encountered an error. Please try again later.",isUser:!1,timestamp:new Date}])}finally{g(!1)}},b=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),y())};return E.jsxs("div",{className:"chat-container",children:[E.jsx("div",{className:"chat-header",children:E.jsx("h3",{className:"flex items-center gap-2 m-0",children:"Will AI"})}),E.jsxs("div",{className:"chat-messages",children:[r.map(A=>E.jsxs("div",{className:"chat-message",children:[E.jsx("div",{className:`chat-avatar ${A.isUser?"bg-accent":""}`,children:A.isUser?E.jsx(qr,{size:16,color:"white"}):E.jsx("img",{src:"https://res.cloudinary.com/dk0f2y0hu/image/upload/v1751113936/Will-watchOS-Default-1024x1024_2x_xtphav.png",alt:"Will",style:{width:"32px",height:"32px",borderRadius:"50%"}})}),E.jsx("div",{className:`chat-bubble ${A.isUser?"chat-bubble-user":"chat-bubble-will"}`,children:A.content})]},A.id)),m&&E.jsxs("div",{className:"chat-message",children:[E.jsx("div",{className:"chat-avatar",children:E.jsx("img",{src:"https://res.cloudinary.com/dk0f2y0hu/image/upload/v1751113936/Will-watchOS-Default-1024x1024_2x_xtphav.png",alt:"Will",style:{width:"32px",height:"32px",borderRadius:"50%"}})}),E.jsxs("div",{className:"chat-bubble flex items-center gap-2",children:[E.jsxs("div",{className:"typing-indicator",children:[E.jsx("span",{}),E.jsx("span",{}),E.jsx("span",{})]}),"Will sta pensando..."]})]})]}),E.jsx("div",{className:"chat-input-area",children:E.jsxs("div",{className:"chat-input-group",children:[E.jsx("input",{type:"text",value:u,onChange:A=>f(A.target.value),onKeyDown:b,placeholder:"Chiedi a Will dei tuoi voti...",className:"chat-input",disabled:m}),E.jsx("button",{onClick:y,disabled:!u.trim()||m,className:`btn btn-icon ${!u.trim()||m?"btn-secondary":"btn-primary"}`,style:{width:"48px",height:"48px",cursor:!u.trim()||m?"not-allowed":"pointer",background:!u.trim()||m?"white":"var(--accent)",color:!u.trim()||m?"var(--text-primary)":"white"},children:E.jsx($A,{size:16})})]})}),E.jsx("style",{children:`
         .typing-indicator {
           display: flex;
           gap: 4px;
           align-items: center;
         }
         .typing-indicator span {
           width: 6px;
           height: 6px;
           border-radius: 50%;
           background: var(--text-secondary);
           animation: typing 1.4s infinite;
         }
         .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
         .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
         .chat-bubble-will {
           background: white;
           color: black;
         }
         @keyframes typing {
           0%, 60%, 100% { opacity: 0.4; }
           30% { opacity: 1; }
         }
       `})]})},EO=({user:s})=>{const[e,n]=ge.useState((s==null?void 0:s.displayName)||""),[r,o]=ge.useState(!1),u=async m=>{var y;const g=(y=m.target.files)==null?void 0:y[0];if(s&&g)try{const b=VC(lO,`profile_pictures/${s.uid}/${g.name}`);await OC(b,g);const A=await MC(b);await vm(s,{photoURL:A}),alert("Immagine del profilo aggiornata con successo!")}catch(b){console.error("Error uploading photo:",b),alert("Errore durante il caricamento della foto.")}},f=async()=>{if(s&&e!==s.displayName)try{await vm(s,{displayName:e}),alert("Nome visualizzato aggiornato con successo!"),o(!1)}catch(m){console.error("Error updating display name:",m),alert("Errore durante l'aggiornamento del nome visualizzato.")}else o(!1)};return E.jsxs("div",{className:"card mb-6",children:[E.jsxs("h3",{className:"card-title flex items-center gap-2",children:[E.jsx(qr,{size:20}),"Impostazioni Profilo"]}),E.jsxs("div",{className:"flex flex-col gap-6",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"file",accept:"image/*",onChange:u,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"photo-upload"}),E.jsx("label",{htmlFor:"photo-upload",className:"w-20 h-20 rounded-full border-2 border-accent flex items-center justify-center overflow-hidden cursor-pointer hover:border-accent-green transition-colors",children:s!=null&&s.photoURL?E.jsx("img",{src:s.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):E.jsx(WA,{size:32,color:"var(--accent)"})})]}),E.jsxs("div",{className:"flex-1",children:[E.jsx("p",{className:"m-0 text-sm text-secondary",children:"Foto Profilo"}),E.jsx("p",{className:"my-1 text-xs text-secondary",children:"Clicca sull'icona fotocamera per aggiornare la foto"})]})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Nome Completo"}),r?E.jsxs("div",{className:"flex gap-2",children:[E.jsx("input",{type:"text",value:e,onChange:m=>n(m.target.value),className:"input flex-1"}),E.jsx("button",{onClick:f,className:"btn btn-medium",style:{backgroundColor:"var(--accent-green)",color:"white"},children:"Salva"}),E.jsx("button",{onClick:()=>o(!1),className:"btn btn-secondary btn-medium",children:"Annulla"})]}):E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-base",children:e||"No name set"}),E.jsx("button",{onClick:()=>o(!0),className:"btn btn-small btn-secondary",children:"Modifica"})]})]}),E.jsxs("div",{className:"card",children:[E.jsx("h4",{className:"card-subtitle mb-2",children:"Informazioni Account"}),E.jsxs("div",{className:"text-sm",children:[E.jsxs("p",{className:"my-1",children:[E.jsx("strong",{children:"Email:"})," ",s==null?void 0:s.email]}),E.jsxs("p",{className:"my-1",children:[E.jsx("strong",{children:"Account:"})," Doot Inc."]})]})]})]})]})},Z1=s=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},TO=(s,e)=>{const n=Z1(s);if(!n)return s;const{r,g:o,b:u}=n,f=Math.min(255,Math.floor(r+(255-r)*e/100)),m=Math.min(255,Math.floor(o+(255-o)*e/100)),g=Math.min(255,Math.floor(u+(255-u)*e/100));return`rgb(${f}, ${m}, ${g})`},bO=s=>{const e=Z1(s);if(!e)return"white";const{r:n,g:r,b:o}=e;return(n*299+r*587+o*114)/1e3>128?"black":"white"},AO=({onSubjectSelect:s})=>E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",children:"Contenuti per Materia"}),E.jsx("div",{className:"grid grid-cols-auto-fit gap-4",children:go.map(e=>{const n=`linear-gradient(to bottom right, ${e.color}, ${TO(e.color,30)})`,r=bO(e.color);return E.jsxs("div",{onClick:()=>s(e.name),className:"cursor-pointer",style:{background:n,borderRadius:"16px",padding:"1.5rem",color:r,border:"1px solid transparent",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("h4",{style:{fontSize:"1rem",margin:0,fontWeight:600},children:e.name}),E.jsx(lT,{size:20})]},e.name)})})]}),SO=({subject:s,onBack:e,onTopicSelect:n})=>{const r=eu.find(o=>o.subject===s);return E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("button",{onClick:e,className:"btn btn-icon btn-secondary",style:{borderRadius:"50%",width:"40px",height:"40px"},children:E.jsx(cm,{size:16})}),E.jsx("h2",{className:"text-xl font-semibold",children:s})]}),E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",children:"Argomenti"}),E.jsx("div",{className:"space-y-2",children:(r==null?void 0:r.topics.map(o=>E.jsxs("div",{onClick:()=>n(o.id),className:"cursor-pointer p-4 border border-border rounded-lg hover:bg-surface transition-colors flex justify-between items-center",children:[E.jsx("span",{children:o.title}),E.jsx(lT,{size:16})]},o.id)))||E.jsx("p",{className:"text-secondary",children:"Nessun argomento disponibile per questa materia."})})]})]})},wO=({src:s})=>{const e=ge.useRef(null),[n,r]=ge.useState(!1),[o,u]=ge.useState(0),[f,m]=ge.useState(0),[g,y]=ge.useState(1),[b,A]=ge.useState(!1),w=()=>{e.current&&(n?e.current.pause():e.current.play(),r(!n))},P=()=>{e.current&&u(e.current.currentTime)},B=()=>{e.current&&m(e.current.duration)},K=ee=>{const ue=parseFloat(ee.target.value);e.current&&(e.current.currentTime=ue,u(ue))},Q=async()=>{if(e.current&&document.pictureInPictureEnabled)try{document.pictureInPictureElement?await document.exitPictureInPicture():await e.current.requestPictureInPicture()}catch(ee){console.error("PiP error:",ee)}},te=ee=>{e.current&&(e.current.playbackRate=ee,y(ee))},ne=ee=>{const ue=Math.floor(ee/60),ce=Math.floor(ee%60);return`${ue}:${ce.toString().padStart(2,"0")}`};return ge.useEffect(()=>{const ee=ue=>{b&&!ue.target.closest(".speed-selector")&&A(!1)};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)},[b]),E.jsxs("div",{className:"video-player",children:[E.jsx("video",{ref:e,src:s,onTimeUpdate:P,onLoadedMetadata:B,onPlay:()=>r(!0),onPause:()=>r(!1),className:"w-full",style:{borderRadius:"16px",border:"none"}}),E.jsxs("div",{className:"flex items-center gap-2 mt-2 p-2 bg-surface rounded-lg",children:[E.jsx("button",{onClick:w,className:"btn btn-icon btn-secondary",children:n?E.jsx(dS,{size:16}):E.jsx(yS,{size:16})}),E.jsx("input",{type:"range",min:"0",max:f,value:o,onChange:K,className:"flex-1",style:{height:"4px",borderRadius:"2px"}}),E.jsxs("span",{className:"text-sm text-secondary",children:[ne(o)," / ",ne(f)]}),E.jsxs("div",{className:"relative speed-selector",children:[E.jsx("button",{onClick:()=>A(!b),className:"btn btn-icon btn-secondary",title:"Velocit",children:E.jsx(oS,{size:16})}),b&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20",onClick:()=>A(!1)}),E.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-30 speed-selector",children:E.jsxs("div",{className:"bg-bg border border-border rounded-lg shadow-lg p-4 min-w-[200px]",children:[E.jsx("h4",{className:"text-sm font-semibold mb-3 text-center",children:"Velocit Riproduzione"}),E.jsx("div",{className:"space-y-1",children:[.5,1,1.25,1.5,2].map(ee=>E.jsxs("button",{onClick:()=>{te(ee),A(!1)},className:`block w-full text-left px-4 py-2 rounded hover:bg-surface ${g===ee?"bg-accent text-bg":""}`,children:[ee,"x"]},ee))})]})})]})]}),E.jsx("button",{onClick:Q,className:"btn btn-icon btn-secondary",children:E.jsx(pS,{size:16})})]})]})},RO=({topicId:s,onBack:e,votes:n})=>{let r=null;for(const o of eu)if(r=o.topics.find(u=>u.id===s),r)break;return r?E.jsxs("div",{children:[E.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[E.jsx("button",{onClick:e,className:"btn btn-icon btn-secondary",style:{borderRadius:"50%",width:"40px",height:"40px"},children:E.jsx(cm,{size:16})}),E.jsx("h2",{className:"text-xl font-semibold",children:r.title})]}),r.videoUrl&&E.jsxs("div",{className:"card mb-6",children:[E.jsx("h3",{className:"card-title",children:"Video"}),E.jsx(wO,{src:r.videoUrl})]}),r.files.length>0&&E.jsxs("div",{className:"card mb-6",children:[E.jsx("h3",{className:"card-title",children:"File"}),E.jsx("div",{className:"space-y-2",children:r.files.map((o,u)=>E.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-3 border border-border rounded-lg hover:bg-surface transition-colors",children:[E.jsx(uT,{size:16}),E.jsx("span",{children:o.name}),E.jsx(nS,{size:14})]},u))})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsx("div",{children:E.jsx(W1,{votes:n,topicId:s})}),E.jsx("div",{className:"card",children:E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:"text-secondary",children:"Data verifica/interrogazione"}),E.jsx("p",{className:"text-lg font-semibold",children:pO(r.testDate)})]})})]})]}):E.jsxs("div",{children:[E.jsx("button",{onClick:e,className:"btn btn-icon btn-secondary mb-4",children:E.jsx(cm,{size:16})}),E.jsx("p",{children:"Argomento non trovato."})]})},rT=({votes:s})=>{const[e,n]=ge.useState("all"),o=(e==="all"?s:s.filter(u=>u.subject===e)).sort((u,f)=>new Date(u.date).getTime()-new Date(f.date).getTime());return E.jsxs("div",{className:"card",children:[E.jsxs("div",{className:"flex justify-between items-center mb-4",children:[E.jsx("h3",{className:"text-lg font-semibold",children:"Andamento Voti"}),E.jsxs("select",{value:e,onChange:u=>n(u.target.value),className:"select",style:{width:"auto",minWidth:"120px"},children:[E.jsx("option",{value:"all",children:"Tutte le materie"}),go.map(u=>E.jsx("option",{value:u.name,children:u.name},u.name))]})]}),o.length<2?E.jsx("div",{className:"text-center p-8 text-secondary",children:E.jsx("p",{children:"Nessun voto disponibile per il grafico."})}):E.jsx(E.Fragment,{children:(()=>{const g=o.map(B=>B.value),y=Math.min(...g),b=Math.max(...g),A=B=>B/(o.length-1)*520+40,w=B=>260-(B-y)/(b-y)*220,P=o.map((B,K)=>`${K===0?"M":"L"} ${A(K)} ${w(B.value)}`).join(" ");return E.jsxs("svg",{width:600,height:300,className:"border border-border rounded",children:[o.map((B,K)=>E.jsx("line",{x1:A(K),y1:40,x2:A(K),y2:260,stroke:"var(--border)",strokeWidth:"1",opacity:"0.3"},K)),[0,1,2,3,4,5,6,7,8,9,10].map(B=>E.jsx("line",{x1:40,y1:w(B),x2:560,y2:w(B),stroke:"var(--border)",strokeWidth:"1",opacity:"0.3"},B)),E.jsx("path",{d:P,fill:"none",stroke:"var(--accent)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),o.map((B,K)=>E.jsx("circle",{cx:A(K),cy:w(B.value),r:"4",fill:"var(--accent)",stroke:"var(--bg)",strokeWidth:"2"},B.id)),E.jsx("text",{x:600/2,y:290,textAnchor:"middle",className:"text-secondary",fontSize:"12",children:"Tempo"}),E.jsx("text",{x:15,y:300/2,textAnchor:"middle",className:"text-secondary",fontSize:"12",transform:`rotate(-90 15 ${300/2})`,children:"Voto"}),o.map((B,K)=>E.jsx("text",{x:A(K),y:w(B.value)-10,textAnchor:"middle",className:"text-primary",fontSize:"10",fontWeight:"bold",children:B.value},B.id))]})})()})]})},IO={it:{dashboard:"Dashboard",profile:"Profilo",content:"Contenuti",settings:"Impostazioni",logout:"Esci",addNewVote:"Aggiungi Nuovo Voto",yourVotes:"I Tuoi Voti",voteValue:"Valore Voto",subject:"Materia",type:"Tipo",weight:"Peso (%)",includeAverage:"Includi nella media",addVote:"Aggiungi Voto",totalArithmeticAverage:"Media Aritmetica Totale",totalOralWrittenAverage:"Media Orale-Scritta Totale",subjectAverages:"Medie per Materia",scritto:"Scritto",orale:"Orale",altro:"Altro",askWill:"Chiedi a Will...",willThinking:"Will sta pensando...",profileSettings:"Impostazioni Profilo",fullName:"Nome Completo",edit:"Modifica",save:"Salva",cancel:"Annulla",accountInfo:"Informazioni Account",email:"Email",account:"Account",theme:"Tema",light:"Chiaro",dark:"Scuro",language:"Lingua",contentComingSoon:"Funzione condivisione contenuti in arrivo!",contentDescription:"Questa sezione ti permetter di condividere video educativi e risorse con altri studenti.",madeBy:"Creato da",recent:"Recenti",more:"Altro",extending:"Estendendo...",share:"Condividi"},en:{dashboard:"Dashboard",profile:"Profile",content:"Content",settings:"Settings",logout:"Logout",addNewVote:"Add New Vote",yourVotes:"Your Votes",voteValue:"Vote Value",subject:"Subject",type:"Type",weight:"Weight (%)",includeAverage:"Include in average",addVote:"Add Vote",totalArithmeticAverage:"Total Arithmetic Average",totalOralWrittenAverage:"Total Oral-Written Average",subjectAverages:"Subject Averages",scritto:"Written",orale:"Oral",altro:"Other",askWill:"Ask Will...",willThinking:"Will is thinking...",profileSettings:"Profile Settings",fullName:"Full Name",edit:"Edit",save:"Save",cancel:"Cancel",accountInfo:"Account Information",email:"Email",account:"Account",theme:"Theme",light:"Light",dark:"Dark",language:"Language",contentComingSoon:"Content sharing feature coming soon!",contentDescription:"This section will allow you to share educational videos and resources with other students.",madeBy:"Made by",recent:"Recent",more:"More",extending:"Extending...",share:"Share"}},CO=()=>{var ut;const{user:s,isLoading:e}=uO(),[n,r]=ge.useState(!1),[o,u]=ge.useState(()=>localStorage.getItem("theme")||"light"),[f,m]=ge.useState(!1),[g,y]=ge.useState(!1),[b,A]=ge.useState(!1),[w,P]=ge.useState(!1),[B,K]=ge.useState(!1),[Q,te]=ge.useState([]),[ne,ee]=ge.useState("dashboard"),[ue,ce]=ge.useState(null),[Ee,x]=ge.useState(null),[R]=ge.useState(()=>localStorage.getItem("language")||"it"),I=IO[R];ge.useEffect(()=>{document.documentElement.classList.toggle("light-theme",o==="light"),document.documentElement.classList.toggle("dark-theme",o==="dark"),localStorage.setItem("theme",o)},[o]),ge.useEffect(()=>{localStorage.setItem("language",R)},[R]),ge.useEffect(()=>{if(s){const H=WE(um,"users",s.uid,"votes"),ie=XD(H,WD("date","desc")),de=iO(ie,Ue=>{const qe=Ue.docs.map(M=>{var X;return{id:M.id,...M.data(),date:((X=M.data().date)==null?void 0:X.toDate().toISOString())||new Date().toISOString()}});te(qe)});return()=>de()}else te([])},[s]),ge.useEffect(()=>(w||g||b?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[w,g,b]),ge.useEffect(()=>{const H=ie=>{const de=ie.target;!de.closest(".dropdown-menu")&&!de.closest(".btn-pill")&&m(!1)};return f&&document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[f]);const V=async H=>{if(!s){alert("Devi essere loggato per aggiungere un voto.");return}try{const ie={...H,date:rO()};await nO(WE(um,"users",s.uid,"votes"),ie)}catch(ie){console.error("Error adding vote: ",ie),alert("Errore nell'aggiunta del voto.")}},O=async H=>{if(!s){alert("Devi essere loggato per eliminare un voto.");return}try{await tO(P1(um,"users",s.uid,"votes",H))}catch(ie){console.error("Error deleting vote: ",ie),alert("Errore nell'eliminazione del voto.")}},U=()=>{u(H=>H==="light"?"dark":"light")},C=async()=>{try{await c2(oo)}catch(H){console.error("Error signing out:",H)}},et=()=>E.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[o==="dark"?E.jsx("path",{d:"M12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8V16Z"}):E.jsx("path",{d:"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18Z"}),E.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12C20 16.4183 16.4183 20 12 20Z"})]});return e?E.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:E.jsx("div",{children:"Loading..."})}):s?E.jsxs(E.Fragment,{children:[w&&E.jsx("div",{className:"modal-backdrop",onClick:H=>H.target===H.currentTarget&&P(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",overflowY:"auto"},children:E.jsxs("div",{className:"modal-content",style:{maxWidth:"500px",width:"100%",padding:"1.5rem",background:"var(--surface)",borderRadius:"20px",border:"1px solid var(--border)",boxShadow:"none"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h2",{className:"text-xl font-semibold",children:"Aggiungi Voto"}),E.jsx("button",{onClick:()=>P(!1),className:"btn btn-icon btn-secondary",children:E.jsx($c,{size:16})})]}),E.jsx(dO,{onAddVote:H=>{V(H),P(!1)}})]})}),g&&E.jsx("div",{className:"modal-backdrop",onClick:H=>H.target===H.currentTarget&&y(!1),children:E.jsxs("div",{className:"modal-content",style:{maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",padding:"1.5rem"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[E.jsx(Ev,{size:20}),"Impostazioni"]}),E.jsx("button",{onClick:()=>y(!1),className:"btn btn-icon btn-secondary",children:E.jsx($c,{size:16})})]}),E.jsx("div",{className:"flex flex-col gap-6",children:E.jsxs("div",{className:"form-group",children:[E.jsx("label",{className:"form-label",children:"Tema"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>u("light"),className:`btn btn-medium flex-1 ${o==="light"?"btn-primary":"btn-secondary"}`,style:{borderWidth:o==="light"?"2px":"1px"},children:"Chiaro"}),E.jsx("button",{onClick:()=>u("dark"),className:`btn btn-medium flex-1 ${o==="dark"?"btn-primary":"btn-secondary"}`,style:{borderWidth:o==="dark"?"2px":"1px"},children:"Scuro"})]})]})})]})}),b&&E.jsx("div",{className:"modal-backdrop",onClick:H=>H.target===H.currentTarget&&A(!1),children:E.jsxs("div",{className:"modal-content",style:{maxWidth:"500px",width:"90%",maxHeight:"80vh",overflow:"auto",padding:"1.5rem"},children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[E.jsx(qr,{size:20}),I.profile]}),E.jsx("button",{onClick:()=>A(!1),className:"btn btn-icon btn-secondary",children:E.jsx($c,{size:16})})]}),E.jsx(EO,{user:s})]})}),E.jsxs("div",{children:[E.jsxs("header",{className:"app-header",children:[E.jsx("div",{className:"logo-container",children:E.jsx("h1",{children:"MarkStats"})}),E.jsxs("nav",{className:"nav mx-4 desktop-nav",children:[E.jsx("button",{onClick:()=>ee("dashboard"),className:`nav-tab ${ne==="dashboard"?"active":""}`,style:{borderWidth:ne==="dashboard"?"2px":"1px"},children:I.dashboard}),E.jsx("button",{onClick:()=>ee("votes"),className:`nav-tab ${ne==="votes"?"active":""}`,style:{borderWidth:ne==="votes"?"2px":"1px"},children:"Voti"}),E.jsx("button",{onClick:()=>ee("content"),className:`nav-tab ${ne==="content"?"active":""}`,style:{borderWidth:ne==="content"?"2px":"1px"},children:I.content})]}),E.jsx("button",{className:"mobile-menu-toggle",onClick:()=>K(!B),style:{display:"none"},children:E.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})})}),E.jsx("div",{className:"header-controls",children:E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>m(!f),className:"btn-pill","aria-label":"User menu",style:{padding:"8px 12px",backgroundColor:"var(--surface)",color:"var(--text-primary)",border:"1px solid var(--border)"},children:[E.jsx(qr,{size:14}),E.jsx("span",{style:{marginLeft:"8px",marginRight:"8px"},children:s.displayName||((ut=s.email)==null?void 0:ut.split("@")[0])||"User"}),E.jsx("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"currentColor",style:{transform:f?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease"},children:E.jsx("path",{d:"M6 8L2 4h8l-4 4z"})})]}),f&&E.jsxs("div",{className:"dropdown-menu",children:[E.jsxs("button",{onClick:()=>{A(!0),m(!1)},className:"dropdown-item",children:[E.jsx(qr,{size:16}),I.profile]}),E.jsxs("button",{onClick:()=>{y(!0),m(!1)},className:"dropdown-item",children:[E.jsx(Ev,{size:16}),I.settings]}),E.jsx("div",{className:"dropdown-divider"}),E.jsxs("button",{onClick:()=>{C(),m(!1)},className:"dropdown-item danger",children:[E.jsx(hS,{size:16}),I.logout]})]})]})})]}),B&&E.jsx("div",{className:"mobile-menu-overlay",onClick:()=>K(!1),children:E.jsxs("div",{className:"mobile-menu",onClick:H=>H.stopPropagation(),children:[E.jsx("button",{onClick:()=>{ee("dashboard"),K(!1)},className:`mobile-menu-item ${ne==="dashboard"?"active":""}`,children:I.dashboard}),E.jsx("button",{onClick:()=>{ee("votes"),K(!1)},className:`mobile-menu-item ${ne==="votes"?"active":""}`,children:"Voti"}),E.jsx("button",{onClick:()=>{ee("content"),K(!1)},className:`mobile-menu-item ${ne==="content"?"active":""}`,children:I.content})]})}),E.jsxs("main",{children:[ne==="dashboard"&&E.jsxs(E.Fragment,{children:[E.jsx(rT,{votes:Q}),E.jsxs("div",{className:"mt-8",children:[E.jsx(sT,{votes:Q}),E.jsx("div",{className:"mt-8",children:E.jsx(W1,{votes:Q})})]})]}),ne==="votes"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex justify-end mb-6",children:E.jsxs("button",{onClick:()=>P(!0),className:"btn btn-primary flex items-center gap-2",style:{padding:"12px 20px",fontSize:"1.1rem",borderRadius:"16px"},children:[E.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:E.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"})}),"Aggiungi Voto"]})}),E.jsx(rT,{votes:Q}),E.jsx("div",{className:"mt-8",children:E.jsx(sT,{votes:Q})}),E.jsx("div",{className:"mt-8",children:E.jsx(mO,{votes:Q,onDeleteVote:O})})]}),ne==="content"&&E.jsx(E.Fragment,{children:ue?Ee?E.jsx(RO,{topicId:Ee,onBack:()=>x(null),votes:Q}):E.jsx(SO,{subject:ue,onBack:()=>ce(null),onTopicSelect:x}):E.jsx(AO,{onSubjectSelect:ce})})]}),E.jsx("footer",{className:"sticky-footer",children:E.jsx("p",{className:"footer-text m-0",children:"Creato da lollo21"})}),E.jsx("nav",{className:"mobile-bottom-nav",children:E.jsxs("div",{className:"nav",children:[E.jsxs("button",{onClick:()=>ee("dashboard"),className:`mobile-nav-item ${ne==="dashboard"?"active":""}`,children:[E.jsx(uS,{size:20}),E.jsx("span",{children:I.dashboard})]}),E.jsxs("button",{onClick:()=>ee("votes"),className:`mobile-nav-item ${ne==="votes"?"active":""}`,children:[E.jsx(JA,{size:20}),E.jsx("span",{children:"Voti"})]}),E.jsxs("button",{onClick:()=>ee("content"),className:`mobile-nav-item ${ne==="content"?"active":""}`,children:[E.jsx(uT,{size:20}),E.jsx("span",{children:I.content})]})]})})]})]}):E.jsxs("div",{children:[E.jsxs("header",{className:"app-header",children:[E.jsx("div",{className:"logo-container",children:E.jsx("h1",{children:"MarkStats"})}),E.jsxs("div",{className:"header-controls",children:[E.jsx("button",{onClick:U,className:"theme-toggle","aria-label":`Switch to ${o==="light"?"dark":"light"} mode`,children:E.jsx(et,{})}),E.jsx("button",{onClick:()=>r(!0),className:"user-toggle","aria-label":"User account",children:E.jsx(qr,{size:16})})]})]}),E.jsxs("main",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"calc(100vh - 120px)"},children:[E.jsx("h2",{children:"Welcome to MarkStats"}),E.jsx("p",{children:"Please sign in with your Doot Inc. account to continue."}),E.jsx("button",{onClick:()=>r(!0),style:{padding:"12px 24px",borderRadius:"12px",border:"none",background:"var(--accent)",color:"var(--bg)",fontSize:"1rem",fontWeight:"500",cursor:"pointer",marginTop:"1rem"},children:"Sign In"})]}),E.jsx(cO,{isOpen:n,onClose:()=>r(!1)})]})},J1=document.getElementById("root");if(!J1)throw new Error("Could not find root element to mount to");const NO=BA.createRoot(J1);NO.render(E.jsx(MA.StrictMode,{children:E.jsx(CO,{})}));
